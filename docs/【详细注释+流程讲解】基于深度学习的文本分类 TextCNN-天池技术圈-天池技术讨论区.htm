<!DOCTYPE html>
<!-- saved from url=(0057)https://tianchi.aliyun.com/forum/postDetail?postId=122736 -->
<html data-dpr="1" style="font-size: 144px;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="data-spm" content="5176">
  
  
    
      <title>【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区</title>
    
  <meta name="keyword" content="【详细注释+流程讲解】基于深度学习的文本分类 TextCNN,天池技术圈,天池技术讨论区,天池开发者社区,阿里云天池">
  <meta name="description" content="【详细注释+流程讲解】基于深度学习的文本分类 TextCNN: &amp;gt; 不知道为什么天池发出来的文章看不了图片，导致我画的所有网络结构图都显示不出来，如果有需要，可以**通过以下方式查看能显示图片的文章**。
&amp;gt; - github: [https://github.com/zhangxiann/...">
  
  <style>
  .forSEO{display:none;}
  ._tianchi .aliyun-header .aliyun-tianchi-logo img{
    height: 22px;
  }
  ._tianchi .login-info li, ._tianchi .reg-info li{
    padding: 0 30px;
  }
  ._tianchi .aliyun-header .login-reg li.reg{
    padding: 0 40px;
  }
  ._tianchi .aliyun-header .aliyun-tianchi-logo > a,
  ._tianchi .aliyun-header .login-reg > li > a,
  ._tianchi .aliyun-header .login-reg-login > li > a,
  ._tianchi .aliyun-header .login-reg > li{
    line-height: 48px;
  }
  .footer {
    padding: 0 !important;
  }
  </style>
  <script type="text/javascript" async="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/entry.js"></script><script type="text/javascript" async="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/index.js"></script><script type="text/javascript" async="" charset="utf-8" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/core.php"></script><script type="text/javascript" async="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/aplus_ae.js"></script><script type="text/javascript" async="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/index(1).js" id="aplus-sufei"></script><script src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/push.js"></script><script nonce="">/*! 2020-12-24 10:00:05 v8.14.8 */
!function(e){function i(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}var o={};return i.m=e,i.c=o,i.p="",i(0)}([function(e,i){"use strict";var o=window,n=document;!function(){var e=2,r="ali_analytics";if(o[r]&&o[r].ua&&e<=o[r].ua.version)return void(i.info=o[r].ua);var t,a,d,s,c,u,h,l,m,b,f,v,p,w,g,x,z,O=o.navigator,k=O.appVersion,T=O&&O.userAgent||"",y=function(e){var i=0;return parseFloat(e.replace(/\./g,function(){return 0===i++?".":""}))},_=function(e,i){var o,n;i[o="trident"]=.1,(n=e.match(/Trident\/([\d.]*)/))&&n[1]&&(i[o]=y(n[1])),i.core=o},N=function(e){var i,o;return(i=e.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(o=i[1]||i[2])?y(o):0},P=function(e){return e||"other"},M=function(e){function i(){for(var i=[["Windows NT 5.1","winXP"],["Windows NT 6.1","win7"],["Windows NT 6.0","winVista"],["Windows NT 6.2","win8"],["Windows NT 10.0","win10"],["iPad","ios"],["iPhone;","ios"],["iPod","ios"],["Macintosh","mac"],["Android","android"],["Ubuntu","ubuntu"],["Linux","linux"],["Windows NT 5.2","win2003"],["Windows NT 5.0","win2000"],["Windows","winOther"],["rhino","rhino"]],o=0,n=i.length;o<n;++o)if(e.indexOf(i[o][0])!==-1)return i[o][1];return"other"}function r(e,i,n,r){var t,a=o.navigator.mimeTypes;try{for(t in a)if(a.hasOwnProperty(t)&&a[t][e]==i){if(void 0!==n&&r.test(a[t][n]))return!0;if(void 0===n)return!0}return!1}catch(e){return!1}}var t,a,d,s,c,u,h,l="",m=l,b=l,f=[6,9],v="{{version}}",p="<!--[if IE "+v+"]><s></s><![endif]-->",w=n&&n.createElement("div"),g=[],x={webkit:void 0,edge:void 0,trident:void 0,gecko:void 0,presto:void 0,chrome:void 0,safari:void 0,firefox:void 0,ie:void 0,ieMode:void 0,opera:void 0,mobile:void 0,core:void 0,shell:void 0,phantomjs:void 0,os:void 0,ipad:void 0,iphone:void 0,ipod:void 0,ios:void 0,android:void 0,nodejs:void 0,extraName:void 0,extraVersion:void 0};if(w&&w.getElementsByTagName&&(w.innerHTML=p.replace(v,""),g=w.getElementsByTagName("s")),g.length>0){for(_(e,x),s=f[0],c=f[1];s<=c;s++)if(w.innerHTML=p.replace(v,s),g.length>0){x[b="ie"]=s;break}!x.ie&&(d=N(e))&&(x[b="ie"]=d)}else((a=e.match(/AppleWebKit\/*\s*([\d.]*)/i))||(a=e.match(/Safari\/([\d.]*)/)))&&a[1]?(x[m="webkit"]=y(a[1]),(a=e.match(/OPR\/(\d+\.\d+)/))&&a[1]?x[b="opera"]=y(a[1]):(a=e.match(/Chrome\/([\d.]*)/))&&a[1]?x[b="chrome"]=y(a[1]):(a=e.match(/\/([\d.]*) Safari/))&&a[1]?x[b="safari"]=y(a[1]):x.safari=x.webkit,(a=e.match(/Edge\/([\d.]*)/))&&a[1]&&(m=b="edge",x[m]=y(a[1])),/ Mobile\//.test(e)&&e.match(/iPad|iPod|iPhone/)?(x.mobile="apple",a=e.match(/OS ([^\s]*)/),a&&a[1]&&(x.ios=y(a[1].replace("_","."))),t="ios",a=e.match(/iPad|iPod|iPhone/),a&&a[0]&&(x[a[0].toLowerCase()]=x.ios)):/ Android/i.test(e)?(/Mobile/.test(e)&&(t=x.mobile="android"),a=e.match(/Android ([^\s]*);/),a&&a[1]&&(x.android=y(a[1]))):(a=e.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))&&(x.mobile=a[0].toLowerCase()),(a=e.match(/PhantomJS\/([^\s]*)/))&&a[1]&&(x.phantomjs=y(a[1]))):(a=e.match(/Presto\/([\d.]*)/))&&a[1]?(x[m="presto"]=y(a[1]),(a=e.match(/Opera\/([\d.]*)/))&&a[1]&&(x[b="opera"]=y(a[1]),(a=e.match(/Opera\/.* Version\/([\d.]*)/))&&a[1]&&(x[b]=y(a[1])),(a=e.match(/Opera Mini[^;]*/))&&a?x.mobile=a[0].toLowerCase():(a=e.match(/Opera Mobi[^;]*/))&&a&&(x.mobile=a[0]))):(d=N(e))?(x[b="ie"]=d,_(e,x)):(a=e.match(/Gecko/))&&(x[m="gecko"]=.1,(a=e.match(/rv:([\d.]*)/))&&a[1]&&(x[m]=y(a[1]),/Mobile|Tablet/.test(e)&&(x.mobile="firefox")),(a=e.match(/Firefox\/([\d.]*)/))&&a[1]&&(x[b="firefox"]=y(a[1])));t||(t=i());var z,O,T;if(!r("type","application/vnd.chromium.remoting-viewer")){z="scoped"in n.createElement("style"),T="v8Locale"in o;try{O=o.external||void 0}catch(e){}if(a=e.match(/360SE/))u="360";else if((a=e.match(/SE\s([\d.]*)/))||O&&"SEVersion"in O)u="sougou",h=y(a[1])||.1;else if((a=e.match(/Maxthon(?:\/)+([\d.]*)/))&&O){u="maxthon";try{h=y(O.max_version||a[1])}catch(e){h=.1}}else z&&T?u="360se":z||T||!/Gecko\)\s+Chrome/.test(k)||x.opera||x.edge||(u="360ee")}(a=e.match(/TencentTraveler\s([\d.]*)|QQBrowser\/([\d.]*)/))?(u="tt",h=y(a[2])||.1):(a=e.match(/LBBROWSER/))||O&&"LiebaoGetVersion"in O?u="liebao":(a=e.match(/TheWorld/))?(u="theworld",h=3):(a=e.match(/TaoBrowser\/([\d.]*)/))?(u="taobao",h=y(a[1])||.1):(a=e.match(/UCBrowser\/([\d.]*)/))&&(u="uc",h=y(a[1])||.1),x.os=t,x.core=x.core||m,x.shell=b,x.ieMode=x.ie&&n.documentMode||x.ie,x.extraName=u,x.extraVersion=h;var P=o.screen.width,M=o.screen.height;return x.resolution=P+"x"+M,x},S=function(e){function i(e){return Object.prototype.toString.call(e)}function o(e,o,n){if("[object Function]"==i(o)&&(o=o(n)),!o)return null;var r={name:e,version:""},t=i(o);if(o===!0)return r;if("[object String]"===t){if(n.indexOf(o)!==-1)return r}else if(o.exec){var a=o.exec(n);if(a)return a.length>=2&&a[1]?r.version=a[1].replace(/_/g,"."):r.version="",r}}var n={name:"other",version:""};e=(e||"").toLowerCase();for(var r=[["nokia",function(e){return e.indexOf("nokia ")!==-1?/\bnokia ([0-9]+)?/:/\bnokia([a-z0-9]+)?/}],["samsung",function(e){return e.indexOf("samsung")!==-1?/\bsamsung(?:[ \-](?:sgh|gt|sm))?-([a-z0-9]+)/:/\b(?:sgh|sch|gt|sm)-([a-z0-9]+)/}],["wp",function(e){return e.indexOf("windows phone ")!==-1||e.indexOf("xblwp")!==-1||e.indexOf("zunewp")!==-1||e.indexOf("windows ce")!==-1}],["pc","windows"],["ipad","ipad"],["ipod","ipod"],["iphone",/\biphone\b|\biph(\d)/],["mac","macintosh"],["mi",/\bmi[ \-]?([a-z0-9 ]+(?= build|\)))/],["hongmi",/\bhm[ \-]?([a-z0-9]+)/],["aliyun",/\baliyunos\b(?:[\-](\d+))?/],["meizu",function(e){return e.indexOf("meizu")>=0?/\bmeizu[\/ ]([a-z0-9]+)\b/:/\bm([0-9x]{1,3})\b/}],["nexus",/\bnexus ([0-9s.]+)/],["huawei",function(e){var i=/\bmediapad (.+?)(?= build\/huaweimediapad\b)/;return e.indexOf("huawei-huawei")!==-1?/\bhuawei\-huawei\-([a-z0-9\-]+)/:i.test(e)?i:/\bhuawei[ _\-]?([a-z0-9]+)/}],["lenovo",function(e){return e.indexOf("lenovo-lenovo")!==-1?/\blenovo\-lenovo[ \-]([a-z0-9]+)/:/\blenovo[ \-]?([a-z0-9]+)/}],["zte",function(e){return/\bzte\-[tu]/.test(e)?/\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/:/\bzte[ _\-]?([a-su-z0-9\+]+)/}],["vivo",/\bvivo(?: ([a-z0-9]+))?/],["htc",function(e){return/\bhtc[a-z0-9 _\-]+(?= build\b)/.test(e)?/\bhtc[ _\-]?([a-z0-9 ]+(?= build))/:/\bhtc[ _\-]?([a-z0-9 ]+)/}],["oppo",/\boppo[_]([a-z0-9]+)/],["konka",/\bkonka[_\-]([a-z0-9]+)/],["sonyericsson",/\bmt([a-z0-9]+)/],["coolpad",/\bcoolpad[_ ]?([a-z0-9]+)/],["lg",/\blg[\-]([a-z0-9]+)/],["android",/\bandroid\b|\badr\b/],["blackberry",function(e){return e.indexOf("blackberry")>=0?/\bblackberry\s?(\d+)/:"bb10"}]],t=0;t<r.length;t++){var a=r[t][0],d=r[t][1],s=o(a,d,e);if(s){n=s;break}}return n},E=1;try{t=M(T),a=S(T),d=t.os,s=t.shell,c=t.core,u=t.resolution,h=t.extraName,l=t.extraVersion,m=a.name,b=a.version,v=d?d+(t[d]?t[d]:""):"",p=s?s+parseInt(t[s]):"",w=c,g=u,x=h?h+(l?parseInt(l):""):"",z=m+b}catch(e){}f={p:E,o:P(v),b:P(p),w:P(w),s:g,mx:x,ism:z},o[r]||(o[r]={}),o[r].ua||(o[r].ua={}),o.goldlog||(o.goldlog={}),i.info=o[r].ua=goldlog._aplus_client={version:e,ua_info:f}}()}]);/*! 2017-10-31 20:15:15 v0.2.4 */
!function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";!function(){var t=window.goldlog||(window.goldlog={});t._aplus_cplugin_utilkit||(t._aplus_cplugin_utilkit={status:"init"},n(1).init(t),t._aplus_cplugin_utilkit.status="complete")}()},function(t,e,n){"use strict";var o=n(2),i=n(4);e.init=function(t){t.setCookie=o.setCookie,t.getCookie=o.getCookie,t.on=i.on}},function(t,e,n){"use strict";var o=document,i=n(3),a=function(t){var e=new RegExp("(?:^|;)\\s*"+t+"=([^;]+)"),n=o.cookie.match(e);return n?n[1]:""};e.getCookie=a;var r=function(t,e,n){n||(n={});var i=new Date;return n.expires&&("number"==typeof n.expires||n.expires.toUTCString)?("number"==typeof n.expires?i.setTime(i.getTime()+24*n.expires*60*60*1e3):i=n.expires,e+="; expires="+i.toUTCString()):"session"!==n.expires&&(i.setTime(i.getTime()+63072e7),e+="; expires="+i.toUTCString()),e+="; path="+(n.path?n.path:"/"),e+="; domain="+n.domain,o.cookie=t+"="+e,a(t)};e.setCookie=function(t,e,n){try{if(n||(n={}),n.domain)r(t,e,n);else for(var o=i.getDomains(),a=0;a<o.length;)n.domain=o[a],r(t,e,n)?a=o.length:a++}catch(t){}}},function(t,e){"use strict";e.getDomains=function(){var t=[];try{for(var e=location.hostname,n=e.split("."),o=2;o<=n.length;)t.push(n.slice(n.length-o).join(".")),o++}catch(t){}return t}},function(t,e){"use strict";var n=window,o=document,i=!!o.attachEvent,a="attachEvent",r="addEventListener",c=i?a:r,u=function(t,e){var n=goldlog._$||{},o=n.meta_info||{},i=o.aplus_ctap||{};if(i&&"function"==typeof i.on)i.on(t,e);else{var a="ontouchend"in document.createElement("div"),r=a?"touchstart":"mousedown";s(t,r,e)}},s=function(t,e,o){return"tap"===e?void u(t,o):void t[c]((i?"on":"")+e,function(t){t=t||n.event;var e=t.target||t.srcElement;"function"==typeof o&&o(t,e)},!1)};e.on=s;var d=function(t){try{o.documentElement.doScroll("left")}catch(e){return void setTimeout(function(){d(t)},1)}t()},l=function(t){var e=0,n=function(){0===e&&t(),e++};"complete"===o.readyState&&n();var i;if(o.addEventListener)i=function(){o.removeEventListener("DOMContentLoaded",i,!1),n()},o.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",n,!1);else if(o.attachEvent){i=function(){"complete"===o.readyState&&(o.detachEvent("onreadystatechange",i),n())},o.attachEvent("onreadystatechange",i),window.attachEvent("onload",n);var a=!1;try{a=null===window.frameElement}catch(t){}o.documentElement.doScroll&&a&&d(n)}};e.DOMReady=function(t){l(t)},e.onload=function(t){"complete"===o.readyState?t():s(n,"load",t)}}]);!function(o){function t(r){if(e[r])return e[r].exports;var a=e[r]={exports:{},id:r,loaded:!1};return o[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var e={};return t.m=o,t.c=e,t.p="",t(0)}([function(o,t,e){"use strict";!function(){var o=window.goldlog||(window.goldlog={});o._aplus_cplugin_m||(o._aplus_cplugin_m=e(1).run())}()},function(o,t,e){"use strict";var r=e(2),a=e(3),n=e(4),s=navigator.sendBeacon?"post":"get";e(5).run(),t.run=function(){return{status:"complete",do_tracker_jserror:function(o){try{var t=new n({logkey:o?o.logkey:"",ratio:o&&"number"==typeof o.ratio&&o.ratio>0?o.ratio:r.jsErrorRecordRatio}),e=["Message: "+o.message,"Error object: "+o.error,"Url: "+location.href].join(" - "),c=goldlog.spm_ab||[],i=location.hostname+location.pathname;t.run({code:110,page:i,msg:"record_jserror_by"+s+"_"+o.message,spm_a:c[0],spm_b:c[1],c1:e,c2:o.filename,c3:location.protocol+"//"+i,c4:goldlog.pvid||"",c5:o.logid||""})}catch(o){a.logger({msg:o})}},do_tracker_lostpv:function(o){var t=!1;try{if(o&&o.page){var e=o.spm_ab?o.spm_ab.split("."):[],c="record_lostpv_by"+s+"_"+o.msg,i=new n({ratio:o.ratio||r.lostPvRecordRatio});i.run({code:102,page:o.page,msg:c,spm_a:e[0],spm_b:e[1],c1:o.duration,c2:o.page_url}),t=!0}}catch(o){a.logger({msg:o})}return t},do_tracker_obsolete_inter:function(o){var t=!1;try{if(o&&o.page){var e=o.spm_ab?o.spm_ab.split("."):[],c="record_obsolete interface be called by"+s,i=new n({ratio:o.ratio||r.obsoleteInterRecordRatio});i.run({code:109,page:o.page,msg:c,spm_a:e[0],spm_b:e[1],c1:o.interface_name,c2:o.interface_params},1),t=!0}}catch(o){a.logger({msg:o})}return t},do_tracker_browser_support:function(o){var t=!1;try{if(o&&o.page){var e=o.spm_ab?o.spm_ab.split("."):[],c=new n({ratio:o.ratio||r.browserSupportRatio}),i=goldlog._aplus_client||{},l=i.ua_info||{};c.run({code:111,page:o.page,msg:o.msg+"_by"+s,spm_a:e[0],spm_b:e[1],c1:[l.o,l.b,l.w].join("_"),c2:o.etag||"",c3:o.cna||""}),t=!0}}catch(o){a.logger({msg:o})}return t},do_tracker_common_analysis:function(o){var t=!1;try{if(o&&o.page){var e=o.spm_ab?o.spm_ab.split("."):[],c=new n({ratio:o.ratio||r.browserSupportRatio}),i=goldlog._aplus_client||{},l=i.ua_info||{};c.run({code:113,page:o.page,msg:o.msg+"_by"+s,spm_a:e[0],spm_b:e[1],c1:[l.o,l.b,l.w].join("_"),c2:o.init_time||"",c3:o.wspv_time||0,c4:o.load_time||0,c5:o.channel_type}),t=!0}}catch(o){a.logger({msg:o})}return t}}}},function(o,t){"use strict";t.lostPvRecordRatio="0.01",t.obsoleteInterRecordRatio="0.001",t.jsErrorRecordRatio="0.001",t.browserSupportRatio="0.001",t.goldlogQueueRatio="0.01"},function(o,t){"use strict";var e=function(o){var t=o.level||"warn";window.console&&window.console[t]&&window.console[t](o.msg)};t.logger=e,t.assign=function(o,t){if("function"!=typeof Object.assign){var e=function(o){if(null===o)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(o),e=1;e<arguments.length;e++){var r=arguments[e];if(null!==r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t};return e(o,t)}return Object.assign({},o,t)},t.makeCacheNum=function(){return Math.floor(268435456*Math.random()).toString(16)},t.obj2param=function(o){var t,e,r=[];for(t in o)o.hasOwnProperty(t)&&(e=""+o[t],r.push(t+"="+encodeURIComponent(e)));return r.join("&")}},function(o,t,e){var r=e(3),a={ratio:1,logkey:"fsp.1.1",gmkey:"",chksum:"H46747615"},n=function(o){o&&"object"==typeof o||(o=a),this.opts=o,this.opts.ratio=o.ratio||a.ratio,this.opts.logkey=o.logkey||a.logkey,this.opts.gmkey=o.gmkey||a.gmkey,this.opts.chksum=o.chksum||a.chksum},s=n.prototype;s.getRandom=function(){return Math.floor(1e3*Math.random())+1},s.run=function(o,t){var e,a,n={pid:"aplus",code:101,msg:"异常内容"},s="";try{var c=window.goldlog||{},i=c._$||{},l=i.meta_info||{},g=parseFloat(l["aplus-tracker-rate"]);if(e=this.opts||{},"number"==typeof g&&g+""!="NaN"||(g=e.ratio),a=this.getRandom(),t||a<=1e3*g){s="//gm.mmstat.com/"+e.logkey,o.rel=i.script_name+"@"+c.lver,o.type=o.code,o.uid=encodeURIComponent(c.getCookie("cna")),o=r.assign(n,o);var u=r.obj2param(o);c.tracker=c.send(s,{cache:r.makeCacheNum(),gokey:u,logtype:"2"},"POST")}}catch(o){r.logger({msg:"tracker.run() exec error: "+o})}},o.exports=n},function(o,t,e){"use strict";var r=e(6),a=function(o){var t=window.goldlog||{},e=t._$=t._$||{},r=t.spm_ab?t.spm_ab.join("."):"0.0",a=e.send_pv_count||0;if(a<1&&navigator&&navigator.sendBeacon){var n=window.goldlog_queue||(window.goldlog_queue=[]),s=location.hostname+location.pathname;n.push({action:["goldlog","_aplus_cplugin_m","do_tracker_lostpv"].join("."),arguments:[{page:s,page_url:location.protocol+"//"+s,duration:o,spm_ab:r,msg:"dom_state="+document.readyState}]})}};t.run=function(){var o=new Date;r.on(window,"beforeunload",function(){var t=new Date,e=t.getTime()-o.getTime();a(e)})}},function(o,t){"use strict";var e=self,r=e.document,a=!!r.attachEvent,n="attachEvent",s="addEventListener",c=a?n:s;t.getIframeUrl=function(o){var t,e="//g.alicdn.com";return t=goldlog&&"function"==typeof goldlog.getCdnPath?goldlog.getCdnPath()||e:e,(o||"https")+":"+t+"/alilog/aplus_cplugin/@@APLUS_CPLUGIN_VER/ls.html?t=@@_VERSION_"},t.on=function(o,t,r){o[c]((a?"on":"")+t,function(o){o=o||e.event;var t=o.target||o.srcElement;"function"==typeof r&&r(o,t)},!1)},t.checkLs=function(){var o;try{window.localStorage&&(localStorage.setItem("test_log_cna","1"),"1"===localStorage.getItem("test_log_cna")&&(localStorage.removeItem("test_log_cna"),o=!0))}catch(t){o=!1}return o},t.tracker_iframe_status=function(o,t){var e=window.goldlog_queue||(window.goldlog_queue=[]),r=goldlog.spm_ab?goldlog.spm_ab.join("."):"",a="createIframe_"+t.status+"_id="+o;t.msg&&(a+="_"+t.msg),e.push({action:"goldlog._aplus_cplugin_m.do_tracker_browser_support",arguments:[{page:location.hostname+location.pathname,msg:a,browser_attr:navigator.userAgent,spm_ab:r,cna:t.duration||"",ratio:1}]})},t.tracker_ls_failed=function(){var o=window.goldlog_queue||(window.goldlog_queue=[]),t=goldlog.spm_ab?goldlog.spm_ab.join("."):"";o.push({action:"goldlog._aplus_cplugin_m.do_tracker_browser_support",arguments:[{page:location.hostname+location.pathname,msg:"donot support localStorage",browser_attr:navigator.userAgent,spm_ab:t}]})},t.processMsgData=function(o){var t={};try{var e="{}";e="TextEncoder"in window&&"object"==typeof o?new window.TextDecoder("utf-8").decode(o):o,t=JSON.parse(e)}catch(o){t={}}return t},t.do_pub_fn=function(o,t){var e=window.goldlog_queue||(window.goldlog_queue=[]);e.push({action:"goldlog.aplus_pubsub.publish",arguments:[o,t]}),e.push({action:"goldlog.aplus_pubsub.cachePubs",arguments:[o,t]})}}]);/*! 2020-12-24 09:59:52 v8.14.8 */
!function(t){function e(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return t[o].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";!function(){var t=window;n(2)();var e=(n(3),n(4)),o=n(5);"ontouchend"in document.createElement("div")&&(t.goldlog_queue||(t.goldlog_queue=[])).push({action:"goldlog.setMetaInfo",arguments:["aplus-touch","tap"]});var a=function(){n(97);var e=n(99),o=n(38);if(o.doPubMsg(["goldlogReady","running"]),document.getElementsByTagName("body").length){var r="g_tb_aplus_loaded";if(t[r])return;t[r]=1,n(112).initGoldlog(e)}else setTimeout(function(){a()},50)},r=function(t,n){try{e.do_tracker_jserror({ratio:1,message:t&&t.message,error:encodeURIComponent(t&&t.stack?t.stack:""),filename:"aplusLoad"})}catch(t){}};try{a()}catch(t){r(t,o.script_name+"@"+o.lver)}}()},function(t,e){t.exports=function(){var t=window.goldlog_queue||(window.goldlog_queue=[]);try{var e=navigator.userAgent,n=/Chrome/.test(e),o=/Safari/.test(e)&&!n,a=/Firefox/.test(e);(o||n||a)&&t.push({action:"goldlog.setMetaInfo",arguments:["aplus-p-url-init",window.location.href.substring(0,850)]})}catch(t){}}},function(t,e,n){"use strict";function o(t){if(!t)return"";var e=decodeURIComponent(t).match(/cache=\w+/);return e&&1===e.length?e[0].split("=")[1]:void 0}var a=n(4),r=window;e.sendImg=function(t,e){var n=new Image,i="_img_"+Math.random();r[i]=n;var s=function(){if(r[i])try{delete r[i]}catch(t){r[i]=void 0}};return n.onload=function(){s()},n.onerror=function(){a.do_tracker_jserror({message:"loadError",error:"",filename:"sendImg",logid:o(t)}),s()},setTimeout(function(){window[i]&&(a.do_tracker_jserror({message:"loadTimeout",error:e,filename:"sendImg",logid:o(t)}),window[i].src="",s())},e||3e3),n.src=t,n=null,t},e.postData=function(t,e){for(var n in e)["cna"].indexOf(n)===-1&&(e[n]=encodeURIComponent(e[n]));return navigator.sendBeacon(t,JSON.stringify(e)),t}},function(t,e){"use strict";var n=function(t,e){var n=window.goldlog_queue||(window.goldlog_queue=[]);n.push({action:"goldlog._aplus_cplugin_track_deb.monitor",arguments:[{key:"APLUS_PLUGIN_DEBUG",title:"aplus_core",msg:["_error_:methodName="+e+",params="+JSON.stringify(t)],type:"updateMsg",description:e||"aplus_core"}]})},o=function(t,e,n){var o=window.goldlog_queue||(window.goldlog_queue=[]);o.push({action:["goldlog","_aplus_cplugin_m",e].join("."),arguments:[t,n]})};e.do_tracker_jserror=function(t,e){var a="do_tracker_jserror";o(t,a,e),n(t,a)},e.do_tracker_obsolete_inter=function(t,e){var a="do_tracker_obsolete_inter";o(t,a,e),n(t,a)},e.wrap=function(t){if("function"==typeof t)try{t()}catch(t){n({msg:t.message||t},"exception")}finally{}}},function(t,e,n){"use strict";var o=n(6),a=n(7),r=n(8);e.APLUS_ENV="production",e.lver=a.lver,e.toUtVersion=a.toUtVersion,e.script_name=a.script_name,e.recordTypes=o.recordTypes,e.KEY=o.KEY,e.context=r.context,e.context_prepv=r.context_prepv,e.aplus_init=n(16).plugins_init,e.plugins_pv=n(36).plugins_pv,e.plugins_prepv=n(66).plugins_prepv,e.context_hjlj=n(67),e.plugins_hjlj=n(69).plugins_hjlj,e.beforeUnload=n(79),e.initLoad=n(84),e.spmException=n(88),e.goldlog_path=n(89),e.is_auto_pv="true",e.utilPvid=n(93),e.disablePvid="false",e.mustSpmE=!0,e.LS_CNA_KEY="APLUS_CNA"},function(t,e){"use strict";e.recordTypes={hjlj:"COMMON_HJLJ",uhjlj:"DATACLICK_HJLJ",pv:"PV",prepv:"PREPV"},e.KEY={NAME_STORAGE:{REFERRER:"wm_referrer",REFERRER_PV_ID:"refer_pv_id",LOST_PV_PAGE_DURATION:"lost_pv_page_duration",LOST_PV_PAGE_SPMAB:"lost_pv_page_spmab",LOST_PV_PAGE:"lost_pv_page",LOST_PV_PAGE_MSG:"lost_pv_page_msg"}}},function(t,e){"use strict";e.lver="8.14.8",e.toUtVersion="v20201224",e.script_name="aplus_std"},function(t,e,n){"use strict";e.context=n(9),e.context_prepv=n(15)},function(t,e,n){"use strict";function o(){return{compose:{maxTimeout:5500},etag:{egUrl:"log.mmstat.com/eg.js",cna:i.getCookie("cna")}}}function a(){return r.assign(new s.initConfig,new o)}var r=n(10),i=n(12),s=n(14);t.exports=a},function(t,e,n){"use strict";function o(t,e){return"function"!=typeof Object.assign?function(t){if(null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!==o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e}(t,e):Object.assign({},t,e)}function a(t){return"function"==typeof t}function r(t){return"string"==typeof t}function i(t){return"undefined"==typeof t}function s(t,e){return t.indexOf(e)>-1}var u=window;e.assign=o,e.makeCacheNum=function(){return Math.floor(268435456*Math.random()).toString(16)},e.each=n(11),e.isStartWith=function(t,e){return 0===t.indexOf(e)},e.isEndWith=function(t,e){var n=t.length,o=e.length;return n>=o&&t.indexOf(e)==n-o},e.any=function(t,e){var n,o=t.length;for(n=0;n<o;n++)if(e(t[n]))return!0;return!1},e.isFunction=a,e.isArray=function(t){return Array.isArray?Array.isArray(t):/Array/.test(Object.prototype.toString.call(t))},e.isString=r,e.isNumber=function(t){return"number"==typeof t},e.isUnDefined=i,e.isContain=s;var c=function(t){var e,n=t.constructor===Array?[]:{};if("object"==typeof t){if(u.JSON&&u.JSON.parse)e=JSON.stringify(t),n=JSON.parse(e);else for(var o in t)n[o]="object"==typeof t[o]?c(t[o]):t[o];return n}};e.cloneObj=c,e.cloneDeep=c},function(t,e){"use strict";t.exports=function(t,e){var n,o=t.length;for(n=0;n<o;n++)e(t[n],n)}},function(t,e,n){"use strict";function o(t){var e=s.cookie.match(new RegExp("(?:^|;)\\s*"+t+"=([^;]+)"));return e?e[1]:""}function a(t,e,n){n||(n={});var a=new Date;return"session"===n.expires||(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)?("number"==typeof n.expires?a.setTime(a.getTime()+24*n.expires*60*60*1e3):a=n.expires,e+="; expires="+a.toUTCString()):(a.setTime(a.getTime()+63072e7),e+="; expires="+a.toUTCString())),e+="; path="+(n.path?n.path:"/"),e+="; domain="+n.domain,s.cookie=t+"="+e,n.SameSite&&/Chrome\/8\d+/.test(navigator.userAgent)&&(e+="; SameSite="+n.SameSite,e+="; Secure",s.cookie=t+"="+e),o(t)}function r(t,e,n){try{if(n||(n={}),n.domain)a(t,e,n);else for(var o=c.getDomains(),r=0;r<o.length;)n.domain=o[r],a(t,e,n)?r=o.length:r++}catch(t){}}function i(){var t={};return u.each(p,function(e){t[e]=o(e)}),t.cnaui=/\btanx\.com$/.test(l)?o("cnaui"):"",t}var s=document,u=n(10),c=n(13),l=location.hostname;e.getCookie=o,e.setCookie=r;var p=["tracknick","thw","cna"];e.getData=i,e.getHng=function(){return encodeURIComponent(o("hng")||"")}},function(t,e){"use strict";e.getDomains=function(){var t=[];try{for(var e=location.hostname,n=e.split("."),o=2;o<=n.length;)t.push(n.slice(n.length-o).join(".")),o++}catch(t){}return t}},function(t,e,n){"use strict";function o(t,e,n){var o=window.goldlog||{},s=o.getMetaInfo("aplus-ifr-pv")+""=="1";return e?r(t)?"yt":"m":n&&!s?a.isContain(t,"wrating.com")?"k":i(t)||"y":i(t)||"v"}var a=n(10),r=function(t){for(var e=["youku.com","soku.com","tudou.com","laifeng.com"],n=0;n<e.length;n++){var o=e[n];if(a.isContain(t,o))return!0}return!1},i=function(t){for(var e=[["scmp.com","sc"],["luxehomes.com.hk","sc"],["ays.com.hk","sc"],["cpjobs.com","sc"],["educationpost.com.hk","sc"],["cosmopolitan.com.hk","sc"],["elle.com.hk","sc"],["harpersbazaar.com.hk","sc"],["1688.com","6"],["youku.com","yt"],["soku.com","yt"],["tudou.com","yt"],["laifeng.com","yt"]],n=0;n<e.length;n++){var o=e[n];if(a.isContain(t,o[0]))return o[1]}return""};e.getBeaconSrc=o,e.initConfig=function(){return{compose:{},etag:{egUrl:"log.mmstat.com/eg.js",cna:"",tag:"",stag:"",lstag:"-1",lscnastatus:""},can_to_sendpv:{flag:"NO"},userdata:{},what_to_sendpv:{pvdata:{},exparams:{}},what_to_pvhash:{hash:[]},what_to_sendpv_ut:{pvdataToUt:{}},what_to_sendpv_ut2:{isSuccess:!1,pvdataToUt:{}},when_to_sendpv:{aplusWaiting:""},where_to_sendpv:{url:"//log.mmstat.com/o.gif",urlRule:o},where_to_sendlog_ut:{aplusToUT:{},toUTName:"toUT"},hjlj:{what_to_hjlj:{logdata:{}},what_to_hjlj_ut:{logdataToUT:{}}},network:{connType:"UNKNOWN"},is_single:!1}}},function(t,e,n){"use strict";function o(){return{etag:{egUrl:"log.mmstat.com/eg.js",cna:a.getCookie("cna"),tag:"",stag:""},compose:{},where_to_prepv:{url:"//log.mmstat.com/v.gif",urlRule:r.getBeaconSrc},userdata:{},what_to_prepv:{logdata:{}},what_to_hjlj_exinfo:{EXPARAMS_FLAG:"EXPARAMS",exinfo:[],exparams_key_names:["uidaplus","pc_i","pu_i"]},is_single:!1}}var a=n(12),r=n(14);t.exports=o},function(t,e,n){"use strict";e.plugins_init=[{name:"where_to_sendpv",enable:!0,path:n(17)},{name:"etag",enable:!0,path:n(32)},{name:"etag_sync",enable:!0,path:n(35)}]},function(t,e,n){"use strict";var o=n(18),a=n(26),r=n(27);t.exports=function(){return{init:function(t){this.options=t},getMetaInfo:function(){var t=a.getGoldlogVal("_$")||{},e=t.meta_info||r.getInfo();return e},getAplusMetaByKey:function(t){var e=this.getMetaInfo()||{};return e[t]},getGifPath:function(t,e){var n,r=a.getGoldlogVal("_$")||{};if("function"==typeof t)n=t(location.hostname,r.is_terminal,o.is_in_iframe)+".gif";else if(!n&&e){var i=e.match(/\/\w+\.gif/);i&&i.length>0&&(n=i[0])}return n||(n=r.is_terminal?"m.gif":"v.gif"),n},run:function(){var t=!!this.options.context.is_single;if(!t){var e=this.getAplusMetaByKey("aplus-rhost-v"),n=this.options.context.where_to_sendpv||{},a=n.url||"",r=this.getGifPath(n.urlRule,a),i=o.getPvUrl({metaName:"aplus-rhost-v",metaValue:e,gifPath:r,url:o.filterIntUrl(a)});n.url=i,this.options.context.where_to_sendpv=n}}}}},function(t,e,n){"use strict";function o(t){t=(t||"").split("#")[0].split("?")[0];var e=t.length,n=function(t){var e,n=t.length,o=0;for(e=0;e<n;e++)o=31*o+t.charCodeAt(e);return o};return e?n(e+"#"+t.charCodeAt(e-1)):-1}function a(t){for(var e=t.split("&"),n=0,o=e.length,a={};n<o;n++){var r=e[n],i=r.indexOf("="),s=r.substring(0,i),u=r.substring(i+1);a[s]=p.tryToDecodeURIComponent(u)}return a}function r(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}function i(t){var e,n,o,a=[],r=t.length;for(o=0;o<r;o++)e=t[o][0],n=t[o][1],a.push(l.isStartWith(e,v)?n:e+"="+encodeURIComponent(n));return a.join("&")}function s(t){var e,n,o,a={},r=t.length;for(o=0;o<r;o++)e=t[o][0],n=t[o][1],a[e]=n;return a}function u(t,e){var n,o,a,r=[];for(n in t)t.hasOwnProperty(n)&&(o=""+t[n],a=n+"="+encodeURIComponent(o),e?r.push(a):r.push(l.isStartWith(n,v)?o:a));return r.join("&")}function c(t,e){var n=t.indexOf("?")==-1?"?":"&",o=e?l.isArray(e)?i(e):u(e):"";return o?t+n+o:t}var l=n(10),p=n(19),g=n(22),f=parent!==self;e.is_in_iframe=f,e.makeCacheNum=l.makeCacheNum,e.isStartWith=l.isStartWith,e.isEndWith=l.isEndWith,e.any=l.any,e.each=l.each,e.assign=l.assign,e.isFunction=l.isFunction,e.isArray=l.isArray,e.isString=l.isString,e.isNumber=l.isNumber,e.isUnDefined=l.isUnDefined,e.isContain=l.isContain,e.sleep=n(23).sleep,e.makeChkSum=o,e.tryToDecodeURIComponent=p.tryToDecodeURIComponent,e.nodeListToArray=p.nodeListToArray,e.parseSemicolonContent=p.parseSemicolonContent,e.param2obj=a;var d=n(24),_=function(t){return/^(\/\/){0,1}(\w+\.){1,}\w+((\/\w+){1,})?$/.test(t)};e.hostValidity=_;var h=function(t,e){var n=/^(\/\/){0,1}(\w+\.){1,}\w+\/\w+\.gif$/.test(t),o=_(t),a="";return n?a="isGifPath":o&&(a="isHostPath"),a||d.logger({msg:e+": "+t+' is invalid, suggestion: "xxx.mmstat.com"'}),a},m=function(t){return!/^\/\/gj\.mmstat/.test(t)&&goldlog.isInternational()&&(t=t.replace(/^\/\/\w+\.mmstat/,"//gj.mmstat")),t};e.filterIntUrl=m,e.getPvUrl=function(t){t||(t={});var e,n,o=t.metaValue&&h(t.metaValue,t.metaName),a="";"isGifPath"===o?(e=/^\/\//.test(t.metaValue)?"":"//",a=e+t.metaValue):"isHostPath"===o&&(e=/^\/\//.test(t.metaValue)?"":"//",n=/\/$/.test(t.metaValue)?"":"/",a=e+t.metaValue+n+t.gifPath);var r;return a?r=a:(e=0===t.gifPath.indexOf("/")?t.gifPath:"/"+t.gifPath,r=t.url&&t.url.replace(/\/\w+\.gif/,e)),r},e.indexof=n(25).indexof,e.callable=r;var v="::-plain-::";e.mkPlainKey=function(){return v+Math.random()},e.s_plain_obj=v,e.mkPlainKeyForExparams=function(t){var e=t||v;return e+"exparams"},e.rndInt32=function(){return Math.round(2147483647*Math.random())},e.arr2param=i,e.arr2obj=s,e.obj2param=u,e.makeUrl=c,e.ifAdd=function(t,e){var n,o,a,r,i=e.length;for(n=0;n<i;n++)o=e[n],a=o[0],r=o[1],r&&t.push([a,r])},e.isStartWithProtocol=g.isStartWithProtocol,e.param2arr=function(t){for(var e,n=t.split("&"),o=0,a=n.length,r=[];o<a;o++)e=n[o].split("="),r.push([e.shift(),e.join("=")]);return r},e.catchException=function(t,e,n){var o=window,a=o.goldlog_queue||(o.goldlog_queue=[]),r=t;"object"==typeof e&&e.message&&(r=r+"_"+e.message),n&&n.msg&&(r+="_"+n.msg),a.push({action:"goldlog._aplus_cplugin_m.do_tracker_jserror",arguments:[{message:r,error:JSON.stringify(e),filename:t}]})}},function(t,e,n){"use strict";var o=n(20),a=n(21);t.exports={tryToDecodeURIComponent:function(t,e){var n=e||"";if(t)try{n=decodeURIComponent(t)}catch(t){}return n},parseSemicolonContent:function(t,e,n){e=e||{};var a,r,i=t.split(";"),s=i.length;for(a=0;a<s;a++){r=i[a].split("=");var u=o.trim(r.slice(1).join("="));e[o.trim(r[0])||""]=n?u:this.tryToDecodeURIComponent(u)}return e},nodeListToArray:function(t){var e,n;try{return e=[].slice.call(t)}catch(a){e=[],n=t.length;for(var o=0;o<n;o++)e.push(t[o]);return e}},getLsCna:function(t,e){if(a.set&&a.test()){var n="",o=a.get(t);if(o){var r=o.split("_")||[];n=e?r.length>1&&e===r[0]?r[1]:"":r.length>1?r[1]:""}return decodeURIComponent(n)}return""},setLsCna:function(t,e,n){n&&a.set&&a.test()&&a.set(t,e+"_"+encodeURIComponent(n))},getUrl:function(t){var e=t||"//log.mmstat.com/eg.js";try{var n=goldlog.getMetaInfo("aplus-rhost-v"),o=/[[a-z|0-9\.]+[a-z|0-9]/,a=n.match(o);a&&a[0]&&(e=e.replace(o,a[0]))}catch(t){}return e}}},function(t,e){"use strict";function n(t){return"string"==typeof t?t.replace(/^\s+|\s+$/g,""):""}e.trim=n},function(t,e){"use strict";t.exports={set:function(t,e){try{return localStorage.setItem(t,e),!0}catch(t){return!1}},get:function(t){try{return localStorage.getItem(t)}catch(t){return""}},test:function(){var t="grey_test_key";try{return localStorage.setItem(t,1),localStorage.removeItem(t),!0}catch(t){return!1}},remove:function(t){localStorage.removeItem(t)}}},function(t,e,n){"use strict";var o=n(10),a=function(){if(goldlog.aplusDebug){var t=location.protocol;return"http:"!==t&&"https:"!==t&&(t="https:"),t}return"https:"};e.getProtocal=a,e.isStartWithProtocol=function(t){for(var e=["javascript:","tel:","sms:","mailto:","tmall://","#"],n=0,a=e.length;n<a;n++)if(o.isStartWith(t,e[n]))return!0;return!1}},function(t,e){"use strict";e.sleep=function(t,e){return setTimeout(function(){e()},t)}},function(t,e){"use strict";var n=function(){var t=!1;return"boolean"==typeof goldlog.aplusDebug&&(t=goldlog.aplusDebug),t};e.isDebugAplus=n;var o=function(t){t||(t={});var e=t.level||"warn";window.console&&window.console[e]&&window.console[e](t.msg)};e.logger=o},function(t,e){"use strict";e.indexof=function(t,e){var n=-1;try{n=t.indexOf(e)}catch(a){for(var o=0;o<t.length;o++)t[o]===e&&(n=o)}finally{return n}}},function(t,e){"use strict";var n=function(t){var e;try{window.goldlog||(window.goldlog={}),e=window.goldlog[t]}catch(t){e=""}finally{return e}};e.getGoldlogVal=n;var o=function(t,e){var n=!1;try{window.goldlog||(window.goldlog={}),t&&(window.goldlog[t]=e,n=!0)}catch(t){n=!1}finally{return n}};e.setGoldlogVal=o,e.getClientInfo=function(){return n("_aplus_client")||{}}},function(t,e,n){"use strict";function o(t){var e,n,o,a=t.length,r={};for(h._microscope_data=r,e=0;e<a;e++)n=t[e],"microscope-data"===f.tryToGetAttribute(n,"name")&&(o=f.tryToGetAttribute(n,"content"),l.parseSemicolonContent(o,r),h.is_head_has_meta_microscope_data=!0);h._microscope_data_params=l.obj2param(r),h.ms_data_page_id=r.pageId,h.ms_data_shop_id=r.shopId,h.ms_data_instance_id=r.siteInstanceId,h.ms_data_siteCategoryId=r.siteCategory,h.ms_prototype_id=r.prototypeId,h.site_instance_id_or_shop_id=h.ms_data_instance_id||h.ms_data_shop_id,h._atp_beacon_data={},h._atp_beacon_data_params=""}function a(t){var e,n=function(){var e;return document.querySelector&&(e=document.querySelector("meta[name=data-spm]")),g.each(t,function(t){"data-spm"===f.tryToGetAttribute(t,"name")&&(e=t)}),e},o=n();return o&&(e=f.tryToGetAttribute(o,"data-spm-protocol")),e}function r(t){var e=t.isonepage||"-1",n=e.split("|"),o=n[0],a=n[1]?n[1]:"";t.isonepage_data={isonepage:o,urlpagename:a},t["aplus-pagename"]=a}function i(){var t=d.getMetaTags();o(t),g.each(t,function(t){var e=f.tryToGetAttribute(t,"name");if(/^aplus/.test(e)&&(h[e]=d.getMetaCnt(e),e===v))try{c=h[e]=JSON.parse(d.getMetaCnt(e))}catch(t){}}),g.each(m,function(t){h[t]=d.getMetaCnt(t)}),h.spm_protocol=a(t),c&&(h=g.assign(h,c));var e,n,i=["aplus-rate-ahot"],s=i.length;for(e=0;e<s;e++)n=i[e],h[n]=parseFloat(h[n]);return r(h),b=h||{},h}function s(){return b||i()}function u(t){p.logger({msg:"please do not repeat setPriorityMetaInfo "+t})}var c,l=n(18),p=n(24),g=n(10),f=n(28),d=n(29),_=n(30),h={},m=["ahot-aplus","isonepage","spm-id","data-spm","microscope-data"],v="aplus-x-settings",b={};e.setMetaInfo=function(t,e){if(b||(b={}),"object"==typeof c&&c[t])return u(t),!0;if(t===v){if(c)u(t);else try{c="object"==typeof e?e:JSON.parse(e),b=g.assign(b,c)}catch(t){console&&console.log(t)}return!0}return b[t]=e,!0};var y=function(t){return b||(b={}),b[t]||""};e.getMetaInfo=y,e.getInfo=i,e.qGet=s,e.appendMetaInfo=function(t,e){var n=function(t,e){goldlog.setMetaInfo(t,e,{from:"appendMetaInfo"})};if(t&&e){var o,a=function(o){try{var a="string"==typeof e?JSON.parse(e):e;n(t,g.assign(o,a))}catch(t){}},r=function(o){try{var a="string"==typeof e?JSON.parse(e):e;n(t,o.concat(a))}catch(t){}},i=function(t){return"EXPARAMS"===t?_.getExparamsInfos("",t):t?t.split("&"):[]},s=function(o){try{var a=i(o),r=i(e);n(t,a.concat(r).join("&"))}catch(t){}},u=function(t){t.constructor===Array?r(t):a(t)},c=goldlog.getMetaInfo(t);if("aplus-exinfo"===t&&(s(c),o=!0),c)if("object"==typeof c)u(c),o=!0;else try{var l=JSON.parse(c);"object"==typeof l&&(u(l),o=!0)}catch(t){}o||n(t,e)}}},function(t,e){"use strict";e.tryToGetAttribute=function(t,e){return t&&t.getAttribute?t.getAttribute(e)||"":""};var n=function(t,e,n){if(t&&t.setAttribute)try{t.setAttribute(e,n)}catch(t){}};e.tryToSetAttribute=n,e.tryToRemoveAttribute=function(t,e){if(t&&t.removeAttribute)try{t.removeAttribute(e)}catch(o){n(t,e,"")}}},function(t,e,n){"use strict";function o(t){return i=i||document.getElementsByTagName("head")[0],s&&!t?s:i?s=i.getElementsByTagName("meta"):[]}function a(t,e){var n,a,r,i=o(),s=i.length;for(n=0;n<s;n++)a=i[n],u.tryToGetAttribute(a,"name")===t&&(r=u.tryToGetAttribute(a,e||"content"));return r||""}function r(t){var e={isonepage:"-1",urlpagename:""},n=t.qGet();if(n&&n.hasOwnProperty("isonepage_data"))e.isonepage=n.isonepage_data.isonepage,e.urlpagename=n.isonepage_data.urlpagename;else{var o=a("isonepage")||"-1",r=o.split("|");e.isonepage=r[0],e.urlpagename=r[1]?r[1]:""}return e}var i,s,u=n(28);e.getMetaTags=o,e.getMetaCnt=a,e.getOnePageInfo=r},function(t,e,n){"use strict";var o=n(18),a=n(31),r=n(25);e.getExparamsInfos=function(t,e){var n=[],i=t||["uidaplus","pc_i","pu_i"],s=a.getExParams(o)||"";s=s.replace(/&aplus&/,"&");for(var u=o.param2arr(s)||[],c=function(t){return r.indexof(i,t)>-1},l=0;l<u.length;l++){var p=u[l],g=p[0]||"",f=p[1]||"";g&&f&&("EXPARAMS"===e||c(g))&&n.push(g+"="+f)}return n}},function(t,e,n){"use strict";function o(){return s||(s=g.getElementById("beacon-aplus")||g.getElementById("tb-beacon-aplus")),s}function a(t){var e=o(),n=p.tryToGetAttribute(e,"cspx");t&&n&&(t.nonce=n)}function r(t,e,n){var r="script",s=g.createElement(r);s.type="text/javascript",s.async=!0;var c=o(),l=c&&c.hasAttribute("crossorigin");l&&(s.crossOrigin="anonymous");var p="https:"===location.protocol?e||t:t;0===p.indexOf("//")&&(p=u.getProtocal()+p),s.src=p,n&&(s.id=n),a(s);var f=g.getElementsByTagName(r)[0];i=i||g.getElementsByTagName("head")[0],f?f.parentNode.insertBefore(s,f):i&&i.appendChild(s)}var i,s,u=n(22),c=n(10),l=n(24),p=n(28),g=document;e.getCurrentNode=o,e.addScript=r,e.loadScript=function(t,e){function n(t){o.onreadystatechange=o.onload=o.onerror=null,o=null,e(t)}var o=g.createElement("script");if(i=i||g.getElementsByTagName("head")[0],o.async=!0,"onload"in o)o.onload=n;else{var r=function(){/loaded|complete/.test(o.readyState)&&n()};o.onreadystatechange=r,r()}o.onerror=function(t){n(t)},o.src=t,a(o),i.appendChild(o)},e.isTouch=function(){return"ontouchend"in document.createElement("div")};var f=function(){var t=goldlog&&goldlog._$?goldlog._$:{},e=t.meta_info||{};return e["aplus-exparams"]||""};e.getExParamsFromMeta=f,e.getExParams=function(t){var e=o(),n=p.tryToGetAttribute(e,"exparams"),a=d(n,f(),t)||"";return a&&a.replace(/&amp;/g,"&").replace(/\buser(i|I)d=/,"uidaplus=")};var d=function(t,e,n){var o="aplus&sidx=aplusSidex",a=t||o;try{if(e){var r=n.param2obj(e),i=["aplus","cna","spm-cnt","spm-url","spm-pre","logtype","pre","uidaplus","asid","sidx","trid","gokey"];c.each(i,function(t){r.hasOwnProperty(t)&&(l.logger({msg:"Can not inject keywords: "+t}),delete r[t])}),delete r[""];var s="";if(t){var u=t.match(/aplus&/).index,p=u>0?n.param2obj(t.substring(0,u)):{};delete p[""],s=n.obj2param(c.assign(p,r))+"&"+t.substring(u,t.length)}else s=n.obj2param(r)+"&"+o;return s}return a}catch(t){return a}};e.mergeExparams=d},function(t,e,n){"use strict";var o=n(4),a=n(12),r=n(31),i=n(19),s=n(33),u=n(34),c=n(26),l=n(5);t.exports=function(){return{init:function(t){this.options=t;var e=this.options.context.etag||{};this.cna=e.cna||a.getCookie("cna"),this.setTag(0),this.setStag(-1),this.setLsTag("-1"),this.setEtag(this.cna||""),this.requesting=!1,this.today=s.getFormatDate()},setLsTag:function(t){this.lstag=t,this.options.context.etag.lstag=t},setTag:function(t){this.tag=t,this.options.context.etag.tag=t},setStag:function(t){this.stag=t,this.options.context.etag.stag=t},setEtag:function(t){this.etag=t,this.options.context.etag.cna=t,a.getCookie("cna")!==t&&a.setCookie("cna",t,{SameSite:"none"})},setLscnaStatus:function(t){this.options.context.etag.lscnastatus=t},run:function(t,e){var n=this;if(n.cna)return void n.setTag(1);var a=null,s=u.getUrl(this.options.context.etag||{});n.requesting=!0;var p=function(){setTimeout(function(){e()},20),clearTimeout(a)};return r.loadScript(s,function(t){var e,a;if(t&&"error"===t.type?(n.setStag(-3),o.do_tracker_jserror({message:"loadError",error:"",filename:"etag_ls"})):(e=c.getGoldlogVal("Etag"),e&&n.setEtag(e),a=c.getGoldlogVal("stag"),"undefined"!=typeof a&&n.setStag(a)),n.requesting){if(2===a||4===a){var r=i.getLsCna(l.LS_CNA_KEY);r?(n.setLsTag(1),n.setEtag(r)):(n.setLsTag(0),i.setLsCna(l.LS_CNA_KEY,n.today,e))}p()}}),a=setTimeout(function(){n.requesting=!1,n.setStag(-2),e()},1500),2e3}}}},function(t,e){"use strict";function n(t,e,n){var o=""+Math.abs(t),a=e-o.length,r=t>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+o}e.getFormatDate=function(t){var e=new Date;try{return[e.getFullYear(),n(e.getMonth()+1,2,0),n(e.getDate(),2,0)].join(t||"")}catch(t){return""}}},function(t,e,n){"use strict";var o=n(19),a=n(22);e.getUrl=function(t){var e=o.getUrl(t&&t.egUrl?t.egUrl:"gj.mmstat.com/eg.js"),n=e.match(/[\w+\.]+[a-z|A-Z|0-9]+\/eg.js/);return 0!==e.indexOf("http")&&n&&n.length>0&&(e=a.getProtocal()+"//"+n[0]),e}},function(t,e,n){"use strict";var o=n(19),a=n(31),r=n(34),i=n(5),s=n(33),u=n(21);t.exports=function(){return{init:function(t){this.options=t,this.today=s.getFormatDate()},run:function(){var t=this;if(u.test()){var e=o.getLsCna(i.LS_CNA_KEY,t.today);e||setTimeout(function(){var e=r.getUrl(t.options.context.etag||{});a.loadScript(e,function(e){e&&"error"!==e.type&&o.setLsCna(i.LS_CNA_KEY,t.today,goldlog.Etag)})},1e3)}}}}},function(t,e,n){"use strict";e.plugins_pv=[{name:"etag",enable:!0,path:n(37)},{name:"when_to_sendpv",enable:!0,path:n(39)},{name:"where_to_sendlog_ut",enable:!0,path:n(40)},{name:"is_single",enable:!0,path:n(42)},{name:"what_to_pvhash",enable:!0,path:n(46)},{name:"what_to_sendpv",enable:!0,path:n(47)},{name:"what_to_sendpv_userdata",enable:!0,path:n(51),deps:["what_to_sendpv"]},{name:"what_to_sendpv_etag",enable:!0,path:n(56),deps:["etag","what_to_sendpv"]},{name:"what_to_sendpv_ut2",enable:n(57),path:n(58),deps:["where_to_sendlog_ut","is_single"]},{name:"what_to_sendpv_ut",enable:!0,path:n(59),deps:["where_to_sendlog_ut","is_single"]},{name:"what_to_pv_slog",enable:!0,path:n(60),deps:["what_to_sendpv"]},{name:"can_to_sendpv",enable:!0,path:n(61)},{name:"where_to_sendpv",enable:!0,path:n(17),deps:["is_single"]},{name:"do_sendpv",enable:!0,path:n(62),deps:["is_single","what_to_sendpv","where_to_sendpv"]},{name:"do_sendpv_ut2",enable:n(57),path:n(63),deps:["what_to_sendpv_ut2","where_to_sendlog_ut"]},{name:"do_sendpv_ut",enable:n(57),path:n(64),deps:["what_to_sendpv_ut","where_to_sendlog_ut"]},{name:"after_pv",enable:!0,path:n(65)}]},function(t,e,n){"use strict";var o=n(38);t.exports=function(){return{init:function(t){this.options=t},run:function(){var t=this;o.doSubOnceMsg("aplusInitContext",function(e){e.etag&&(t.options.context.etag=e.etag)})}}}},function(t,e){"use strict";var n="function",o=function(){var t=window.goldlog||{},e=t.aplus_pubsub||{},o=typeof e.publish===n;return o?e:""};e.doPubMsg=function(t){var e=o();e&&typeof e.publish===n&&e.publish.apply(e,t)},e.doCachePubs=function(t){var e=o();e&&typeof e.cachePubs===n&&e.cachePubs.apply(e,t)},e.doSubMsg=function(t,e){var a=o();a&&typeof a.subscribe===n&&a.subscribe(t,e)},e.doSubOnceMsg=function(t,e){var a=o();a&&typeof a.subscribeOnce===n&&a.subscribeOnce(t,e)}},function(t,e,n){"use strict";var o=n(26),a=n(23),r=n(27);t.exports=function(){return{init:function(t){this.options=t},getMetaInfo:function(){var t=o.getGoldlogVal("_$")||{},e=t.meta_info||r.getInfo();return e},getAplusWaiting:function(){var t=this.getMetaInfo()||{};return t["aplus-waiting"]},run:function(t,e){var n=this.options.config||{},o=this.getAplusWaiting();if(o&&n.is_auto)switch(o=this.getAplusWaiting()+"",this.options.context.when_to_sendpv={aplusWaiting:o},o){case"MAN":return"done";case"1":return this.options.context.when_to_sendpv.isWait=!0,a.sleep(6e3,function(){e()}),6e3;default:var r=1*o;if(r+""!="NaN")return this.options.context.when_to_sendpv.isWait=!0,a.sleep(r,function(){e()}),r}}}}},function(t,e,n){"use strict";var o=n(41);t.exports=function(){return{init:function(t){this.options=t},getAplusToUT:function(t){return{toUT2:o.getAplusToUT("toUT2",t),toUT:o.getAplusToUT("toUT",t)}},run:function(){if("Umeng4Aplus"===goldlog.aplusBridgeName)this.options.context.where_to_sendlog_ut.toUTName="toUT2";else{var t=this.getAplusToUT(this.options.config.recordType);this.options.context.where_to_sendlog_ut.aplusToUT=t}}}}},function(t,e){"use strict";var n=navigator.userAgent,o=/WindVane/i.test(n);e.is_WindVane=o;var a=function(){var t=goldlog.getMetaInfo("aplus_chnl");return!(!t||!t.isAvailable||"function"!=typeof t.toUT2&&"function"!=typeof t.toUT)&&t};e.isAplusChnl=a,e.getAplusToUT=function(t,e){var n={},r=a();if("object"==typeof r)n.bridgeName=r.bridgeName||"customBridge",n.bridgeVersion=r.bridgeVersion||r.version||"",n.isAvailable=r.isAvailable,n.toUT2=r.toUT2||r.toUT;else{var i=window.WindVane||{};if(o&&i&&i.isAvailable&&"function"==typeof i.call){var s=t||"toUT",u=goldlog.getMetaInfo("aplus-toUT")+"";"toUT2HC"===u&&"PV"===e&&(s=u),n={bridgeName:"WindVane",bridgeVersion:i.version||"",isAvailable:!0,toUT2:function(t,e,n,o){return i.call("WVTBUserTrack",s,t,e,n,o)}}}}return n}},function(t,e,n){"use strict";var o=n(26),a=n(43),r=n(44),i=n(5);t.exports=function(){return{init:function(t){this.options=t,this._$=o.getGoldlogVal("_$")||{},this.isBoth="1"===this._$.meta_info["aplus-both-request"],this.is_WindVane=this._$.is_WindVane},isSingle_pv:function(t){return t?!this.isBoth:!(!this.is_WindVane||!r.isSingleUaVersion()||this.isBoth)},isSingle_hjlj:function(t,e){return e?!this.isBoth:!(!this.is_WindVane||!r.isSingleSendLog(t)||this.isBoth)},isSingle_uhjlj:function(t,e){return(!t||!/^\/aplus\.99\.(\d)+$/.test(t.logkey))&&(e?!this.isBoth:!(!(this.is_WindVane&&t&&t.logkey&&r.isSingleUaVersion())||this.isBoth))},run:function(){var t=this.options.context||{},e=this.options.config||{},n=t.where_to_sendlog_ut.aplusToUT||{},o=n.toUT||{},r=n.toUT2||{},s=a.isNative4Aplus(),u=!!(o.isAvailable||r.isAvailable||s),c=t.userdata||{},l=!!t.is_single;switch(e.recordType){case i.recordTypes.uhjlj:l=this.isSingle_uhjlj(c,s);break;case i.recordTypes.hjlj:l=this.isSingle_hjlj(c,s);break;case i.recordTypes.pv:l=this.isSingle_pv(s);break;default:l=this.isSingle_pv(s)}this.options.context.is_single=u&&l,this.options.context.ut_is_available=u}}}},function(t,e){"use strict";var n="UT4Aplus",o="Umeng4Aplus";e.isNative4Aplus=function(){var t=goldlog.getMetaInfo("aplus-toUT"),e=goldlog.aplusBridgeName;return e===n&&t===n||e===o},e.haveNativeFlagInUA=function(){var t=goldlog.aplusBridgeName;if(!t&&"boolean"!=typeof t){var e=new RegExp([n,o].join("|"),"i"),a=navigator.userAgent.match(e);t=!!a&&a[0],goldlog.aplusBridgeName=t}return!!t}},function(t,e,n){"use strict";var o=n(45),a=n(43),r=function(t){var e=t.logkey.toLowerCase();0===e.indexOf("/")&&(e=e.substr(1));var n=t.gmkey?t.gmkey.toUpperCase():"OTHER";switch(n){case"EXP":return"2201";case"CLK":return"2101";case"SLD":return"19999";case"OTHER":default:return"19999"}},i=/\sA2U\/x/.test(window.navigator.userAgent),s=function(){return i||a.haveNativeFlagInUA()||o.webviewIsAbove({version_ios_tb:[5,11,7],version_ios_tm:[5,24,1],version_android_tb:[5,11,7],version_android_tm:[5,24,1]})};e.isSingleUaVersion=s,e.isSingleSendLog=function(t){return(!t||!/^\/fsp\.1\.1$/.test(t.logkey))&&!!(t&&t.logkey&&s())},e.getFunctypeValue=function(t){return e.isSingleSendLog(t)?r(t):"2101"},e.getFunctypeValue2=function(t){return r(t)}},function(t,e){"use strict";var n=function(t){var e=[0,0,0];try{if(t){var n=t[1],o=n.split(".");if(o.length>2)for(var a=0;a<o.length;)e[a]=parseInt(o[a]),a++}}catch(t){e=[0,0,0]}finally{return e}};e.parseVersion=n;var o=function(t,e){var n=!1;try{var o=t[0]>e[0],a=t[1]>e[1],r=t[2]>e[2],i=t[0]===e[0],s=t[1]===e[1],u=t[2]===e[2];n=!!o||(!(!i||!a)||(!!(i&&s&&r)||!!(i&&s&&u)))}catch(t){n=!1}finally{return n}};e.isAboveVersion=o,e.webviewIsAbove=function(t,e){var a=!1;try{e||(e=navigator.userAgent);var r=e.match(/AliApp\(TB\/(\d+[._]\d+[._]\d+)/i),i=n(r),s=e.match(/AliApp\(TM\/(\d+[._]\d+[._]\d+)/i),u=n(s),c=/iPhone|iPad|iPod|ios/i.test(e),l=/android/i.test(e);c?r&&i?a=o(i,t.version_ios_tb):s&&u&&(a=o(u,t.version_ios_tm)):l&&(r&&i?a=o(i,t.version_android_tb):s&&u&&(a=o(u,t.version_android_tm)))}catch(t){a=!1}return a}},function(t,e,n){"use strict";var o=n(26);t.exports=function(){return{init:function(t){this.options=t},run:function(){var t=this.options.context.what_to_pvhash||{},e=o.getGoldlogVal("_$")||{},n=e.meta_info||{},a=n["aplus-pvhash"]||"",r=[];"1"===a&&(r=["_aqx_uri",encodeURIComponent(location.href)]),t.hash=r,this.options.context.what_to_pvhash=t}}}},function(t,e,n){"use strict";var o=n(18),a=n(10),r=n(31),i=n(26),s=n(28),u=n(12),c=n(48),l=n(49),p=n(50);t.exports=function(){return a.assign(p,{init:function(t){this.options=t,this.cookie_data||(this.cookie_data=u.getData()),this.client_info||(this.client_info=i.getClientInfo()||{});var e=location.hash;e&&0===e.indexOf("#")&&(e=e.substr(1)),this.loc_hash=e},getExParams:function(){var t=window,e=document,n=[],u=parent!==t.self,l=e.getElementById("beacon-aplus")||e.getElementById("tb-beacon-aplus"),p=s.tryToGetAttribute(l,"exparams"),g=r.mergeExparams(p,r.getExParamsFromMeta(),o)||"";g=g.replace(/&amp;/g,"&");var f,d,_=["taobao.com","tmall.com","etao.com","hitao.com","taohua.com","juhuasuan.com","alimama.com"],h=i.getGoldlogVal("_$")||{},m=h.meta_info||{};if(u&&!m["aplus-ifr-pv"]){for(d=_.length,f=0;f<d;f++)if(o.isContain(location.hostname,_[f]))return n.push([o.mkPlainKeyForExparams(),g]),n;g=g.replace(/\buser(i|I)d=\w*&?/,"")}g=g.replace(/\buser(i|I)d=/,"uidaplus="),g&&n.push([o.mkPlainKeyForExparams(),g]);var v=a.makeCacheNum();return c.updateKey(n,"cache",v),n},getExtra:function(){
var t=[],e=i.getGoldlogVal("_$")||{},n=e.meta_info||{},a=this.cookie_data||{},r=this.getClientInfo(!0)||[];return o.ifAdd(t,r),o.ifAdd(t,[["thw",a.thw],["bucket_id",l.getBucketId(n)],["urlokey",this.loc_hash],["wm_instanceid",n.ms_data_instance_id]]),t}})}},function(t,e){"use strict";function n(t,e,n){r(t,"spm-cnt",function(t){var o=t.split(".");return o[0]=goldlog.spm_ab[0],o[1]=goldlog.spm_ab[1],e?o[1]=o[1].split("/")[0]+"/"+e:o[1]=o[1].split("/")[0],n&&(o[4]=n),o.join(".")})}function o(t,e){var n=window.g_SPM&&g_SPM._current_spm;n&&r(t,"spm-url",function(){return[n.a,n.b,n.c,n.d].join(".")+(e?"."+e:"")},"spm-cnt")}function a(t,e){var n,o,a,r=-1;for(n=0,o=t.length;n<o;n++)if(a=t[n],a[0]===e){r=n;break}r>=0&&t.splice(r,1)}function r(t,e,n,o){var a,r,i=t.length,s=-1,u="function"==typeof n;for(a=0;a<i;a++){if(r=t[a],r[0]===e)return void(u?r[1]=n(r[1]):r[1]=n);o&&r[0]===o&&(s=a)}o&&(u&&(n=n()),s>-1?t.splice(s,0,[e,n]):t.push([e,n]))}t.exports={updateSPMCnt:n,updateSPMUrl:o,updateKey:r,removeKey:a}},function(t,e,n){"use strict";function o(t,e){var n,o=2146271213;for(n=0;n<t.length;n++)o=(o<<5)+o+t.charCodeAt(n);return(65535&o)%e}function a(t){var e,n=r.getCookie("t");return"3"!=t.ms_prototype_id&&"5"!=t.ms_prototype_id||(e=n?o(n,20):""),e}var r=n(12);e.getBucketId=a},function(t,e,n){"use strict";var o=n(18),a=n(10),r=n(26),i=n(41),s=n(12),u=n(5);t.exports={init:function(t){this.options=t,this.cookie_data||(this.cookie_data=s.getData())},getBasicParams:function(){var t=document,e=r.getGoldlogVal("_$")||{},n=e.spm||{},a=e.meta_info||{},i=a["aplus-ifr-pv"]+""=="1",u=o.is_in_iframe&&!i?0:1,c=this.options.config||{},l=t.title;c.title&&(l+="_"+c.title);var p=[["logtype",u],["title",l],["pre",e.page_referrer||""],["scr",screen.width+"x"+screen.height]],g=a["aplus-p-url-init"];g&&p.push(["_p_url",g]);var f=this.cookie_data||{},d=this.options.context||{},_=d.etag||{},h=_.cna||f.cna||s.getCookie("cna");h&&p.push([o.mkPlainKey(),"cna="+h]),f.tracknick&&p.push([o.mkPlainKey(),"nick="+f.tracknick]);var m=n.spm_url||"";return o.ifAdd(p,[["wm_pageid",a.ms_data_page_id],["wm_prototypeid",a.ms_prototype_id],["wm_sid",a.ms_data_shop_id],["spm-url",m],["spm-pre",n.spm_pre],["spm-cnt",n.spm_cnt],["cnaui",f.cnaui]]),p},getExParams:function(){return[]},getExtra:function(){return[]},getClientInfo:function(t){var e=[],n=r.getGoldlogVal("_$")||{},s=this.client_info||{},c=s.ua_info||{};if(t||!i.is_WindVane&&!i.isAplusChnl()){for(var l,p=[],g=["p","o","b","s","w","wx","ism"],f=0;l=g[f++];)c[l]&&p.push([l,c[l]]);o.ifAdd(e,p)}o.ifAdd(e,[["cache",a.makeCacheNum()],["lver",goldlog.lver||u.lver],["jsver",n.script_name||u.script_name],["pver",goldlog.aplus_cplugin_ver]]);var d=this.options.config||{},_=d.is_auto;return _||o.ifAdd(e,[["mansndlog",1]]),e},processLodashDollar:function(){var t=r.getGoldlogVal("_$")||{};t.page_url!==location.href&&(t.page_referrer=t.page_url,t.page_url=location.href),r.setGoldlogVal("_$",t)},getLsParams:function(){var t=r.getGoldlogVal("_$")||{},e=[];return t.lsparams&&t.lsparams.spm_id&&(e.push(["lsparams",t.lsparams.spm_id]),e.push(["lsparams_pre",t.lsparams.current_url])),e},run:function(){var t=this.getBasicParams()||[],e=this.getExParams()||[],n=this.getExtra()||[];this.processLodashDollar();var o=this.getLsParams()||[],a=[].concat(t,e,n,o);this.options.context.what_to_sendpv.pvdata=a,this.options.context.what_to_sendpv.exparams=e}}},function(t,e,n){"use strict";var o=n(18),a=n(26),r=n(48),i=n(12),s=n(52);t.exports=function(){return{init:function(t){this.options=t},getPageId:function(){var t=this.options.config||{},e=this.options.context||{},n=e.userdata||{};return t.page_id||t.pageid||t.pageId||n.page_id},getPageInfo:function(){var t;try{var e=top.location!==self.location;e&&void 0!==window.innerWidth&&(t={width:window.innerWidth,height:window.innerHeight})}catch(t){}return t},getUserdata:function(){var t=a.getGoldlogVal("_$")||{},e=t.spm||{},n=this.options.context||{},r=n.userdata||{},u=this.options.config||{},c=[];if(u&&!u.is_auto){u.gokey&&c.push([o.mkPlainKey(),u.gokey]);var l=e.data.b;if(l){var p=this.getPageId();l=p?l.split("/")[0]+"/"+p:l.split("/")[0],s.setB(l);var g=e.spm_cnt.split(".");g&&g.length>2&&(g[1]=l,e.spm_cnt=g.join("."))}}var f=function(t){if("object"==typeof t)for(var e in t)"object"!=typeof t[e]&&"function"!=typeof t[e]&&c.push([e,t[e]])};f(goldlog.getMetaInfo("aplus-cpvdata")),f(r);var d=i.getCookie("workno")||i.getCookie("emplId");d&&c.push(["workno",d]);var _=i.getHng();_&&c.push(["_hng",i.getHng()]);var h=this.getPageInfo();return h&&(c.push(["_pw",h.width]),c.push(["_ph",h.height])),c},processLodashDollar:function(){var t=this.options.config||{},e=a.getGoldlogVal("_$")||{};t&&t.referrer&&(e.page_referrer=t.referrer),a.setGoldlogVal("_$",e)},updatePre:function(t){var e=a.getGoldlogVal("_$")||{};return e.page_referrer&&r.updateKey(t,"pre",e.page_referrer),t},run:function(){var t=this.options.context.what_to_sendpv.pvdata,e=this.getUserdata();this.processLodashDollar();var n=t,o=this.options.context.what_to_pvhash.hash;o&&o.length>0&&n.push(o),n=n.concat(e),n=this.updatePre(n);var a=this.getPageId();a&&r.updateSPMCnt(n,a),this.options.context.what_to_sendpv.pvdata=n,this.options.context.userdata=e}}}},function(t,e,n){"use strict";function o(){if(!s.data.a||!s.data.b){var t=r._SPM_a,e=r._SPM_b;if(t&&e)return t=t.replace(/^{(\w+\/)}$/g,"$1"),e=e.replace(/^{(\w+\/)}$/g,"$1"),s.is_wh_in_page=!0,void c.setAB(t,e);var n=goldlog._$.meta_info;t=n["data-spm"]||n["spm-id"]||"0";var o=t.split(".");o.length>1&&(t=o[0],e=o[1]),c.setA(t),e&&c.setB(e);var a=i.getElementsByTagName("body");a=a&&a.length?a[0]:null,a&&(e=l.tryToGetAttribute(a,"data-spm"),e?c.setB(e):1===o.length&&c.setAB("0","0"))}}function a(){var t=s.data.a,e=s.data.b;t&&e&&(goldlog.spm_ab=[t,e])}var r=window,i=document,s={},u={};s.data=u;var c={},l=n(28),p=n(53),g=location.href,f=n(54).getRefer(),d=n(5);c.setA=function(t){s.data.a=t,a()},c.setB=function(t){s.data.b=t,a()},c.setAB=function(t,e){s.data.a=t,s.data.b=e,a()};var _=p.getSPMFromUrl,h=function(){var t=d.utilPvid.makePVId();return d.mustSpmE?t||goldlog.pvid||"":t||""},m=function(t,e){var n=t.goldlog||window.goldlog||{},a=n.meta_info||{};s.meta_protocol=a.spm_protocol;var r,i=n.spm_ab||[],u=i[0]||"0",c=i[1]||"0";"0"===u&&"0"===c&&(o(),u=s.data.a||"0",c=s.data.b||"0"),r=[s.data.a,s.data.b].join("."),s.spm_cnt=(r||"0.0")+".0.0";var l=t.send_pv_count>0?h():n.pvid;l&&(s.spm_cnt+="."+l),n._$.spm=s,"function"==typeof e&&e(l)};c.spaInit=function(t,e,n,o){var a="function"==typeof o?o:function(){},r=s.spm_url,i=window.g_SPM||{},u=t._$||{},c=u.send_pv_count;m({goldlog:t,meta_info:e,send_pv_count:c},function(t){s.spm_cnt=s.data.a+"."+s.data.b+".0.0"+(t?"."+t:"");var o=e["aplus-spm-fixed"];if("1"!==o){s.spm_pre=_(f),s.origin_spm_pre=s.spm_pre,s.spm_url=_(location.href),s.origin_spm_url=s.spm_url;var u=i._current_spm||{};u&&u.a&&"0"!==u.a&&u.b&&"0"!==u.b?(s.spm_url=[u.a,u.b,u.c,u.d,u.e].join("."),s.spm_pre=r):c>0&&n&&"0"!==n[0]&&"0"!==n[1]&&(s.spm_url=n.concat(["0","0"]).join("."),s.spm_pre=r),i._current_spm={}}a()})},c.init=function(t,e,n){s.spm_url=_(g),s.spm_pre=_(f),m({goldlog:t,meta_info:e},function(){"function"==typeof n&&n()})},c.resetSpmCntPvid=function(){var t=goldlog.spm_ab;if(t&&2===t.length){var e=t.join(".")+".0.0",n=h();n&&(e=e+"."+n),s.spm_cnt=e,s.spm_url=e,goldlog._$.spm=s}},t.exports=c},function(t,e){"use strict";function n(t,e){if(!t||!e)return"";var n,o="";try{var a=new RegExp("[?|&]+"+t+"=([^&|#|?|/]+)");if("spm"===t||"scm"===t){var r=new RegExp("\\?.*"+t+"=([\\w\\.\\-\\*/]+)"),i=e.match(a),s=e.match(r),u=i&&2===i.length?i[1]:"",c=s&&2===s.length?s[1]:"";o=u>c?u:c,o=decodeURIComponent(o)}else n=e.match(a),o=n&&2===n.length?n[1]:""}catch(t){}finally{return o}}e.getParamFromUrl=n,e.getSPMFromUrl=function(t){return n("spm",t)}},function(t,e,n){"use strict";var o=n(55).nameStorage,a=n(6);e.getRefer=function(){var t=a.KEY||{},e=t.NAME_STORAGE||{};return document.referrer||o.getItem(e.REFERRER)||""}},function(t,e){"use strict";var n=function(){function t(){var t,e=[],r=!0;for(var l in p)p.hasOwnProperty(l)&&(r=!1,t=p[l]||"",e.push(c(l)+s+c(t)));n.name=r?o:a+c(o)+i+e.join(u)}function e(t,e,n){t&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,function(e){n.call(t,e)}))}var n=window;if(n.nameStorage)return n.nameStorage;var o,a="nameStorage:",r=/^([^=]+)(?:=(.*))?$/,i="?",s="=",u="&",c=encodeURIComponent,l=decodeURIComponent,p={},g={};return function(t){if(t&&0===t.indexOf(a)){var e=t.split(/[:?]/);e.shift(),o=l(e.shift())||"";for(var n,i,s,c=e.join(""),g=c.split(u),f=0,d=g.length;f<d;f++)n=g[f].match(r),n&&n[1]&&(i=l(n[1]),s=l(n[2])||"",p[i]=s)}else o=t||""}(n.name),g.setItem=function(e,n){e&&"undefined"!=typeof n&&(p[e]=String(n),t())},g.getItem=function(t){return p.hasOwnProperty(t)?p[t]:null},g.removeItem=function(e){p.hasOwnProperty(e)&&(p[e]=null,delete p[e],t())},g.clear=function(){p={},t()},g.valueOf=function(){return p},g.toString=function(){var t=n.name;return 0===t.indexOf(a)?t:a+t},e(n,"beforeunload",function(){t()}),g}();e.nameStorage=n},function(t,e,n){"use strict";var o=n(48);t.exports=function(){return{init:function(t){this.options=t},updateBasicParams:function(){var t=this.options.context.what_to_sendpv.pvdata||[],e=this.options.context.etag||{};return e.cna&&(o.updateKey(t,"cna",e.cna),this.options.context.what_to_sendpv.pvdata=t),t},addTagParams:function(){var t=this.options.context.what_to_sendpv.pvdata||[],e=this.options.context.etag||{},n=[];(e.tag||0===e.tag)&&n.push(["tag",e.tag]),(e.stag||0===e.stag)&&n.push(["stag",e.stag]),(e.lstag||0===e.lstag)&&n.push(["lstag",e.lstag]),n.length>0&&(this.options.context.what_to_sendpv.pvdata=t.concat(n))},run:function(){this.updateBasicParams(),this.addTagParams()}}}},function(t,e,n){"use strict";var o=n(45),a=n(41),r=n(43),i=/\sA2U\/x/.test(window.navigator.userAgent),s=function(t){t||(t=window.navigator.userAgent);var e=goldlog.getMetaInfo("aplus-toUT")+"",n=a.isAplusChnl(),s=o.webviewIsAbove({version_ios_tb:[6,6,0],version_ios_tm:[5,28,0],version_android_tb:[6,6,2],version_android_tm:[5,32,0]},t);return s||(s=r.haveNativeFlagInUA()||i||"2"===e||"toUT2HC"===e),n&&"AliBCBridge"!==n.bridgeName&&(s=!!n.toUT2),s};e.isToUT2=s,e.isEnable=function(t,e){var n=s(e),o=!0;switch(t){case"what_to_hjlj_ut2":case"do_sendhjlj_ut2":case"what_to_sendpv_ut2":case"do_sendpv_ut2":o=!!n;break;case"what_to_hjlj_ut":case"do_sendhjlj_ut":case"what_to_sendpv_ut":case"do_sendpv_ut":o=!n}return o}},function(t,e,n){"use strict";function o(t){var e,n,o,a,r=[],s={};for(e=t.length-1;e>=0;e--)n=t[e],o=n[0],o&&o.indexOf(i.s_plain_obj)==-1&&s.hasOwnProperty(o)||(a=n[1],("aplus"==o||a)&&(r.unshift([o,a]),s[o]=1));return r}function a(t){var e,n,o,a,r=[],u={logtype:!0,cache:!0,scr:!0,"spm-cnt":!0};for(e=t.length-1;e>=0;e--)if(n=t[e],o=n[0],a=n[1],!(s.isStartWith(o,i.s_plain_obj)&&!s.isStartWith(o,i.mkPlainKeyForExparams())||u[o]))if(s.isStartWith(o,i.mkPlainKeyForExparams())){var c=i.param2arr(a);if("object"==typeof c&&c.length>0)for(var l=c.length-1;l>=0;l--){var p=c[l];p&&p[1]&&r.unshift([p[0],p[1]])}}else r.unshift([o,a]);return r}function r(){var t={isonepage:"-1",urlpagename:""},e=g.qGet();if(e&&e.hasOwnProperty("isonepage_data"))t.isonepage=e.isonepage_data.isonepage,t.urlpagename=e.isonepage_data.urlpagename;else{var n=c.getMetaCnt("isonepage")||"-1",o=n.split("|");t.isonepage=o[0],t.urlpagename=o[1]?o[1]:""}return t}var i=n(18),s=n(10),u=n(26),c=n(29),l=n(53),p=n(43),g=n(27),f=n(5),d=n(12);t.exports=function(){return{init:function(t){this.options=t},keyIsAvailable:function(t){var e=["functype","funcId","spm-cnt","spm-url","spm-pre","_ish5","_is_g2u","_h5url","cna","isonepage","lver","jsver"];return i.indexof(e,t)===-1},valIsAvailable:function(t){return"object"!=typeof t&&"function"!=typeof t},upUtData:function(t,e){var n=this;if(t=t?t:{},e&&"object"==typeof e)for(var o in e){var a=e[o];o&&n.valIsAvailable(a)&&n.keyIsAvailable(o)&&(t[o]=a)}return t},getToUtData:function(t){var e=u.getGoldlogVal("_$")||{},n=e.spm||{},s=this.options.context||{},c=!!s.is_single,p=s.what_to_sendpv||{},g=a(o(p.exparams||[]));g=i.arr2obj(g);var _=i.arr2obj(p.pvdata),h=a(o(s.userdata||[]));h=i.arr2obj(h);var m=location.href,v={},b=l.getParamFromUrl("scm",m)||"";b&&(v.scm=b);var y=l.getParamFromUrl("pg1stepk",m)||"";y&&(v.pg1stepk=y);var w=l.getParamFromUrl("point",m)||"";w&&(v.issb=1),_&&_.mansndlog&&(v.mansndlog=_.mansndlog),v=this.upUtData(v,g),v=this.upUtData(v,h);var x=r();v.functype="page",v.funcId="2001",v.url=goldlog.getMetaInfo("aplus-pagename")||location.origin+location.pathname,v._ish5="1",v._h5url=m,v._toUT=2,v._bridgeName=t.bridgeName||"",v._bridgeVersion=t.bridgeVersion||"",v["spm-cnt"]=n.spm_cnt||"",v["spm-url"]=n.spm_url||"",v["spm-pre"]=n.spm_pre||"",v.cna=d.getCookie("cna"),v.lver=goldlog.lver||f.lver,v.jsver=f.script_name,v.pver=goldlog.aplus_cplugin_ver,v.isonepage=x.isonepage;var T=goldlog.getMetaInfo("aplus-utparam");return T&&(v["utparam-cnt"]=JSON.stringify(T)),v._is_g2u_=c?1:2,v},run:function(){var t=this.options.context||{},e=t.what_to_sendpv_ut2||{},n=t.where_to_sendlog_ut||{},o=n.aplusToUT||{},a=o.toUT2||{};(a&&a.isAvailable&&"function"==typeof a.toUT2||p.haveNativeFlagInUA())&&(e.pvdataToUt=this.getToUtData(a),this.options.context.what_to_sendpv_ut2=e)}}}},function(t,e,n){"use strict";function o(t){var e,n,o,a,i=[],s={};for(e=t.length-1;e>=0;e--)n=t[e],o=n[0],o&&o.indexOf(r.s_plain_obj)==-1&&s.hasOwnProperty(o)||(a=n[1],("aplus"==o||a)&&(i.unshift([o,a]),s[o]=1));return i}function a(t){var e,n,o,a,s=[],u={logtype:!0,cache:!0,scr:!0,"spm-cnt":!0};for(e=t.length-1;e>=0;e--)if(n=t[e],o=n[0],a=n[1],!(i.isStartWith(o,r.s_plain_obj)&&!i.isStartWith(o,r.mkPlainKeyForExparams())||u[o]))if(i.isStartWith(o,r.mkPlainKeyForExparams())){var c=r.param2arr(a);if("object"==typeof c&&c.length>0)for(var l=c.length-1;l>=0;l--){var p=c[l];p&&p[1]&&s.unshift([p[0],p[1]])}}else s.unshift([o,a]);return s}var r=n(18),i=n(10),s=n(26),u=n(29),c=n(43),l=n(27),p=n(5),g=n(12);t.exports=function(){return{init:function(t){this.options=t},getToUtData:function(t,e){var n,i=s.getGoldlogVal("_$")||{},c=i.spm||{},f=a(o(t)),d={};try{var _=r.arr2obj(f);_._toUT=1,_._bridgeName=e.bridgeName||"",_._bridgeVersion=e.bridgeVersion||"",n=JSON.stringify(_)}catch(t){n='{"_toUT":1}'}var h=u.getOnePageInfo(l);d.functype="2001",d.urlpagename=h.urlpagename,d.url=location.href,d.spmcnt=c.spm_cnt||"",d.spmurl=c.spm_url||"",d.spmpre=c.spm_pre||"",d.lzsid="",d.cna=g.getCookie("cna"),d.extendargs=n,d.isonepage=h.isonepage;var m=this.options.context||{},v=!!m.is_single;return d._is_g2u_=v?1:2,d.version=p.toUtVersion,d.lver=goldlog.lver||p.lver,d.jsver=p.script_name,d},run:function(){var t=this.options.context||{},e=t.what_to_sendpv||{},n=e.pvdata||[],o=t.what_to_sendpv_ut||{},a=t.where_to_sendlog_ut||{},r=a.aplusToUT||{},i=r.toUT||{};(i&&i.isAvailable&&"function"==typeof i.toUT2||c.haveNativeFlagInUA())&&(o.pvdataToUt=this.getToUtData(n,i),this.options.context.what_to_sendpv_ut=o)}}}},function(t,e){"use strict";t.exports=function(){return{init:function(t){this.options=t},run:function(){var t=this.options.context||{},e=t.is_single?"1":"0";if(t.what_to_sendpv_ut2.pvdataToUt._slog=e,t.what_to_sendpv_ut.pvdataToUt._slog=e,t.what_to_sendpv.pvdata.push(["_slog",e]),t.ut_is_available){var n=t.is_single?"1":"2";t.what_to_sendpv.pvdata.push(["_is_g2u",n])}}}}},function(t,e,n){"use strict";var o=n(26);t.exports=function(){return{init:function(t){this.options=t},run:function(){var t=o.getGoldlogVal("_$")||{},e=this.options.context.can_to_sendpv||{},n=t.send_pv_count||0,a=this.options.config||{};return a.is_auto&&n>0?"done":(e.flag="YES",this.options.context.can_to_sendpv=e,t.send_pv_count=++n,void o.setGoldlogVal("_$",t))}}}},function(t,e,n){"use strict";var o=n(26),a=n(18);t.exports=function(){return{init:function(t){this.options=t},run:function(){var t=this.options.context||{},e=!!t.is_single;if(!e){var n=t.what_to_sendpv||{},r=t.where_to_sendpv||{},i=n.pvdata||[],s=goldlog.getMetaInfo("aplus-channel");if("WS-ONLY"!==s){var u=goldlog.send(r.url,a.arr2obj(i));o.setGoldlogVal("req",u)}}}}}},function(t,e,n){"use strict";var o=n(43);t.exports=function(){return{init:function(t){this.options=t},run:function(t,e){var n=this,a=this.options.context||{},r=a.what_to_sendpv_ut2||{},i=a.where_to_sendlog_ut||{},s=r.pvdataToUt||{},u=i.aplusToUT||{},c=u.toUT2;if(o.isNative4Aplus())return u.toutflag="toUT2",void(n.options.context.what_to_sendpv_ut2.isSuccess=!0);if(c&&"function"==typeof c.toUT2&&c.isAvailable)try{u.toutflag="toUT2",c.toUT2(s,function(){n.options.context.what_to_sendpv_ut2.isSuccess=!0,e("done")},function(t){n.options.context.what_to_sendpv_ut2.errorMsg=t,e()},2e3)}catch(t){e()}finally{return"pause"}}}}},function(t,e,n){"use strict";var o=n(43);t.exports=function(){return{init:function(t){this.options=t},run:function(t,e){var n=this,a=this.options.context||{},r=a.what_to_sendpv_ut||{},i=a.where_to_sendlog_ut||{},s=r.pvdataToUt||{},u=i.aplusToUT||{},c=u.toUT;if(o.isNative4Aplus())return u.toutflag="toUT",void(n.options.context.what_to_sendpv_ut.isSuccess=!0);if(c&&"function"==typeof c.toUT2&&c.isAvailable)try{u.toutflag="toUT",c.toUT2(s,function(){n.options.context.what_to_sendpv_ut.isSuccess=!0,e()},function(t){n.options.context.what_to_sendpv_ut.errorMsg=t,e()},2e3)}catch(t){e()}finally{return"pause"}}}}},function(t,e,n){"use strict";var o=n(38),a=n(26);t.exports=function(){return{init:function(t){this.options=t},run:function(){var t=goldlog._$||{},e=this.options.context||{};a.setGoldlogVal("pv_context",e);var n=goldlog.spm_ab||[],r=n.join("."),i=t.send_pv_count,s={cna:e.etag.cna,count:i,spmab_pre:goldlog.spmab_pre};o.doPubMsg(["sendPV","complete",r,s]),o.doCachePubs(["sendPV","complete",r,s])}}}},function(t,e){"use strict";e.plugins_prepv=[]},function(t,e,n){"use strict";function o(){var t=i.getGoldlogVal("_$")||{},e="//gm.mmstat.com/";return t.is_terminal&&(e="//wgo.mmstat.com/"),{where_to_hjlj:{url:e,ac_atpanel:"//ac.mmstat.com/",tblogUrl:"//log.mmstat.com/"}}}function a(){return r.assign(new s,new o)}var r=n(10),i=n(26),s=n(68);t.exports=a},function(t,e,n){"use strict";function o(){return{compose:{},basic_params:{cna:a.getCookie("cna")},where_to_hjlj:{url:"//gm.mmstat.com/",ac_atpanel:"//ac.mmstat.com/",tblogUrl:"//log.mmstat.com/"},userdata:{},what_to_hjlj:{logdata:{}},what_to_pvhash:{hash:[]},what_to_hjlj_exinfo:{EXPARAMS_FLAG:"EXPARAMS",exinfo:[],exparams_key_names:["uidaplus","pc_i","pu_i"]},what_to_hjlj_ut:{logdataToUT:{}},what_to_hjlj_ut2:{isSuccess:!1,logdataToUT:{}},where_to_sendlog_ut:{aplusToUT:{},toUTName:"toUT"},network:{connType:"UNKNOWN"},is_single:!1}}var a=n(12);t.exports=o},function(t,e,n){"use strict";e.plugins_hjlj=[{name:"etag",enable:!0,path:n(37)},{name:"where_to_sendlog_ut",enable:!0,path:n(40)},{name:"is_single",enable:!0,path:n(42)},{name:"what_to_hjlj_exinfo",enable:!0,path:n(70)},{name:"what_to_pvhash",enable:!0,path:n(46)},{name:"what_to_hjlj",enable:!0,path:n(71),deps:["what_to_hjlj_exinfo","what_to_pvhash"]},{name:"what_to_hjlj_ut2",enable:n(57),path:n(72),deps:["is_single","what_to_hjlj_exinfo"]},{name:"what_to_hjlj_ut",enable:n(57),path:n(73),deps:["is_single","what_to_hjlj_exinfo"]},{name:"what_to_hjlj_slog",enable:!0,path:n(74),deps:["what_to_hjlj"]},{name:"where_to_hjlj",enable:!0,path:n(75),deps:["is_single","what_to_hjlj"]},{name:"do_sendhjlj",enable:!0,path:n(76),deps:["is_single","what_to_hjlj","where_to_hjlj"]},{name:"do_sendhjlj_ut2",enable:n(57),path:n(77),deps:["what_to_hjlj","what_to_hjlj_ut2","where_to_sendlog_ut"]},{name:"do_sendhjlj_ut",path:n(78),deps:["what_to_hjlj","what_to_hjlj_ut","where_to_sendlog_ut"]}]},function(t,e,n){"use strict";var o=n(18),a=n(31),r=n(26),i=n(26),s=n(25),u=n(12);t.exports=function(){return{init:function(t){this.options=t},getCookieUserInfo:function(){var t=[],e=u.getCookie("workno")||u.getCookie("emplId");e&&t.push("workno="+e);var n=u.getHng();return n&&t.push("_hng="+u.getHng()),t},filterExinfo:function(t){var e="";try{t&&("string"==typeof t?e=t.replace(/&amp;/g,"&").replace(/\buser(i|I)d=/,"uidaplus=").replace(/&aplus&/,"&"):"object"==typeof t&&(e=o.obj2param(t,!0)))}catch(t){e=t.message?t.message:""}return e},getExparamsFlag:function(){var t=this.options.context||{},e=t.what_to_hjlj_exinfo||{};return e.EXPARAMS_FLAG||"EXPARAMS"},getCustomExParams:function(t){var e="";return t!==this.getExparamsFlag()&&(e=this.filterExinfo(t)||""),e?e.split("&"):[]},getBeaconExparams:function(t,e){var n=[],r=a.getExParams(o)||"";r=r.replace(/&aplus&/,"&");for(var i=o.param2arr(r)||[],u=function(e){return s.indexof(t,e)>-1},c=0;c<i.length;c++){var l=i[c],p=l[0]||"",g=l[1]||"";p&&g&&(e===this.getExparamsFlag()||u(p))&&n.push(p+"="+g)}return n},getExinfo:function(t){var e=this.options.context||{},n=e.what_to_hjlj_exinfo||{},o=n.exparams_key_names||[],a=this.getBeaconExparams(o,t);return a},getExData:function(t){var e=[];if("object"==typeof t)for(var n in t){var o=t[n];n&&o&&"object"!=typeof o&&"function"!=typeof o&&e.push(n+"="+o)}return e},doConcatArr:function(t,e){return e&&e.length>0&&(t=t.concat(e)),t},run:function(){try{var t=this.options.context.what_to_hjlj_exinfo||{},e=r.getGoldlogVal("_$")||{},n=e.meta_info||{},o=n["aplus-exinfo"]||"",a=n["aplus-exdata"]||"",s=[];s=this.doConcatArr(s,t.exinfo||[]),s=this.doConcatArr(s,this.getExinfo(o)),s=this.doConcatArr(s,this.getCookieUserInfo()),s=this.doConcatArr(s,this.getCustomExParams(o)),s=this.doConcatArr(s,this.getExData(a)),t.exinfo=s.join("&"),this.options.context.what_to_hjlj_exinfo=t}catch(t){i.logger({msg:t?t.message:""})}}}}},function(t,e,n){"use strict";var o=n(31),a=n(18),r=n(12),i=n(10),s=n(5);t.exports=function(){return{init:function(t){this.options=t;var e=navigator.userAgent;this.isChrome=/Chrome/.test(e),this.isSafari=/Safari/.test(e)&&!this.isChrome},getParams:function(){var t=this.options.context||{},e=t.userdata||{},n=t.basic_params||{},u=t.what_to_hjlj_exinfo||{},c=u.exinfo||"",l=t.etag||{},p=l.cna||n.cna||r.getCookie("cna"),g=e.gmkey,f="";e.gokey&&c?f=[e.gokey,c].join("&"):e.gokey?f=e.gokey:c&&(f=c);var d=t.what_to_pvhash||{},_=d.hash||[];_.length&&(f+="&"+_.join("=")),f+="&jsver="+s.script_name,f+="&lver="+s.lver,f+="&pver="+goldlog.aplus_cplugin_ver,f+="&cache="+i.makeCacheNum(),f+="&page_cna="+p;var h={gmkey:g||"",gokey:f,cna:p},m=goldlog.getMetaInfo("aplus-p-url-init");m&&(h._p_url=m),e["spm-cnt"]&&(h["spm-cnt"]=e["spm-cnt"]),e["spm-pre"]&&(h["spm-pre"]=e["spm-pre"]);try{var v=o.getExParams(a),b=a.param2obj(v).uidaplus;b&&(h._gr_uid_=b)}catch(t){}return h},run:function(){this.options.context.what_to_hjlj.logdata=this.getParams()}}}},function(t,e,n){"use strict";var o=n(44),a=n(26),r=n(5);t.exports=function(){return{init:function(t){this.options=t},getToUtData:function(t,e){var n=a.getGoldlogVal("_$")||{},i=n.spm||{},s=this.options.context.userdata||{},u=this.options.context.basic_params||{},c=this.options.context||{},l=c.what_to_hjlj_exinfo||{},p=l.exinfo||"",g="";s.gokey&&p?g=[s.gokey,p].join("&"):s.gokey?g=s.gokey:p&&(g=p);var f={};f.functype="ctrl",f.funcId=o.getFunctypeValue2({logkey:s.logkey,gmkey:s.gmkey,spm_ab:a.getGoldlogVal("spm_ab")}),f.url=goldlog.getMetaInfo("aplus-pagename")||location.origin+location.pathname,f.logkey=s.logkey,f.gokey=encodeURIComponent(g),f.gmkey=s.gmkey,f._ish5="1",f._h5url=location.href,f._is_g2u_=t?1:2,f._toUT=2,f._bridgeName=e.bridgeName||"",f._bridgeVersion=e.bridgeVersion||"",f["spm-cnt"]=i.spm_cnt||"",f["spm-url"]=i.spm_url||"",f["spm-pre"]=i.spm_pre||"",f.cna=u.cna,f.lver=r.lver,f.jsver=r.script_name,s.hasOwnProperty("autosend")&&(f.autosend=s.autosend);var d=goldlog.getMetaInfo("aplus-utparam");return d&&(f["utparam-cnt"]=JSON.stringify(d)),f},run:function(){var t=this.options.context||{},e=t.what_to_hjlj_ut2||{},n=!!t.is_single,o=t.where_to_sendlog_ut||{},a=o.aplusToUT||{},r=a.toUT2||{};e.logdataToUT=this.getToUtData(n,r),this.options.context.what_to_hjlj_ut2=e}}}},function(t,e,n){"use strict";var o=n(44),a=n(12),r=n(26),i=n(5);t.exports=function(){return{init:function(t){this.options=t},getToUtData:function(t,e){var n=r.getGoldlogVal("_$")||{},s=n.spm||{},u=this.options.context||{},c=u.userdata||{},l=u.what_to_hjlj_exinfo||{},p=l.exinfo||"",g="";c.gokey&&p?g=[c.gokey,p].join("&"):c.gokey?g=c.gokey:p&&(g=p);var f={gmkey:c.gmkey,gokey:g,lver:i.lver,jsver:i.script_name,version:i.toUtVersion,spm_cnt:s.spm_cnt||"",spm_url:s.spm_url||"",spm_pre:s.spm_pre||""};f._is_g2u_=t?1:2,f._bridgeName=e.bridgeName||"",f.bridgeVersion=e.bridgeVersion||"",f._toUT=1;try{f=JSON.stringify(f),"{}"==f&&(f="")}catch(t){f=""}var d=n.meta_info||{},_=d.isonepage_data||{},h={};return h.functype=o.getFunctypeValue({logkey:c.logkey,gmkey:c.gmkey,spm_ab:r.getGoldlogVal("spm_ab")}),h.spmcnt=s.spm_cnt||"",h.spmurl=s.spm_url||"",h.spmpre=s.spm_pre||"",h.logkey=c.logkey,h.logkeyargs=f,h.urlpagename=_.urlpagename,h.url=location.href,h.cna=a.getCookie("cna")||"",h.extendargs="",h.isonepage=_.isonepage,h},run:function(){var t=this.options.context||{},e=!!t.is_single,n=t.what_to_hjlj_ut||{},o=t.where_to_sendlog_ut||{},a=o.aplusToUT||{},r=a.toUT||{};n.logdataToUT=this.getToUtData(e,r),this.options.context.what_to_hjlj_ut=n}}}},function(t,e){"use strict";t.exports=function(){return{init:function(t){this.options=t},run:function(){var t=this.options.context||{},e=t.is_single?"1":"0";t.what_to_hjlj_ut2.logdataToUT._slog=e,t.what_to_hjlj_ut.logdataToUT._slog=e;var n=["_slog="+e];if(t.ut_is_available){var o=t.is_single?"1":"2";n.push("_is_g2u="+o)}t.what_to_hjlj.logdata.gokey?t.what_to_hjlj.logdata.gokey+="&"+n.join("&"):t.what_to_hjlj.logdata.gokey=n.join("&")}}}},function(t,e,n){"use strict";var o=n(18),a=n(10),r=n(26),i=n(24),s=n(27);t.exports=function(){return{init:function(t){this.options=t},getMetaInfo:function(){var t=r.getGoldlogVal("_$")||{},e=t.meta_info||s.getInfo();return e},getAplusMetaByKey:function(t){var e=this.getMetaInfo()||{};return e[t]},cramUrl:function(t){var e=r.getGoldlogVal("_$")||{},n=e.spm||{},o=this.options.context.where_to_hjlj||{},i=o.ac_atpanel,s=o.tblogUrl,u=this.options.context.what_to_hjlj||{},c=this.options.context.userdata||{},l=!0,p=c.logkey;if(!p)return{url:t,logkey_available:!1};if("ac"==p)t=i+"1.gif";else if(a.isStartWith(p,"ac-"))t=i+p.substr(3);else if(a.isStartWith(p,"/")){t+=p.substr(1);var g=u.logdata||{};g["spm-cnt"]=n.spm_cnt,g.logtype=2;try{u.logdata=g,this.options.context.what_to_hjlj=u}catch(t){}}else a.isEndWith(p,".gif")?t=s+p:l=!1;return{url:t,logkey_available:l}},can_to_sendhjlj:function(t){var e=this.options.context||{},n=e.logger||function(){},o=this.options.context.userdata||{};return!!t.logkey_available||(n({msg:"logkey: "+o.logkey+" is not legal!"}),!1)},run:function(){var t=!!this.options.context.is_single;if(!t){var e,n,a=o.filterIntUrl(this.options.context.where_to_hjlj.url),r=this.getAplusMetaByKey("aplus-rhost-g"),s=r&&o.hostValidity(r);s&&(e=/^\/\//.test(r)?"":"//",n=/\/$/.test(r)?"":"/",a=e+r+n),r&&!s&&i.logger({msg:"aplus-rhost-g: "+r+' is invalid, suggestion: "xxx.mmstat.com"'});var u=this.cramUrl(a);return this.can_to_sendhjlj(u)?void(this.options.context.where_to_hjlj.url=u.url):"done"}}}}},function(t,e,n){"use strict";var o=n(26);t.exports=function(){return{init:function(t){this.options=t},run:function(){var t=this.options.context||{},e=this.options.config||{},n=!!t.is_single;if(!n){var a=t.logger||{},r=t.what_to_hjlj||{},i=t.where_to_hjlj||{},s=r.logdata||{},u=i.url||"";u||"function"!=typeof a||a({msg:"warning: where_to_hjlj.url is null, goldlog.record failed!"});var c=goldlog.getMetaInfo("aplus-channel");if("WS-ONLY"!==c){var l=goldlog.send(i.url,s,e.method||"GET");o.setGoldlogVal("req",l)}}}}}},function(t,e,n){"use strict";var o=n(43);t.exports=function(){return{init:function(t){this.options=t},run:function(t,e){var n=this,a=this.options.context||{},r=a.logger||function(){},i=a.what_to_hjlj_ut2||{},s=a.where_to_sendlog_ut||{},u=!!a.is_single,c=i.logdataToUT||{},l=s.aplusToUT||{},p=l.toUT2;if(o.isNative4Aplus())return l.toutflag="toUT2",void(n.options.context.what_to_hjlj_ut2.isSuccess=!0);if(p&&"function"==typeof p.toUT2&&p.isAvailable)try{l.toutflag="toUT2",p.toUT2(c,function(){n.options.context.what_to_hjlj_ut2.isSuccess=!0,e()},function(t){n.options.context.what_to_hjlj_ut2.errorMsg=t,e()},2e3)}catch(t){u&&r({msg:"warning: singleSendHjlj toUTName = toUT2 errorMsg:"+t.message})}finally{return"pause"}}}}},function(t,e,n){"use strict";var o=n(43);t.exports=function(){return{init:function(t){this.options=t},run:function(t,e){var n=this,a=this.options.context||{},r=a.what_to_hjlj_ut2.isSuccess,i=a.logger||function(){},s=!!a.is_single,u=a.where_to_sendlog_ut||{},c=a.what_to_hjlj_ut||{},l=c.logdataToUT||{},p=u.aplusToUT||{},g=p.toUT;if(o.isNative4Aplus())return p.toutflag="toUT",void(n.options.context.what_to_hjlj_ut.isSuccess=!0);if(!r&&g&&"function"==typeof g.toUT2&&g.isAvailable)try{p.toutflag="toUT",g.toUT2(l,function(){n.options.context.what_to_hjlj_ut.isSuccess=!0,e()},function(t){n.options.context.what_to_hjlj_ut.errorMsg=t,e()},3e3)}catch(t){s&&i({msg:"warning: singleSend toUTName = "+u.toUTName+" errorMsg:"+t.message})}finally{return"pause"}}}}},function(t,e,n){"use strict";function o(){var t,e,n=i.KEY||{},o=n.NAME_STORAGE||{};if(!l&&c){var a=location.href,u=c&&(a.indexOf("login.taobao.com")>=0||a.indexOf("login.tmall.com")>=0),p=s.getRefer();u&&p?(t=p,e=r.getItem(o.REFERRER_PV_ID)):(t=a,e=goldlog.pvid),r.setItem(o.REFERRER,t),r.setItem(o.REFERRER_PV_ID,e)}}var a=n(80),r=n(55).nameStorage,i=n(5),s=n(54),u=n(83),c="https:"==location.protocol,l=parent!==self;e.run=function(){var t="beforeunload";a.on(window,t,function(){o(),u(t)})}},function(t,e,n){"use strict";function o(t,e,n){var o=goldlog._$||{},a=o.meta_info||{},r=a.aplus_ctap||{},i=a["aplus-touch"];if(r&&"function"==typeof r.on)r.on(t,e);else{var u="ontouchend"in document.createElement("div");!u||"tap"!==i&&"tapSpm"!==n?s(t,u?"touchstart":"mousedown",e):c.on(t,e)}}function a(t){try{p.documentElement.doScroll("left")}catch(e){return void setTimeout(function(){a(t)},1)}t()}function r(t){var e=0,n=function(){0===e&&t(),e++};"complete"===p.readyState&&n();var o;if(p.addEventListener)o=function(){p.removeEventListener("DOMContentLoaded",o,!1),n()},p.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",n,!1);else if(p.attachEvent){o=function(){"complete"===p.readyState&&(p.detachEvent("onreadystatechange",o),n())},p.attachEvent("onreadystatechange",o),window.attachEvent("onload",n);var r=!1;try{r=null===window.frameElement}catch(t){}p.documentElement.doScroll&&r&&a(n)}}function i(t){"complete"===p.readyState?t():s(l,"load",t)}function s(){var t=arguments;if(2===t.length)"DOMReady"===t[0]&&r(t[1]),"onload"===t[0]&&i(t[1]);else if(3===t.length){var e=t[0],n=t[1],a=t[2];"tap"===n||"tapSpm"===n?o(e,a,n):e[_]((g?"on":"")+n,function(t){t=t||l.event;var e=t.target||t.srcElement;"function"==typeof a&&a(t,e)},!!u(n)&&{passive:!0})}}var u=n(81),c=n(82),l=window,p=document,g=!!p.attachEvent,f="attachEvent",d="addEventListener",_=g?f:d;e.DOMReady=r,e.onload=i,e.on=s},function(t,e){var n;t.exports=function(t){if("boolean"==typeof n)return n;if(!/touch|mouse|scroll|wheel/i.test(t))return!1;n=!1;try{var e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,e)}catch(t){}return n}},function(t,e){"use strict";function n(t,e){return t+Math.floor(Math.random()*(e-t+1))}function o(t,e,n){var o=l.createEvent("HTMLEvents");if(o.initEvent(e,!0,!0),"object"==typeof n)for(var a in n)o[a]=n[a];t.dispatchEvent(o)}function a(t){0===Object.keys(g).length&&(p.addEventListener(_,r,!1),p.addEventListener(d,i,!1),p.addEventListener(m,i,!1));for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],o={};for(var a in n)o[a]=n[a];var s={startTouch:o,startTime:Date.now(),status:h,element:t.srcElement||t.target};g[n.identifier]=s}}function r(t){for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],o=g[n.identifier];if(!o)return;var a=n.clientX-o.startTouch.clientX,r=n.clientY-o.startTouch.clientY,i=Math.sqrt(Math.pow(a,2)+Math.pow(r,2));
(o.status===h||"pressing"===o.status)&&i>10&&(o.status="panning")}}function i(t){for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],a=n.identifier,s=g[a];s&&(s.status===h&&t.type===d&&(s.timestamp=Date.now(),o(s.element,v,{touch:n,touchEvent:t})),delete g[a])}0===Object.keys(g).length&&(p.removeEventListener(_,r,!1),p.removeEventListener(d,i,!1),p.removeEventListener(m,i,!1))}function s(t){t.__fixTouchEvent||(t.addEventListener(f,function(){},!1),t.__fixTouchEvent=!0)}function u(){c||(p.addEventListener(f,a,!1),c=!0)}var c=!1,l=window.document,p=l.documentElement,g={},f="touchstart",d="touchend",_="touchmove",h="tapping",m="touchcancel",v="aplus_tap"+n(1,1e5);t.exports={on:function(t,e){u(),t&&t.addEventListener&&e&&(s(t),t.addEventListener(v,e._aplus_tap_callback=function(t){e(t,t.target)},!1))},un:function(t,e){t&&t.removeEventListener&&e&&e._aplus_tap_callback&&t.removeEventListener(v,e._aplus_tap_callback,!1)}}},function(t,e){"use strict";t.exports=function(t){var e=goldlog&&goldlog._$?goldlog._$.pageLoadTime:"";if("setPageSPM"===t){goldlog.preSetPageSPMTime=goldlog.setPageSPMTime||e||"",goldlog.setPageSPMTime=(new Date).getTime();var n=goldlog.spm_ab;n&&"0.0"!==n&&goldlog.record("/x.p.d","OTHER","_s="+goldlog.preSetPageSPMTime+"&_e="+goldlog.setPageSPMTime+"&from="+t,"POST")}else if("beforeunload"===t){var o="";try{o=performance.timing.domInteractive}catch(t){o=e}var a=(new Date).getTime();goldlog.record("/x.p.d","OTHER","_s="+o+"&_e="+a+"&from="+t,"POST")}}},function(t,e,n){"use strict";function o(){var t=(new Date).getTime(),e=Math.floor(t/72e5),n=a.getElementById("aplus-sufei"),o=goldlog._$||{},s=goldlog.getCdnPath(),u=s+"/alilog/aplus_plugin_xwj/index.js?t="+e,c=s+"/alilog/oneplus/entry.js?t="+e,l=s+"/alilog/stat/a.js?t="+e,p=s+"/secdev/entry/index.js?t="+e,g=s+"/alilog/mlog/wp_beacon.js?t="+e,f=o.meta_info,d=function(){r.addScript(l),r.addScript(g),r.addScript(u),r.addScript(c)},_=function(){Math.random()<.01&&r.addScript(l),f.ms_data_instance_id&&f.ms_prototype_id&&f.ms_prototype_id.match(/^[124]$/)&&f.ms_data_shop_id&&r.addScript(g);var t=f["aplus-rate-ahot"];(Math.random()<t||f["ahot-aplus"])&&r.addScript(u),r.addScript(c)},h=f["aplus-xplug"];i.onload(function(){try{switch(h){case"NONE":break;case"ALL":d();break;default:_()}}catch(t){}}),"NONE"!==h&&setTimeout(function(){n&&"script"==n.tagName.toLowerCase()||r.addScript(p,"","aplus-sufei")},10)}var a=document,r=n(31),i=n(80),s=n(85);e.run=function(){o()},e.init_watchGoldlogQueue=s.init_watchGoldlogQueue},function(t,e,n){"use strict";function o(t,e){for(var n={subscribeMwChangeQueue:[],subscribeMetaQueue:[],subscribeQueue:[],metaQueue:[],othersQueue:[]},o=[],a={};a=t.shift();)try{var r=a.action,i=a.arguments[0];/subscribe/.test(r)?"setMetaInfo"===i?n.subscribeMetaQueue.push(a):"mw_change_pv"===i||"mw_change_hjlj"===i?n.subscribeMwChangeQueue.push(a):n.subscribeQueue.push(a):/MetaInfo/.test(r)?n.metaQueue.push(a):n.othersQueue.push(a)}catch(t){n.othersQueue.push(a),u.do_tracker_jserror({message:t&&t.message,error:encodeURIComponent(t.stack),filename:"getFormatQueue"})}var s;return e&&n[e]&&(s=n[e],n[e]=[]),o=n.subscribeMwChangeQueue.concat(n.metaQueue),o=o.concat(n.subscribeQueue),o=o.concat(n.subscribeMetaQueue,n.othersQueue),{queue:o,formatQueue:s}}var a=window,r=n(10),i=n(86),s=n(87),u=n(4),c="goldlog_queue",l=function(t,e,n){try{/_aplus_cplugin_track_deb/.test(t)||/_aplus_cplugin_m/.test(t)||u.do_tracker_jserror({message:n||'illegal task: goldlog_queue.push("'+JSON.stringify(e)+'")',error:JSON.stringify(e),filename:"processTask"})}catch(t){}},p=function(t,e){var n=t?t.action:"",o=t?t.arguments:"";try{if(n&&o&&r.isArray(o)){var i=n.split("."),s=a,u=a;if(3===i.length)s=a[i[0]][i[1]]||{},u=s[i[2]]?s[i[2]]:"";else for(;i.length;)if(u=s=s[i.shift()],!s)return void("function"==typeof e?e(t):l(n,t));"function"==typeof u&&u.apply(s,o)}else l(n,t)}catch(e){l(n,t,e.message)}},g=function(t){function e(){if(t&&r.isArray(t)&&t.length){for(var e=o(t).queue,n={},a=[];n=e.shift();)p(n,function(t){a.push(t)});a.length>0&&setTimeout(function(){for(;n=a.shift();)p(n)},100)}}try{e()}catch(t){u.do_tracker_jserror({message:t&&t.message,error:encodeURIComponent(t.stack),filename:"processGoldlogQueue"})}};e.processGoldlogQueue=g;var f=i.extend({push:function(t){this.length++,p(t)}});e.init_watchGoldlogQueue=function(t){try{var e=a[c]||[];if(t){var n=o(e,t);a[c]=n.queue,g(n.formatQueue)}else a[c]=f.create({startLength:e.length,length:0}),s.init_loadAplusPlugin(),g(e)}catch(t){u.do_tracker_jserror({message:t&&t.message,error:encodeURIComponent(t.stack),filename:"init_watchGoldlogQueue"})}}},function(t,e){"use strict";function n(){}n.prototype.extend=function(){},n.prototype.create=function(){},n.extend=function(t){return this.prototype.extend.call(this,t)},n.prototype.create=function(t){var e=new this;for(var n in t)e[n]=t[n];return e},n.prototype.extend=function(t){var e=function(){};try{"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),e.prototype=Object.create(this.prototype);for(var n in t)e.prototype[n]=t[n];e.prototype.constructor=e,e.extend=e.prototype.extend,e.create=e.prototype.create}catch(t){console.log(t)}finally{return e}},t.exports=n},function(t,e,n){"use strict";var o=n(31),a=n(29),r=n(7),i=function(){var t=goldlog.getCdnPath()+"/alilog/s/"+r.lver+"/plugin/";return{aplus_ae_path:t+"aplus_ae.js",aplus_ac_path:t+"aplus_ac.js"}},s={},u="aplus-auto-exp",c="aplus-auto-clk",l=function(t,e){var n=i(),r=goldlog&&goldlog.getMetaInfo?goldlog.getMetaInfo(t):"",l=e||r||a.getMetaCnt(t),p={};p[u]=n.aplus_ae_path,p[c]=n.aplus_ac_path,l&&p[t]&&!s[t]&&(o.addScript(p[t]),s[t]=!0)};e.init_loadAplusPlugin=function(){try{!goldlog._aplus_auto_exp&&l(u),!goldlog._aplus_ac&&l(c),goldlog.aplus_pubsub.subscribe("setMetaInfo",function(t,e){t!==u||goldlog._aplus_auto_exp||l(t,e),t!==c||goldlog._aplus_ac||l(t,e)})}catch(t){}}},function(t,e){"use strict";function n(t,e){return t.indexOf(e)>-1}function o(t,e){for(var o=0,a=t.length;o<a;o++)if(n(e,t[o]))return!0;return!1}var a=location.host,r=["admin.taobao.org","mybank.cn"],i=["tmc.admin.taobao.org","tmall.admin.taobao.org"];e.is_exception=o(r,a)&&!o(i,a)},function(t,e,n){"use strict";function o(){var t,e,n,o,a=c.getElementsByTagName("meta");for(t=0,e=a.length;t<e;t++)if(n=a[t],o=n.getAttribute("name"),"data-spm"===o||"spm-id"===o)return n}function a(){var t=c.createElement("meta");t.setAttribute("name","data-spm");var e=c.getElementsByTagName("head")[0];return e&&e.insertBefore(t,e.firstChild),t}function r(){var t=o();t||(t=a()),t.setAttribute("content",goldlog.spm_ab[0]||"");var e=c.getElementsByTagName("body")[0];e&&e.setAttribute("data-spm",goldlog.spm_ab[1]||"")}function i(){var t,e,n,o=c.getElementsByTagName("*");for(t=0,e=o.length;t<e;t++)n=o[t],n.getAttribute("data-spm-max-idx")&&n.setAttribute("data-spm-max-idx",""),n.getAttribute("data-spm-anchor-id")&&n.setAttribute("data-spm-anchor-id","")}function s(){var t=5e3;try{var e=goldlog.getMetaInfo("aplus-mmstat-timeout");if(e){var n=parseInt(e);n>=1e3&&n<=1e4&&(t=n)}}catch(t){}return t}var u=window,c=document,l=n(86),p=n(18),g=n(80),f=n(31),d=n(24),_=n(38),h=n(10),m=n(26),v=n(22),b=n(41),y=n(83),w=n(52),x=n(27),T=x.getInfo(),j=n(5),P=n(4),S=n(90),A=n(12),k=n(93),U=n(3),E=(d.isDebugAplus(),[]),M=[],I=[],C=[],N="//g.alicdn.com",V="//g-assets.daily.taobao.net",O="//assets.alicdn.com/g",G="//s.alicdn.com/@g/",L="//u.alicdn.com",R="//laz-g-cdn.alicdn.com";e.run=l.extend({getCdnPath:function(){var t=f.getCurrentNode(),e=N,n=[O,G,V,L,R],o=new RegExp(L);if(t)for(var a=0;a<n.length;a++){var r=new RegExp(n[a]);if(r.test(t.src)){e=n[a],o.test(t.src)&&(e=O);break}}return e},isInternational:function(){this.cdnPath||(this.cdnPath=this.getCdnPath());var t=[O,G,R].indexOf(this.cdnPath)>-1;return t||"int"===this.getMetaInfo("aplus-env")},getCookie:function(t){return A.getCookie(t)},getParam:function(t){var e=u.WindVane||{},n=b.isAplusChnl(),o="";n&&"object"==typeof n&&(o=n.bridgeName||"customBridge");var a=e.getParam?"WindVane":o,r=e&&"function"==typeof e.getParam?e.getParam(t):"",i=(goldlog.spm_ab?goldlog.spm_ab.join("."):"0.0","sid="+t+"@valueIsEmpty="+!r);return a&&(i+="_bridgeName="+a),r},beforeSendPV:function(t){E.push(t)},afterSendPV:function(t){M.push(t)},send:function(t,e,n){var o;if(0===t.indexOf("//")){var a=v.getProtocal();t=a+t}return o="POST"===n&&navigator&&navigator.sendBeacon?U.postData(t,e):U.sendImg(p.makeUrl(t,e),s())},launch:function(t,e){var n;try{e=h.assign(e,t),n=goldlog._$._sendPV(e,t);var o=goldlog.spm_ab?goldlog.spm_ab.join("."):"0.0";P.do_tracker_obsolete_inter({page:location.hostname+location.pathname,spm_ab:o,interface_name:"goldlog.launch",interface_params:"userdata = "+JSON.stringify(t)+", config = "+JSON.stringify(e)})}catch(t){}finally{return d.logger({msg:"warning: This interface is deprecated, please use goldlog.sendPV instead! API: http://log.alibaba-inc.com/log/info.htm?type=2277&id=31"}),n}},_$:{_sendPV:function(t,e){if(t=t||{},h.any(E,function(e){return e(goldlog,t)===!1}))return!1;var o=n(95).SendPV,a=new o;return"undefined"==typeof t.recordType&&(t.recordType=j.recordTypes.pv),a.run(t,e,{fn_after_pv:M}),!0},_sendPseudo:function(t,e){t||(t={});var o=n(96).SendPrePV,a=new o;return"undefined"==typeof t.recordType&&(t.recordType=j.recordTypes.prepv),a.run(t,e,{},function(){_.doPubMsg(["sendPrePV","complete"])}),!0}},sendPV:function(t,e){return e=e||{},e.pageName&&goldlog.setMetaInfo("aplus-pagename",e.pageName),goldlog._$._sendPV(t,e)},updatePageProperties:function(t){t&&"object"==typeof t?(t._page&&(t.pageName=t._page,delete t._page),t.pageName&&(goldlog.setMetaInfo("aplus-pagename",t.pageName),delete t.pageName),goldlog.appendMetaInfo("aplus-cpvdata",t)):d.logger({msg:"warning: typeof updatePageProperties's params must be object"})},beforeRecord:function(t){I.push(t)},afterRecord:function(t){C.push(t)},record:function(t,e,n,o,a){if(!h.any(I,function(t){return t(goldlog)===!1}))return"POST"!==o&&"WS"!==o&&"WS-ONLY"!==o&&(o="GET"),S.run({recordType:j.recordTypes.hjlj,method:o},{logkey:t,gmkey:e,gokey:n},{fn_after_record:C},function(){"function"==typeof a&&a()}),!0},recordUdata:function(t,e,n,o,a){var r=m.getGoldlogVal("_$")||{},i=r.spm||{};"POST"!==o&&"WS"!==o&&"WS-ONLY"!==o&&(o="GET"),S.run({ignore_chksum:!0,method:o,recordType:j.recordTypes.uhjlj},{logkey:t,gmkey:e,gokey:n,"spm-cnt":i.spm_cnt,"spm-pre":i.spm_pre},{},function(){h.isFunction(a)&&a()})},setPageSPM:function(t,e,n){var o="setPageSPM";y(o);var a=goldlog.getMetaInfo("aplus-spm-fixed"),s="function"==typeof n?n:function(){};goldlog.spm_ab=goldlog.spm_ab||[];var u=h.cloneObj(goldlog.spm_ab);if(t&&(goldlog.spm_ab[0]=""+t,goldlog._$.spm.data.a=""+t),e&&(goldlog.spm_ab[1]=""+e,goldlog._$.spm.data.b=""+e),w.spaInit(goldlog,T,u),"1"!==a){var c=u.join(".");goldlog.spmab_pre=c}var l=goldlog.spm_ab.join(".");_.doPubMsg([o,{spmab_pre:goldlog.spmab_pre,spmab:l}]),_.doCachePubs([o,{spmab_pre:goldlog.spmab_pre,spmab:l}]),r(),i(),s()},setMetaInfo:function(t,e,n){if(x.setMetaInfo(t,e,n)){var o=m.getGoldlogVal("_$")||{};o.meta_info=x.qGet();var a=m.setGoldlogVal("_$",o),r=k.isDisablePvid()+"";return"aplus-disable-pvid"===t&&r!==e+""&&w.resetSpmCntPvid(),_.doPubMsg(["setMetaInfo",t,e,n]),_.doCachePubs(["setMetaInfo",t,e,n]),a}},appendMetaInfo:x.appendMetaInfo,getMetaInfo:function(t){return x.getMetaInfo(t)},on:g.on,cloneDeep:h.cloneDeep,getPvId:k.getPvId})},function(t,e,n){"use strict";var o=n(10),a=n(26),r=n(38),i=n(24),s=n(91),u=n(92),c=n(5);e.run=function(t,e,n,l){var p=new u;p.init({middleware:[],config:t,plugins:c.plugins_hjlj});var g=p.run(),f=new c.context_hjlj;f.userdata=e,f.logger=i.logger;var d={context:f,pubsub:a.getGoldlogVal("aplus_pubsub"),pubsubType:"hjlj"},_=new s;_.create(d),_.wrap(g,function(){d.context.status="complete",d.context.method=t.method,r.doPubMsg(["mw_change_hjlj",d.context]),n&&n.fn_after_record&&o.each(n.fn_after_record,function(t){t(window.goldlog)}),"function"==typeof l&&l()})()}},function(t,e,n){"use strict";function o(){}var a=n(25),r=n(23),i=n(24),s=n(4),u=n(12);o.prototype.create=function(t){for(var e in t)"undefined"==typeof this[e]&&(this[e]=t[e]);return this},o.prototype.pubsubInfo=function(t,e){try{t&&t.pubsub&&t.pubsub.publish("mw_change_"+t.pubsubType,t.context,e)}catch(t){}},o.prototype.calledList=[],o.prototype.setCalledList=function(t){a.indexof(this.calledList,t)===-1&&this.calledList.push(t)},o.prototype.resetCalledList=function(){this.calledList=[]},o.prototype.wrap=function(t,e){var n=this,o=this.context||{},c=o.compose||{},l=c.maxTimeout||1e4;return function(o){var c,p=t.length,g=0,f=0,d=function(){if(n.pubsubInfo(n,t[g]),g===p)return o="done",n.resetCalledList(),"function"==typeof e&&e.call(n,o),void clearTimeout(c);if(a.indexof(n.calledList,g)===-1){if(n.setCalledList(g),!t[g]||"function"!=typeof t[g][0])return;try{o=t[g][0].call(n,o,function(){g++,f=1,clearTimeout(c),d(g)})}catch(e){s.do_tracker_jserror({message:e?e.message:"compose middleware error",error:encodeURIComponent(e.stack),filename:t[g][1]})}}var _="number"==typeof o;if("pause"===o||_){f=0;var h=_?o:l,m=t[g]?t[g][1]:"";c=r.sleep(h,function(){if(0===f){var t="jump the middleware about "+m+", because waiting timeout maxTimeout = "+h+"ms!";i.logger({msg:t});var e=window.goldlog_queue||(window.goldlog_queue=[]);e.push({action:"goldlog._aplus_cplugin_m.do_tracker_browser_support",arguments:[{msg:t,spmab:goldlog.spm_ab,page:location.href,etag:n.context?JSON.stringify(n.context.etag):"",cna:document.cookie?u.getCookie("cna"):""}]}),o=null,g++,d(g)}})}else"done"===o?(g=p,d(g)):(g++,d(g))};return n.calledList&&n.calledList.length>0&&n.resetCalledList(),d(g)}},t.exports=o},function(t,e,n){"use strict";var o=n(25);t.exports=function(){return{init:function(t){this.opts=t,t&&"object"==typeof t.middleware&&t.middleware.length>0?this.middleware=t.middleware:this.middleware=[],this.plugins_name=[]},pubsubInfo:function(t,e){try{var n=t.pubsub;n&&n.publish("plugins_change_"+t.pubsubType,e)}catch(t){}},checkPluginLoader:function(t,e){var n=!0;if("object"==typeof e.enable&&"function"==typeof e.enable.isEnable?n=e.enable.isEnable(e.name):"boolean"==typeof e.enable&&(n=!!e.enable),!n)return!1;if(n&&e.deps&&e.deps.length>0)for(var a=0;a<e.deps.length;a++)if(o.indexof(this.plugins_name,e.deps[a])===-1)return!1;return!0},run:function(t){t||(t=0);var e=this,n=this.middleware,o=this.opts||{},a=o.plugins;if(a&&"object"==typeof a&&a.length>0){var r=a[t];if(this.checkPluginLoader(a,r)&&(this.plugins_name.push(r.name),n.push([function(t,n){e.pubsubInfo(this,r);var a=new r.path;return a.init({context:this.context,config:o.config}),a.run(t,n)},r.name])),t++,a[t])return this.run(t)}else window.console&&console.log("aplus plugins "+JSON.stringify(a)+" must be object of array!");return n}}}},function(t,e,n){"use strict";function o(){var t="true"===l.disablePvid;try{var e=goldlog.getMetaInfo("aplus-disable-pvid")+"";"true"===e?t=!0:"false"===e&&(t=!1)}catch(t){}return t}function a(t){function e(t){var e="0123456789abcdefhijklmnopqrstuvwxyzABCDEFHIJKLMNOPQRSTUVWXYZ",n="0123456789abcdefghijkmnopqrstuvwxyzABCDEFGHIJKMNOPQRSTUVWXYZ";return 1==t?e.substr(Math.floor(60*Math.random()),1):2==t?n.substr(Math.floor(60*Math.random()),1):"0"}for(var n,o="",a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=!1;o.length<t;)n=a.substr(Math.floor(62*Math.random()),1),!r&&o.length<=2&&("g"==n.toLowerCase()||"l"==n.toLowerCase())&&(0===o.length&&"g"==n.toLowerCase()?Math.random()<.5&&(n=e(1),r=!0):1==o.length&&"l"==n.toLowerCase()&&"g"==o.charAt(0).toLowerCase()&&(n=e(2),r=!0)),o+=n;return o}function r(t,e,n){return t?u.hash(encodeURIComponent(t)).substr(0,e):n}function i(){var t=a(8),e=t.substr(0,4),n=t.substr(0,6);return[r(location.href,4,e),r(document.title,4,e),n].join("")}function s(){var t=goldlog.pvid;return goldlog.pvid=i(),c.doPubMsg(["pvidChange",{pre_pvid:t,pvid:goldlog.pvid}]),c.doCachePubs(["pvidChange",{pre_pvid:t,pvid:goldlog.pvid}]),o()?"":goldlog.pvid}var u=n(94),c=n(38),l=n(5);e.isDisablePvid=o,e.makePVId=s,e.getPvId=function(){return o()?"":goldlog.pvid}},function(t,e){"use strict";var n=1315423911;e.hash=function(t,e){var o,a,r=e||n;for(o=t.length-1;o>=0;o--)a=t.charCodeAt(o),r^=(r<<5)+a+(r>>2);var i=(2147483647&r).toString(16);return i}},function(t,e,n){"use strict";var o=n(10),a=n(26),r=n(38),i=n(24),s=n(91),u=n(92),c=n(5),l=function(){};l.prototype.run=function(t,e,n){var l=new u;l.init({middleware:[],config:t,plugins:c.plugins_pv});var p=l.run(),g=new c.context;g.userdata=e,g.logger=i.logger;var f={context:g,pubsub:a.getGoldlogVal("aplus_pubsub"),pubsubType:"pv"},d=new s;d.create(f),d.wrap(p,function(){var e=f.context.can_to_sendpv||{};f.context.status="YES"===e.flag?"complete":"skip",f.context.method=t.method||"GET",r.doPubMsg(["mw_change_pv",f.context]),n&&n.fn_after_record&&o.each(n.fn_after_pv,function(e){e(window.goldlog,t)})})()},e.SendPV=l},function(t,e,n){"use strict";var o=n(10),a=n(26),r=n(38),i=n(24),s=n(91),u=n(92),c=n(5),l=function(){};l.prototype.run=function(t,e,n,l){var p=new u;p.init({middleware:[],config:t,plugins:c.plugins_prepv});var g=p.run(),f=new c.context_prepv;f.userdata=e,f.logger=i.logger;var d={context:f,pubsub:a.getGoldlogVal("aplus_pubsub"),pubsubType:"prepv"},_=new s;_.create(d),_.wrap(g,function(){d.context.status="complete",r.doPubMsg(["mw_change_prepv",d.context]),n&&n.fn_after_record&&o.each(n.fn_after_pv,function(e){e(window.goldlog,t)}),a.setGoldlogVal("prepv_context",f),"function"==typeof l&&l()})()},e.SendPrePV=l},function(t,e,n){"use strict";!function(){var t=window.goldlog||(window.goldlog={}),e=n(98);t.aplus_pubsub||(t.aplus_pubsub=e.create())}()},function(t,e,n){"use strict";function o(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}var a=n(86),r=function(t){for(var e=t.length,n=new Array(e-1),o=1;o<e;o++)n[o-1]=t[o];return n},i=a.extend({create:function(t){var e=new this;for(var n in t)e[n]=t[n];return e.handlers=[],e.pubs={},e},setHandlers:function(t){this.handlers=t},subscribe:function(t,e){o(e);var n=this,a=n.pubs||{},r=a[t]||[];if(r)for(var i=0;i<r.length;i++){var s=r[i]();e.apply(n,s)}var u=n.handlers||[];return t in u||(u[t]=[]),u[t].push(e),n.setHandlers(u),n},subscribeOnce:function(t,e){o(e);var n,a=this;return this.subscribe.call(this,t,n=function(){a.unsubscribe.call(a,t,n);var o=Array.prototype.slice.call(arguments);e.apply(a,o)}),this},unsubscribe:function(t,e){o(e);var n=this.handlers[t];if(!n)return this;if("object"==typeof n&&n.length>0){for(var a=0;a<n.length;a++){var r=e.toString(),i=n[a].toString();r===i&&n.splice(a,1)}this.handlers[t]=n}else delete this.handlers[t];return this},publish:function(t){var e=r(arguments),n=this.handlers||[],o=n[t]?n[t].length:0;if(o>0)for(var a=0;a<o;a++){var i=n[t][a];i&&"function"==typeof i&&i.apply(this,e)}return this},cachePubs:function(t){var e=this.pubs||{},n=r(arguments);e[t]||(e[t]=[]),e[t].push(function(){return n})}});t.exports=i},function(t,e,n){"use strict";var o=n(41),a=n(38),r=n(54),i=n(5);e.init=function(){i.initLoad.init_watchGoldlogQueue("metaQueue"),n(100)(function(){var t=goldlog._$||{},e=navigator.userAgent;e.match(/AliApp\(([A-Z\-]+)\/([\d\.]+)\)/i)&&(t.is_ali_app=!0),i.utilPvid.makePVId();var s=n(52);t.spm=s,t.is_WindVane=o.is_WindVane;var u=t.meta_info;s.init(goldlog,u,function(){i.initLoad.init_watchGoldlogQueue();var t=n(5).spmException,e=t.is_exception;e||n(102);var o,r="complete";o=["aplusReady",r],a.doPubMsg(o),a.doCachePubs(o)}),goldlog.beforeSendPV(function(e,n){if(t.page_url=location.href,t.page_referrer=r.getRefer(),n.is_auto&&"1"===u["aplus-manual-pv"])return!1}),goldlog.afterSendPV(function(){window.g_SPM&&(g_SPM._current_spm="")}),i.is_auto_pv+""=="true"&&goldlog.sendPV({is_auto:!0}),i.initLoad.run(),i.beforeUnload.run()})}},function(t,e,n){"use strict";var o=n(38);t.exports=function(t){var e=n(101).AplusInit,a=new e;a.run({},function(e){o.doPubMsg(["aplusInitContext",e]),o.doCachePubs(["aplusInitContext",e]),"function"==typeof t&&t()})}},function(t,e,n){"use strict";var o=n(26),a=n(24),r=n(91),i=n(92),s=n(5),u=function(){};u.prototype.run=function(t,e){var n=new i;n.init({middleware:[],config:t,plugins:s.aplus_init});var u=n.run(),c=new s.context;c.logger=a.logger;var l={context:c,pubsub:o.getGoldlogVal("aplus_pubsub"),pubsubType:"aplusinit"},p=new r;p.create(l),p.wrap(u,function(){"function"==typeof e&&e(l.context)})()},e.AplusInit=u},function(t,e,n){"use strict";!function(){var t,e=n(10),o=n(26),a=n(103),r=function(){t=!0;var n=window.g_SPM||{};e.isFunction(n.getParam)||e.isFunction(n.spm)||a.run()},i=window.goldlog||(window.goldlog={});i.aplus_pubsub&&"function"==typeof i.aplus_pubsub.publish&&i.aplus_pubsub.subscribe("goldlogReady",function(e){"complete"!==e||t||r()});var s=0,u=function(){if(!t){var e=o.getGoldlogVal("_$")||{};"complete"===e.status?r():s<50&&(++s,setTimeout(function(){u()},200))}};u()}()},function(t,e,n){"use strict";var o=n(31),a=n(26),r=n(104),i=n(108),s=n(109),u=n(110),c=n(111);e.run=function(){var t=a.getGoldlogVal("_$")||{},e=t.meta_info,n=e["aplus-touch"],l={isTouchEnabled:o.isTouch()||"1"===n||"tap"===n,isTerminal:t.is_terminal||/WindVane/i.test(navigator.userAgent)};window.g_SPM={spm_d_for_ad:{},resetModule:r.spm_resetModule,anchorBeacon:r.spm_spmAnchorChk,getParam:r.spm_getSPMParam,spm:r.spm_forwap},i.run(l),s.run(l),u.run(l),c.run(l)}},function(t,e,n){"use strict";function o(t){if(t&&1===t.nodeType){s.tryToRemoveAttribute(t,"data-spm-max-idx"),s.tryToRemoveAttribute(t,"data-auto-spmd-max-idx");for(var e=u.nodeListToArray(t.getElementsByTagName("a")),n=u.nodeListToArray(t.getElementsByTagName("area")),o=e.concat(n),a=0;a<o.length;a++)s.tryToRemoveAttribute(o[a],l)}}function a(t,e){var n=s.tryToGetAttribute(t,l),o="0";if(n&&c.spm_isSPMAnchorIdMatch(n))c.spm_anchorEnsureSPMId_inHref(t,n,e);else{var a=c.spm_spmGetParentSPMId(t.parentNode);if(o=a.spm_c,!o)return void c.spm_dealNoneSPMLink(t,e);c.spm_initSPMModule(a.el,o,e),c.spm_initSPMModule(a.el,o,e,!0)}}function r(t){var e,n=t.tagName;"A"!==n&&"AREA"!==n?e=c.spm_getParamForAD(t):(a(t,!0),e=s.tryToGetAttribute(t,l)),e||(e="0.0.0.0");var o=goldlog.getPvId();4===e.split(".").length&&o&&(e+="."+o),"A"!==n&&"AREA"!==n&&s.tryToSetAttribute(t,l,e),e=e.split(".");var r={a:e[0],b:e[1],c:e[2],d:e[3]};return e[4]&&(r.e=e[4]),r}function i(t,e){var n=r(t),o=[n.a,n.b,n.c,n.d];return e&&n.e&&o.push(n.e),o.join(".")}var s=n(28),u=n(19),c=n(105),l="data-spm-anchor-id";e.spm_resetModule=o,e.spm_spmAnchorChk=a,e.spm_getSPMParam=r,e.spm_forwap=i},function(t,e,n){"use strict";function o(t){for(var e,n="data-spm-ab-max-idx",o={},a="";t&&t.tagName!=T&&t.tagName!=x;){if(!a&&(a=v.tryToGetAttribute(t,"data-spm-ab"))){e=parseInt(v.tryToGetAttribute(t,n))||0,o.a_spm_ab=a,o.ab_idx=++e,t.setAttribute(n,e);break}if(v.tryToGetAttribute(t,"data-spm"))break;t=t.parentNode}return o}function a(){var t=b.getGoldlogVal("_$")||{},e=t.spm||{},n=e.data||{};return[n.a,n.b].join(".")}function r(t){var e=a(),n=t.split(".");return n[0]+"."+n[1]==e}function i(t,e){if(!goldlog.isUT4Aplus||"UT4Aplus"!==goldlog.getMetaInfo("aplus-toUT")){if(t&&/&?\bspm=[^&#]*/.test(t)&&(t=t.replace(/&?\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\?&/,"?").replace(/\?$/,"")),!e)return t;var n,o,a,r,i,s,u,c="&";t.indexOf("#")!==-1&&(a=t.split("#"),t=a.shift(),o=a.join("#")),r=t.split("?"),i=r.length-1,a=r[0].split("//"),a=a[a.length-1].split("/"),s=a.length>1?a.pop():"",i>0&&(n=r.pop(),t=r.join("?")),n&&i>1&&n.indexOf("&")==-1&&n.indexOf("%")!==-1&&(c="%26");var l="";if(t=t+"?spm="+l+e+(n?c+n:"")+(o?"#"+o:""),u=h.isContain(s,".")?s.split(".").pop().toLowerCase():""){if({png:1,jpg:1,jpeg:1,gif:1,bmp:1,swf:1}.hasOwnProperty(u))return 0;!n&&i<=1&&(o||{htm:1,html:1,php:1,aspx:1,shtml:1,xhtml:1}.hasOwnProperty(u)||(t+="&file="+s))}return t}}function s(t,e){if(!goldlog.isUT4Aplus||"UT4Aplus"!==goldlog.getMetaInfo("aplus-toUT")){var n,o=t.innerHTML;o&&o.indexOf("<")==-1&&(n=document.createElement("b"),n.style.display="none",t.appendChild(n)),t.href=e,n&&t.removeChild(n)}}function u(t,e,n){if(!/^0\.0\.?/.test(e)){var o=y.tryToGetHref(t),r=a(),u=w.is_ignore_spm(t);if(u){var c=_.param2obj(o);if(c.spm&&c.spm.split)for(var l=c.spm.split("."),p=e.split("."),g=0;g<3&&p[g]===l[g];g++)2===g&&l[3]&&(e=c.spm)}t.setAttribute("data-spm-anchor-id",e);var f=goldlog.getPvId();f&&(e+="."+f);var d="0.0";(f||r&&r!=d)&&(u||n||(o=i(o,e))&&s(t,o))}}function c(t){var e=v.tryToGetAttribute(t,P),n=m.parseSemicolonContent(e)||{};return n}function l(t){var e,n=b.getGoldlogVal("_$")||{},o=n.spm.data;return"0"==o.a&&"0"==o.b?e="0":(e=v.tryToGetAttribute(t,j),e&&e.match(/^d\w+$/)||(e="")),e}function p(t,e){for(var n=[],o=m.nodeListToArray(t.getElementsByTagName("a")),a=m.nodeListToArray(t.getElementsByTagName("area")),r=o.concat(a),i=0;i<r.length;i++){for(var s=!1,u=r[i],c=r[i];(u=u.parentNode)&&u!=t;)if(v.tryToGetAttribute(u,j)){s=!0;break}if(!s){var l=v.tryToGetAttribute(c,S);e||"t"===l?e&&"t"===l&&n.push(c):n.push(c)}}return n}function g(t){for(var e,n=t;t&&t.tagName!==T&&t.tagName!==x&&t.getAttribute;){var o=t.getAttribute(j);if(o){e=o,n=t;break}if(!(t=t.parentNode))break}return e&&!/^[\w\-\.\/]+$/.test(e)&&(e="0"),{spm_c:e,el:n}}function f(t,e){var n=parent!==self;if(!n&&e)return[t,e].join(".");if(t&&e)return t+".i"+e;var o=window.g_SPM||(window.g_SPM={}),a=o.spm_d_for_ad||{};return"number"==typeof a[t]?a[t]++:a[t]=0,o.spm_d_for_ad=a,t+".i"+a[t]}function d(t){var e;return t&&(e=t.match(/&?\bspm=([^&#]*)/))?e[1]:""}var _=n(18),h=n(10),m=n(19),v=n(28),b=n(26),y=n(106),w=n(107),x="BODY",T="HTML",j="data-spm",P="data-spm-click",S="data-auto-spmd",A="data-spm-anchor-id";e.getGlobalSPMId=a,e.spm_isSPMAnchorIdMatch=r,e.spm_updateHrefWithSPMId=i,e.spm_writeHref=s,e.spm_anchorEnsureSPMId_inHref=u,e.getElDataSpm=c,e.spm_getAnchor4thId_spm_d=l,e.spm_getModuleLinks=p,e.spm_spmGetParentSPMId=g,e.get_spm_for_ad=f,e.spm_getParamForAD=function(t){var e=v.tryToGetAttribute(t,A);if(!e){var n=a(),o=t.parentNode;if(!o)return"";var r=c(t)||{},i=r.locaid||"",s=t.getAttribute(j)||i,u=g(o),l=u.spm_c||0;l&&l.indexOf(".")!==-1&&(l=l.split("."),l=l[l.length-1]),e=f(n+"."+l,s)}return e},e.spm_initSPMModule=function(t,e,n,i){var s;if(e=e||t.getAttribute("data-spm")||""){var g=p(t,i);if(0!==g.length){var f=e.split("."),d=h.isStartWith(e,"110")&&3==f.length;d&&(s=f[2],f[2]="w"+(s||"0"),e=f.join("."));var _=a();if(_&&_.match(/^[\w\-\*]+(\.[\w\-\*\/]+)?$/))if(h.isContain(e,".")){if(!h.isStartWith(e,_)){var m=_.split(".");f=e.split(".");for(var b=0;b<m.length;b++)f[b]=m[b];e=f.join(".")}}else h.isContain(_,".")||(_+=".0"),e=_+"."+e;if(e.match&&e.match(/^[\w\-\*]+\.[\w\-\*\/]+\.[\w\-\*\/]+$/)){for(var w="data-auto-spmd-max-idx",x="data-spm-max-idx",T=i?w:x,j=parseInt(v.tryToGetAttribute(t,T))||0,S=0;S<g.length;S++){var k=g[S],U=y.tryToGetHref(k),E=v.tryToGetAttribute(k,P);if(i||U||E){d&&k.setAttribute("data-spm-wangpu-module-id",s);var M=k.getAttribute(A);if(M&&r(M))u(k,M,n);else{var I,C,N=o(k.parentNode);N.a_spm_ab?(C=N.a_spm_ab,I=N.ab_idx):(C=void 0,j++,I=j);var V,O=c(k)||{},G=O.locaid||"";G?V=G:(V=l(k)||I,i&&(V="at"+((h.isNumber(V)?1e3:"")+V))),M=C?e+"-"+C+"."+V:e+"."+V,u(k,M,n)}}}t.setAttribute(T,j)}}}},e.spm_dealNoneSPMLink=function(t,e){var n=goldlog.getMetaInfo("aplus-getspmcd"),o=a(),r=y.tryToGetHref(t),i=d(r),c=null,p=o&&2==o.split(".").length;if(p){var g;return"function"==typeof n&&(g=n(t,null,o)),c=g&&"0"!==g.spm_c?[o,g.spm_c,g.spm_d]:[o,0,l(t)||0],void u(t,c.join("."),e)}r&&i&&(r=r.replace(/&?\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\?&/,"?").replace(/\?$/,"").replace(/\?#/,"#"),s(t,r))}},function(t,e,n){"use strict";var o=n(20);e.tryToGetHref=function(t){var e;try{e=o.trim(t.getAttribute("href",2))}catch(t){}return e||""}},function(t,e,n){"use strict";function o(t){return!!t&&!!t.match(/^[^\?]*\balipay\.(?:com|net)\b/i)}function a(t){return!!t&&!!t.match(/^[^\?]*\balipay\.(?:com|net)\/.*\?.*\bsign=.*/i)}function r(t){var e=location.href;return t&&e.split("#")[0]===t.split("#")[0]}function i(t){for(var e;(t=t.parentNode)&&"BODY"!==t.tagName;)if(e=u.tryToGetAttribute(t,f))return e;return""}function s(t){for(var e=["mclick.simba.taobao.com","click.simba.taobao.com","click.tanx.com","click.mz.simba.taobao.com","click.tz.simba.taobao.com","redirect.simba.taobao.com","rdstat.tanx.com","stat.simba.taobao.com","s.click.taobao.com"],n=0;n<e.length;n++)if(t.indexOf(e[n])!==-1)return!0;return!1}var u=n(28),c=n(10),l=n(106),p=n(26),g=n(22),f="data-spm-protocol";e.is_ignore_spm=function(t){var e=p.getGoldlogVal("_$")||{},n=e.meta_info||{},d=l.tryToGetHref(t),_=i(t),h=u.tryToGetAttribute(t,f),m="i"===(h||_||n.spm_protocol);if(!d||s(d))return!0;var v=r(d)||g.isStartWithProtocol(d.toLowerCase()),b=o(d)||a(d),y=v||b;return!(m||!c.isStartWith(d,"#")&&!y)||m}},function(t,e,n){"use strict";function o(t,e,n){var o=u.parseSemicolonContent(e,{},!0),a=o.gostr||"",r=o.locaid||"",g=t.getAttribute("data-spm")||r,f="CLK",d=o.gokey||"",_=p.spm_getSPMParam(t),h=[_.a,_.b,_.c,g].join("."),m=a+"."+h;0!==m.indexOf("/")&&(m="/"+m);var v=[],b=["gostr","locaid","gmkey","gokey","spm-cnt","cna"];for(var y in o)o.hasOwnProperty(y)&&c.indexof(b,y)===-1&&v.push(y+"="+o[y]);v.push("_g_et="+n),v.push("autosend=1"),d&&v.length>0&&(d+="&"),d+=v.length>0?v.join("&"):"",goldlog&&s.isFunction(goldlog.recordUdata)?goldlog.recordUdata(m,f,d,"GET",function(){}):l.logger({msg:"goldlog.recordUdata is not function!"}),i.tryToSetAttribute(t,"data-spm-anchor-id",h)}function a(t,e){var n=e;window.g_SPM&&(g_SPM._current_spm=p.spm_getSPMParam(e));for(var a;e&&"HTML"!==e.tagName;){a=i.tryToGetAttribute(e,"data-spm-click");{if(a){o(e,a,"mousedown"===t.type?t.type:"tap");break}e=e.parentNode}}if(!a){var r=g.getGlobalSPMId(),s=goldlog.getMetaInfo("aplus-getspmcd");"function"==typeof s&&s(n,t,r)}}var r=n(80),i=n(28),s=n(10),u=n(19),c=n(25),l=n(24),p=n(104),g=n(105);e.run=function(t){t&&t.isTouchEnabled?r.on(document,"tap",a):r.on(document,"mousedown",a)}},function(t,e,n){"use strict";function o(){for(var t=document.getElementsByTagName("iframe"),e=0;e<t.length;e++){var n=t[e],o=r.tryToGetAttribute(n,"data-spm-src");if(!n.src&&o){var a=s.spm_getSPMParam(n);if(a){var u=[a.a,a.b,a.c,a.d];a.e&&u.push(a.e),a=u.join("."),n.src=i.spm_updateHrefWithSPMId(o,a)}else n.src=o}}}function a(){function t(){e++,e>10&&(n=3e3),o(),setTimeout(t,n)}var e=0,n=500;t()}var r=n(28),i=n(105),s=n(104);e.run=function(t){t&&!t.isTerminal&&a()}},function(t,e,n){"use strict";function o(t,e){for(var n,o=window;e&&(n=e.tagName);){if("A"===n||"AREA"===n){r.spm_spmAnchorChk(e,!1);var a=o.g_SPM||(o.g_SPM={}),i=a._current_spm=r.spm_getSPMParam(e),s=[];try{s=[i.a,i.b,i.c,i.d];var u=i.e||goldlog.pvid||"";u&&s.push(u)}catch(t){}break}if("BODY"==n||"HTML"==n)break;e=e.parentNode}}var a=n(80),r=n(104);e.run=function(t){var e=document;t&&t.isTouchEnabled?a.on(e,"tapSpm",o):(a.on(e,"mousedown",o),a.on(e,"keydown",o))}},function(t,e,n){"use strict";function o(t,e){if(e||(e=p),p.evaluate)return e.evaluate(t,p,null,9,null).singleNodeValue;for(var n,a=t.split("/");!n&&a.length>0;)n=a.shift();var r,i=/^.+?\[@id='(.+?)']$/i,s=/^(.+?)\[(\d+)]$/i;return(r=n.match(i))?e=e.getElementById(r[1]):(r=n.match(s))&&(e=e.getElementsByTagName(r[1])[parseInt(r[2])-1]),e?0===a.length?e:o(a.join("/"),e):null}function a(){var t={};for(var e in l)if(l.hasOwnProperty(e)){var n=o(e);if(n){t[e]=1;var a=l[e],r="A"===n.tagName?a.spmd:a.spmc;s.tryToSetAttribute(n,"data-spm",r||"")}}for(var i in t)t.hasOwnProperty(i)&&delete l[i]}function r(){if(!c&&g.spmData){c=!0;var t=g.spmData.data;if(t&&i.isArray(t)){for(var e=0;e<t.length;e++){var n=t[e],o=n.xpath;o=o.replace(/^id\('(.+?)'\)(.*)/g,"//*[@id='$1']$2"),l[o]={spmc:n.spmc,spmd:n.spmd}}a()}}}var i=n(10),s=n(28),u=n(80),c=!1,l={},p=document,g=window;e.wh_updateXPathElements=a,e.init_wh=r,e.run=function(){u.DOMReady(function(){r()})}},function(t,e,n){"use strict";function o(){var t,e=l.getParamFromUrl("utparamcnt",location.href);if(e)try{t=e=JSON.parse(decodeURIComponent(e));
}catch(t){}return t}function a(){var t,e=f["aplus-utparam"];if(e)if("object"==typeof e)t=e;else try{t=JSON.parse(e)}catch(t){}return t}var r=n(54),i=n(55),s=n(38),u=n(43),c=n(10),l=n(53),p=n(5),g=n(27),f=g.getInfo(),d="complete";e.initGoldlog=function(t){var e=window.goldlog||(window.goldlog={}),n=p.goldlog_path.run.create();e._ready_time=(new Date).getTime();for(var l in n)e[l]=n[l];var g=/TB\-PD/i.test(navigator.userAgent),_=e._$=e._$||{},h=o(),m=a();return"object"==typeof h&&(m&&(h=c.assign(h,m)),f["aplus-utparam"]=h),_.meta_info=f,_.is_terminal="aplus_wap"===p.script_name||g||"1"==f["aplus-terminal"],_.send_pv_count=0,_.status=d,_.script_name=p.script_name,_.spm={data:{}},_.page_referrer=r.getRefer(),_.pageLoadTime=(new Date).getTime(),e.lver=p.lver,e.nameStorage=i.nameStorage,u.haveNativeFlagInUA(),s.doPubMsg(["goldlogReady",d]),s.doCachePubs(["goldlogReady",d]),t.init(),e}}]);/*! 2020-12-24 10:00:04 v8.14.8 */
!function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e){"use strict";!function(){function t(t,e,r){t[_]((h?"on":"")+e,function(t){t=t||s.event;var e=t.target||t.srcElement;r(t,e)},!1)}function e(){return/&?\bspm=[^&#]*/.test(location.href)?location.href.match(/&?\bspm=[^&#]*/gi)[0].split("=")[1]:""}function r(t,e){if(t&&/&?\bspm=[^&#]*/.test(t)&&(t=t.replace(/&?\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\?&/,"?").replace(/\?$/,"")),!e)return t;var r,n,a,i,o,c,p,s="&";if(t.indexOf("#")!=-1&&(a=t.split("#"),t=a.shift(),n=a.join("#")),i=t.split("?"),o=i.length-1,a=i[0].split("//"),a=a[a.length-1].split("/"),c=a.length>1?a.pop():"",o>0&&(r=i.pop(),t=i.join("?")),r&&o>1&&r.indexOf("&")==-1&&r.indexOf("%")!=-1&&(s="%26"),t=t+"?spm="+e+(r?s+r:"")+(n?"#"+n:""),p=c.indexOf(".")>-1?c.split(".").pop().toLowerCase():""){if({png:1,jpg:1,jpeg:1,gif:1,bmp:1,swf:1}.hasOwnProperty(p))return 0;!r&&o<=1&&(n||{htm:1,html:1,php:1}.hasOwnProperty(p)||(t+="&file="+c))}return t}function n(t){function e(t){return t=t.replace(/refpos[=(%3D)]\w*/gi,c).replace(i,"%3D"+n+"%26"+a.replace("=","%3D")).replace(o,n),a.length>0&&(t+="&"+a),t}var r=window.location.href,n=r.match(/mm_\d{0,24}_\d{0,24}_\d{0,24}/i),a=r.match(/[&\?](pvid=[^&]*)/i),i=new RegExp("%3Dmm_\\d+_\\d+_\\d+","ig"),o=new RegExp("mm_\\d+_\\d+_\\d+","ig");a=a&&a[1]?a[1]:"";var c=r.match(/(refpos=(\d{0,24}_\d{0,24}_\d{0,24})?(,[a-z]+)?)(,[a-z]+)?/i);return c=c&&c[0]?c[0]:"",n?(n=n[0],e(t)):t}function a(e){var r=s.KISSY;r?r.ready(e):s.jQuery?jQuery(m).ready(e):"complete"===m.readyState?e():t(s,"load",e)}function i(t,e){return t&&t.getAttribute?t.getAttribute(e)||"":""}function o(t){if(t){var e,r=g.length;for(e=0;e<r;e++)if(t.indexOf(g[e])>-1)return!0;return!1}}function c(t,e){if(t&&/&?\bspm=[^&#]*/.test(t)&&(t=t.replace(/&?\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\?&/,"?").replace(/\?$/,"")),!e)return t;var r,n,a,i,o,c,p,s="&";if(t.indexOf("#")!=-1&&(a=t.split("#"),t=a.shift(),n=a.join("#")),i=t.split("?"),o=i.length-1,a=i[0].split("//"),a=a[a.length-1].split("/"),c=a.length>1?a.pop():"",o>0&&(r=i.pop(),t=i.join("?")),r&&o>1&&r.indexOf("&")==-1&&r.indexOf("%")!=-1&&(s="%26"),t=t+"?spm="+e+(r?s+r:"")+(n?"#"+n:""),p=c.indexOf(".")>-1?c.split(".").pop().toLowerCase():""){if({png:1,jpg:1,jpeg:1,gif:1,bmp:1,swf:1}.hasOwnProperty(p))return 0;!r&&o<=1&&(n||{htm:1,html:1,shtml:1,php:1}.hasOwnProperty(p)||(t+="&__file="+c))}return t}function p(t){if(o(t.href)){var r=i(t,u);if(!r){var n=l()(t),a=[n.a,n.b,n.c,n.d].join(".");n.e&&(n+="."+n.e),d&&(a=[n.a||"0",n.b||"0",n.c||"0",n.d||"0"].join("."),a=(e()||"0.0.0.0.0")+"_"+a),t.href=c(t.href,a),t.setAttribute(u,a)}}}var s=window,m=document;if(1!==s.aplus_spmact){s.aplus_spmact=1;var f=function(){return{a:0,b:0,c:0,d:0,e:0}},l=function(){return s.g_SPM&&s.g_SPM.getParam?s.g_SPM.getParam:f},d=!0;try{d=self.location!=top.location}catch(t){}var u="data-spm-act-id",g=["mclick.simba.taobao.com","click.simba.taobao.com","click.tanx.com","click.mz.simba.taobao.com","click.tz.simba.taobao.com","redirect.simba.taobao.com","rdstat.tanx.com","stat.simba.taobao.com","s.click.taobao.com"],h=!!m.attachEvent,b="attachEvent",v="addEventListener",_=h?b:v;t(m,"mousedown",function(t,e){for(var r,n=0;e&&(r=e.tagName)&&n<5;){if("A"==r||"AREA"==r){p(e);break}if("BODY"==r||"HTML"==r)break;e=e.parentNode,n++}}),a(function(){for(var t,a,o=document.getElementsByTagName("iframe"),c=0;c<o.length;c++){t=i(o[c],"mmsrc"),a=i(o[c],"mmworked");var p=l()(o[c]),s=[p.a||"0",p.b||"0",p.c||"0",p.d||"0",p.e||"0"].join(".");t&&!a?(d&&(s=[p.a||"0",p.b||"0",p.c||"0",p.d||"0"].join("."),s=e()+"_"+s),o[c].src=r(n(t),s),o[c].setAttribute("mmworked","mmworked")):o[c].setAttribute(u,s)}})}}()}]);</script><script src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/check-ie.js"></script>
  <link rel="shortcut icon" id="favicon" href="https://img.alicdn.com/tfs/TB1_ZXuNcfpK1RjSZFOXXa6nFXa-32-32.ico" type="image/x-icon">
  <!--link rel="stylesheet" href="https://tianchi.aliyun.com/home/assets/public/common/css/footer.css"-->
  <link rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/iconfont.css">
  <link rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/tianchi.css">
  
    <link rel="shortcut icon" href="https://s.tianchi.aliyun.com/home/assets/public/common/images/T.ico" type="image/x-icon">
  
  <meta name="aplus-waiting" content="MAN">
  
  <link rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/app.dcc21cd129.css">
  
    <script src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/common-vendor.03fc09659a52dc47312e.js"></script>
  

  
    <link rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/public.css">
  
  <script nonce="">
    // 1. csrf
    window.ajaxHeader = {
      'x-csrf-token': 'wyvM7JqX-u8MUm6B1UpBLqwmxawuAOhrMLF0'
    };

    // 2. env
    window.CONFIG = {};
    window.CONFIG.DSWWeburl = 'https://dsw-dev.data.aliyun.com';
    window.CONFIG.isDebug = false;
    window.CONFIG.prefix = '/forum';
    window.CONFIG.homeAppUrl = 'https://tianchi.aliyun.com/home';
    window.CONFIG.host = 'https://tianchi.aliyun.com';
    window.CONFIG.env = 'prod';
    window.CONFIG.privateCloud = false;
    window.CONFIG.zhijiangAppUrl = 'https://zhejianglab.aliyun.com';
    window.CONFIG.langDomain = '.aliyun.com';
    window.navigator.defaultLanguageMessage = {"common.footer.aboutUs":"关于我们","common.footer.legal":"法律协议","common.header.competition":"大赛","common.header.dataset":"数据集","common.header.developApi":"开发者专属权益","common.header.forum":"技术圈","common.header.home":"首页","common.header.learn":"AI学习","common.header.login":"登录","common.header.notebook":"天池实验室","common.header.other":"其他","common.header.reg":"注册","common.header.science":"科学家","common.header.souvenir":"天池礼品库","forum.addCompetition.tips":"只有关联比赛，问题才会尽快得到答复","forum.attachment.download":"附件下载","forum.commentSuccessTip":"评论成功！","forum.detail.Cancel":"取消","forum.detail.amount":"下载次数","forum.detail.attachment.download":"附件下载","forum.detail.by":"来自","forum.detail.comment.success":"评论成功","forum.detail.content.require":"请输入评论内容!","forum.detail.contentTip":"请输入评论内容！","forum.detail.dload.fail":"下载失败！","forum.detail.edit":"编辑","forum.detail.forum":"技术圈","forum.detail.home":"首页","forum.detail.issue.tip":"官方的正式答复，或高手的不吝赐教","forum.detail.lastReply":"最后回复时间","forum.detail.login.tip":"请先登录!","forum.detail.newQuestion":"我要提问","forum.detail.post":"发布","forum.detail.publishAt":"发表于","forum.detail.question":"问答","forum.detail.reply":"回复","forum.detail.reply.success":"回复成功","forum.detail.vote.repeat":"请勿频繁操作","forum.dloadFaildTip":"下载失败","forum.edit":"编辑","forum.email.validate":"请验证您的电子邮件!","forum.hot":"Hot","forum.index.Activity":"活跃度","forum.index.Composition":"成长值纬度","forum.index.Power":"战斗力","forum.index.Prestige":"威望","forum.index.allIssue":"全部问答","forum.index.article":"文章","forum.index.articles":"文章","forum.index.bonus":"今日签到","forum.index.competion":"大赛问答","forum.index.continuousSign":"连续签到","forum.index.day":"天","forum.index.days":"天","forum.index.email.validate":"请验证您的电子邮件!","forum.index.hottest":"最热","forum.index.issue":"问答","forum.index.lastComment":"最后更新","forum.index.live":"直播","forum.index.myRank":"我的排名","forum.index.newArticle":"新建Notebook","forum.index.newIssue":"发布文章","forum.index.newQuestion":"我要提问","forum.index.newest":"最新","forum.index.notebook":"Notebook","forum.index.qa":"问答","forum.index.recommend":"推荐","forum.index.ruler":"点击查看计算规则","forum.index.score":"分数","forum.index.search.input":"输入搜索内容","forum.index.search.warnning":"请输入搜索内容！","forum.index.top":"置顶","forum.index.visitor":"匿名","forum.inputContent.warnning":"请输入发布内容！","forum.login.tip":"请先登录","forum.new.save.success":"保存成功","forum.newPost.addCompetition.tips":"只有关联比赛，您的问题才能够第一时间被解答哦","forum.newPost.addcompetition":"添加大赛","forum.newPost.askQuestion":"有人问您问题,您可以通过这个链接查看详细信息","forum.newPost.checkTxt":"查看","forum.newPost.content.required":"请输入内容","forum.newPost.login.tip":"请先登录！","forum.newPost.name.required":"请输入标题！","forum.newPost.name.tip":"请输入标题...","forum.newPost.post.content.required":"请输入发布内容！","forum.newPost.post.fail":"发布失败！","forum.newPost.post.new":"新建","forum.newPost.post.question":"新问题","forum.newPost.post.save":"保存","forum.newPost.post.save.success":"保存成功","forum.newPost.post.submit":"发布","forum.newPost.post.title.placeHolder":"请输入标题...","forum.newPost.post.title.required":"请输入标题！","forum.newPost.richText":"富文本","forum.newPost.markdown":"Markdown格式","forum.newPost.select.tagWarnning":"最多添加三个标签","forum.newPost.selectRace":"选择一个大赛","forum.newPost.tags":"标签","forum.newPost.tags.required":"请选择标签","forum.newPost.upload.attach":"附件","forum.newPost.upload.attach.by":"单击或拖动文件到此区域上传","forum.newPost.upload.attach.fromat":"格式支持：zip，csv，txt，pptx，pdf，xlsx，mp4，单个文件大小需小于100M","forum.newPost.upload.attach.support":"支持单个或批量上传，严禁上传公司数据或文件","forum.newPost.upload.fileFail":"文件上传失败","forum.newPost.upload.fileSuccess":"文件上传成功","forum.newPost.upload.sizeWarnning":"文件必须小于100M！","forum.newPost.upload.typeWwarnning":"请上传指定格式的文件","forum.newPost.uploadAppendix":"附件","forum.newPost.uploadAppendix.tip":"（支持格式：zip，csv，txt，pptx，pdf，xlsx，mp4，小于 100M）","forum.newPost.yourCompetition":"您好，您的大赛","forum.newThread":"新建帖子","forum.nologin.tip":"请先登录","forum.page.Essence":"精华","forum.page.Flink":"Flink","forum.page.AIBigData":"AI及大数据","common.header.live":"视频直播","forum.page.RecentlyPosted":"最新","forum.page.VLive":"视频直播","forum.page.all":"全部","forum.page.backYard":"码农的后花园","forum.page.recruitment":"求职招聘","forum.post":"发布","forum.save":"保存","forum.detail.copyright":"版权声明：","forum.detail.copyrightAnd":"和","forum.detail.copyrightValue":"本文内容由阿里云天池用户自发贡献，版权归原作者所有，天池社区不拥有其著作权，亦不承担相应法律责任。","forum.detail.copyrightValuesecBefore":"如果您发现本社区中有涉嫌抄袭的内容，填写","forum.detail.copyrightValuesecIn":"侵权投诉表单","forum.detail.copyrightValuesecAfter":"进行举报，一经查实，本社区将立刻删除涉嫌侵权内容。","forum.search.search":"请输入搜索内容","forum.search.warnning":"请输入搜索内容","forum.selectTag.warnning":"最多选择5个标签","forum.uploadSize.warnning":"文件必须小于100M","forum.uploadType.warnning":"请上传指定格式的文件","forum.vote.repeat.tip":"请不要频繁操作","forum.newPost.taglength.tip":"标签长度不能超过50！","notebookmgr.createNotebookModal.coming":"即将上线","forum.page.labCode":"实验代码","forum.page.studyNote":"学习心得","forum.page.industryNews":"行业资讯","forum.page.machineLearning":"行业资讯","forum.page.AliTechnology":"阿里技术","forum.page.visualization":"可视化","forum.newnotebook.dswinfo1":"购买M40 500元包月","forum.page.yousan":"有三AI"};
    window.CONFIG.language = 'zh-cn';
    window.CONFIG.editorUrl = '/content-editor/';
    window.navigator.toObserver = true;
    window.loginInfo = {"userId":1095279645698,"pictUrl":"https://ucc.alicdn.com/avatar/avatar3.jpg","nickName":"ybkaggle","isPerfect":1,"newUserFlag":false};
    window.menuListInfo = {"menuList":[{"text":{"zh-cn":"首页","en-us":"Home"},"link":"/home"},{"text":{"zh-cn":"天池大赛","en-us":"Competitions"},"link":"/competition"},{"key":"notebook-ai","text":{"zh-cn":"天池实验室","en-us":"TC Lab","":"TC Lab"},"link":"/notebook-ai","isShowIcon":true},{"text":{"zh-cn":"AI学习","en-us":"AI Learn"},"link":"/course"},{"text":{"zh-cn":"数据集","en-us":"Datasets"},"link":"/dataset"},{"text":{"zh-cn":"技术圈","en-us":"Forum"},"link":"/forum"},{"key":"museum7","text":{"zh-cn":"天池7号馆","en-us":"Museum 7"},"link":"/museum7"}],"otherMenuList":[{"text":{"zh-cn":"开发者中心"},"link":"https://developer.aliyun.com"},{"text":{"zh-cn":"天池科学家","en-us":"Rankings"},"link":"/home/scientist"},{"text":{"zh-cn":"天池礼品库","en-us":"Souvenirs"},"link":"/home/souvenir"}],"otherTitle":{"zh-cn":"其他","en-us":"Other"},"currentIndex":5,"showOther":true,"isSingle":false,"language":"zh-cn"};
    window.CONFIG.showZhiJiang = false;
    window.CONFIG.contentSwitch = {"en":"Due to system update, the function is not available till 00:00 June, 5th.","cn":"系统升级维护中","startTime":"2020-06-04 00:00:00","endTime":"2020-06-05 00:00:00"};
  </script>
    
      <script src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/ace-base-assets"></script><style>
    *{
        margin:0;
        padding:0;
    }
    </style>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="ahot-aplus" content="1">
<meta name="aplus-rate-ahot" content="0.5">
<link nonce="" rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/index.css">
<link nonce="" rel="icon" href="https://img.alicdn.com/tfs/TB1_ZXuNcfpK1RjSZFOXXa6nFXa-32-32.ico" type="image/x-icon">
<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/polyfill.min.js"></script>
<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/index(2).js"></script>
<!-- ICON -->
<!-- base ICON -->
<link nonce="" rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/font_1175572_zxfcuwd9xc7.css">
<!-- product ICON -->
<link nonce="" rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/font_274588_2itfchl9l2v.css">
<!-- ICON End -->

<link nonce="" rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/index(3).css">
<link nonce="" rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/aliyun.css">

<link nonce="" rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/ace.css">

<link nonce="" rel="stylesheet" type="text/css" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/saved_resource">
<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/jquery.min.js"></script>
<script nonce="" type="text/javascript" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/saved_resource(1)"></script>
<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/saved_resource(2)">
</script>
<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/saved_resource(3)"></script>
<!-- 元件 1.0 -->
<link nonce="" rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/index(4).css">
<link nonce="" rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/aliyun(1).css">
<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/react.js"></script>
<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/react-dom.js"></script>
<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/index(5).js"></script>
<!-- 公共头尾（区块）依赖的渲染引擎 -->
<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/ace-third.js"></script>
<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/ace-block-render.js"></script>
<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/icon"></script>
<link nonce="" rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/saved_resource(4)">
<meta name="viewport" content="initial-scale=0, maximum-scale=0, minimum-scale=0, user-scalable=no, viewport-fit=cover"><script type="text/javascript" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/index(6).js"></script><style type="text/css">.smarter-engine{display:none;}</style><style type="text/css">/*
	阿里云header样式
*/
body,
div,
h1,
h2,
h3,
ul,
li {
  padding: 0;
  margin: 0;
}
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;
  font-size: 12px;
  -webkit-tap-highlight-color: rgba(27, 8, 8, 0);
}
ul li {
  list-style: none;
}
/* pre标签导致富文本无法自动换行的问题，做统一处理 */
pre {
  white-space: pre-wrap;
  /*css-3*/
  white-space: -moz-pre-wrap;
  /*Mozilla,since1999*/
  white-space: -pre-wrap;
  /*Opera4-6*/
  white-space: -o-pre-wrap;
  /*Opera7*/
  word-wrap: break-word;
  /*InternetExplorer5.5+*/
  font-size: 1em;
}
a {
  text-decoration: none;
}
.aliyun-header {
  min-width: 1200px;
  border-bottom: 1px solid #F2F5FA;
}
.single-header {
  padding: 0 20px;
}
.aliyun-header:after {
  content: '';
  display: block;
  clear: both;
}
.aliyun-header .content {
  width: 1200px;
  margin: 0 auto;
  padding: 0;
  border: 0;
}
.single-header.aliyun-header .content {
  width: 100%;
}
.aliyun-header .content:after {
  content: '';
  display: inline-block;
  clear: both;
}
.aliyun-header .aliyun-tianchi-logo {
  float: left;
}
.aliyun-header .aliyun-tianchi-logo > a {
  line-height: 60px;
  float: left;
}
.aliyun-header .aliyun-tianchi-logo img {
  vertical-align: middle;
}
.aliyun-header .login-reg {
  float: right;
}
.aliyun-header .login-reg > li {
  float: left;
  padding-left: 10px;
  /* line-height:60px; */
  line-height: 30px;
}
.aliyun-header .login-reg > li > a {
  line-height: 60px;
  font-size: 14px;
  letter-spacing: 0.5px;
  /* color: #ff6a00; */
}
.aliyun-header .login-reg > li > a.J-lang {
  height: 48px;
  display: inline-block;
}
.aliyun-header .login-reg > li > a.J-lang img {
  vertical-align: middle;
}
.aliyun-header .login-reg li.login {
  padding-right: 30px;
  position: relative;
}
.aliyun-header .login-reg li.reg {
  background: #ff6a00;
  position: relative;
  width: 120px;
  height: 40px;
  top: 10px;
  text-align: center;
  padding-left: 0;
}
.aliyun-header .login-reg li.reg a {
  color: #fff;
  line-height: 40px;
}
.login-info li a,
.aliyun-header .login-reg li.reg li a {
  display: inline-block;
  font-size: 12px;
  color: #999;
  letter-spacing: 0.43px;
  text-align: center;
}
.login-info li a:hover,
.aliyun-header .login-reg li.reg .reg-info a:hover {
  color: #ff6a00;
}
.aliyun-header .login-reg:after {
  content: '';
  display: block;
  clear: both;
}
.aliyun-header .login-reg li.login .login-tip {
  color: #ff6a00;
}
.login-info {
  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);
  position: absolute;
  left: -50%;
  top: 50px;
  display: none;
  z-index: 9;
  background: #fff;
}
.reg-info {
  background: #fff;
  position: absolute;
  left: 0;
  top: 40px;
  display: none;
  z-index: 1000;
  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);
}
.login:hover .login-info {
  display: block;
}
.reg:hover .reg-info {
  display: block;
}
.login-info li,
.reg-info li {
  padding: 5px 22px;
}
.login-info li a,
.reg-info li a {
  display: inline-block;
  font-size: 12px;
  color: #999;
  letter-spacing: 0.43px;
  text-align: center;
}
.login-info li a:hover,
.aliyun-header .login-reg li.reg .reg-info a:hover {
  color: #ff6a00;
}
.bg {
  color: #373D41;
}
.arrow {
  display: block;
  width: 20px;
  position: absolute;
  top: -10px;
  left: 50%;
  margin-left: -10px;
}
.reg-info .arrow {
  border-left: 10px solid #00C1E0;
  border-right: 10px solid #00C1E0;
}
.aliyun-header .aliyun-tianchi-logo .header-logo {
  float: left;
  top: 19px;
  position: relative;
  border-left: 1px solid #999;
  margin-left: 10px;
  padding-left: 10px;
  height: 26px;
}
/*
	阿里云header已登录样式
*/
.login_ed {
  position: relative;
}
.login_ed img {
  width: 22px;
  height: 22px;
  vertical-align: middle;
  margin-right: 10px;
  border-radius: 15px;
}
.login_ed span.new-message {
  background: #ff6a00;
  display: inline-block;
  line-height: 16px;
  text-align: center;
  padding: 0 5px;
  border-radius: 16px;
  font-size: 10px;
  position: absolute;
  top: 14px;
  left: 21px;
  color: #fff;
}
.aliyun-header .login-reg,
.tianchi-header .tianchi-menu,
.ali-main-hot-content {
  padding: 0;
  margin: 0;
}
.phone-box .ali-tel p {
  margin: 0;
}
.prefect {
  display: none;
  position: absolute;
}
.login_ed .title-pic {
  height: 16px;
  width: 16px;
  top: -3px;
  left: 24px;
}
.login_ed .new-message-pic {
  border-radius: 5px;
  width: 20px;
  height: 22px;
  margin-right: 30px;
  margin-top: 0;
}
.mark-img {
  width: 30px;
  height: 30px;
  position: relative;
}
.mark-img span {
  color: #ff6a00;
}
.logout {
  color: #373D41;
}
.logout:hover {
  color: #ff6a00;
}
.l .login_ed .isPerfect {
  width: 18px;
  height: 18px;
  position: absolute;
  left: 18px;
  top: -7px;
}
</style><style type="text/css">.global-notice {
  background: #fff5d4;
  color: #ff5900;
  font-size: 12px;
}
.global-notice .wrap {
  max-width: 1200px;
  margin: 0 auto;
  position: relative;
  line-height: 30px;
}
.global-notice .wrap i,
.global-notice .wrap a.close {
  display: inline-block;
  width: 20px;
  height: 20px;
  vertical-align: middle;
  margin-right: 10px;
}
.global-notice .wrap i {
  background: url(https://img.alicdn.com/tfs/TB1ohQruyMnBKNjSZFzXXc_qVXa-36-34.png) no-repeat;
  background-size: 20px;
  vertical-align: middle;
}
.global-notice .wrap span {
  display: inline-block;
  color: #ff7c34;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 1000px;
  overflow: hidden;
  vertical-align: middle;
}
.global-notice .wrap a.notice-detail {
  display: inline-block;
  font-size: 12px;
  border: 1px solid #ff7c34 !important;
  border-radius: 18px;
  line-height: 18px;
  padding: 0 8px;
  color: #FF7C34 !important;
  margin-left: 5px;
  text-decoration: none;
  vertical-align: middle;
}
.global-notice .wrap a.close {
  position: absolute;
  margin-right: 0;
  right: 0;
  top: 5px;
  background: url(https://img.alicdn.com/tfs/TB16MxeutknBKNjSZKPXXX6OFXa-44-44.png) no-repeat;
  background-size: 20px;
  vertical-align: middle;
}
</style><style type="text/css">/*
	天池header样式
*/
html body {
  font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;
  font-size: 12px;
  -webkit-tap-highlight-color: rgba(27, 8, 8, 0);
  line-height: 1.5;
}
.tianchi-header {
  height: 48px;
  min-width: 1200px;
}
.tianchi-header:after {
  content: '';
  display: block;
  clear: both;
}
.tianchi-header .content {
  _width: 85.71428%;
  width: 1200px;
  margin: 0 auto;
  padding: 0;
  border: 0;
}
.tianchi-header .tianchi-menu {
  float: left;
  padding-left: 0;
}
.tianchi-header .tianchi-menu > li {
  float: left;
  padding-right: 40px;
}
.tianchi-header .tianchi-menu li > a {
  color: #333333;
  line-height: 48px;
  font-size: 16px;
}
.tianchi-header .tianchi-menu li > a.nav-active {
  color: #ff6a00;
}
.tianchi-header .tianchi-menu a:hover {
  color: #ff6a00;
}
.tianchi-header .switch-lang {
  float: right;
}
.tianchi-header .switch-lang a {
  display: inline-block;
  line-height: 48px;
}
.tianchi-header .switch-lang #J-lang:hover {
  text-decoration: none!important;
}
.tianchi-header .switch-lang img {
  vertical-align: middle;
}
.tianchi-header .tianchi-menu .other,
.tianchi-header .tianchi-menu .goup {
  position: relative;
}
.tianchi-header .tianchi-menu .nav-info {
  position: absolute;
  width: 160px;
  padding: 5px 18px 6px 18px;
  border: 5px solid #fff;
  border-radius: 2px;
  box-shadow: 0px 0px 5px #999;
  background: #fff;
  z-index: 1;
  left: -20px;
  top: 40px;
  display: none;
}
.tianchi-header .tianchi-menu .nav-info li {
  padding: 0;
}
.tianchi-header .tianchi-menu .nav-info li > a {
  line-height: 30px;
}
.tianchi-header .tianchi-menu .other:hover .nav-info,
.tianchi-header .tianchi-menu .goup:hover .nav-info {
  display: block;
}
.tianchi-header .tianchi-menu li > a.nav-active {
  color: #ff6a00;
}
.aliyun-footer a,
.tianchi-header a,
.aliyun-header a {
  font-size: 14px;
  text-decoration: none;
}
.tianchi-header .tianchi-menu li.chiji_hot a {
  color: #ef5b42;
}
.tianchi-header .tianchi-menu li i {
  display: inline-block;
  width: 22px;
  height: 32px;
  vertical-align: top;
  background: url(https://img.alicdn.com/tfs/TB1Eoi_jBfH8KJjy1XbXXbLdXXa-200-200.png) no-repeat center;
  background-size: 23px 18px;
}
</style><style type="text/css">/*
	阿里云header样式
*/
body,
div,
h1,
h2,
h3,
ul,
li {
  padding: 0;
  margin: 0;
}
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;
  font-size: 12px;
  -webkit-tap-highlight-color: rgba(27, 8, 8, 0);
}
ul li {
  list-style: none;
}
/* pre标签导致富文本无法自动换行的问题，做统一处理 */
pre {
  white-space: pre-wrap;
  /*css-3*/
  white-space: -moz-pre-wrap;
  /*Mozilla,since1999*/
  white-space: -pre-wrap;
  /*Opera4-6*/
  white-space: -o-pre-wrap;
  /*Opera7*/
  word-wrap: break-word;
  /*InternetExplorer5.5+*/
  font-size: 1em;
}
a {
  text-decoration: none;
}
.aliyun-header {
  background: #383F3B;
  min-width: 1200px;
}
.single-header {
  padding: 0 20px;
}
.aliyun-header:after {
  content: '';
  display: block;
  clear: both;
}
.aliyun-header .content {
  width: 1200px;
  margin: 0 auto;
  padding: 0;
  border: 0;
}
.single-header.aliyun-header .content {
  width: 100%;
}
.aliyun-header .content:after {
  content: '';
  display: inline-block;
  clear: both;
}
.aliyun-header .aliyun-tianchi-logo {
  float: left;
}
.aliyun-header .aliyun-tianchi-logo > a {
  line-height: 60px;
}
.aliyun-header .aliyun-tianchi-logo img {
  height: 45px;
  vertical-align: middle;
  max-height: 70%;
  border: 0;
}
.aliyun-header .menu .tit {
  color: #9FD25B;
}
.aliyun-header .menu > li {
  list-style: none;
  line-height: 60px;
  float: left;
  padding: 0 12px;
}
.aliyun-header .menu li:first-child {
  margin-left: 20px;
}
.aliyun-header .menu > li > a {
  line-height: 60px;
  font-size: 14px;
  color: #FFFFFF;
  letter-spacing: 0.5px;
}
.aliyun-header .login-reg,
.aliyun-header .login-reg-login {
  float: right;
}
.aliyun-header .login-reg > li {
  float: left;
  padding: 0 12px;
  /* line-height:60px; */
  line-height: 60px;
}
.aliyun-header .login-reg-login > li {
  float: left;
  padding: 0 5px;
  /* line-height:60px; */
  line-height: 60px;
}
.aliyun-header .login-reg > li > a,
.aliyun-header .login-reg-login > li > a {
  line-height: 60px;
  font-size: 14px;
  color: #FFFFFF;
  letter-spacing: 0.5px;
}
.aliyun-header .login-reg > li > a.J-lang,
.aliyun-header .login-reg-login > li > a.J-lang {
  height: 48px;
  display: inline-block;
}
.aliyun-header .login-reg > li > a.J-lang img,
.aliyun-header .login-reg-login > li > a.J-lang img {
  vertical-align: middle;
}
.aliyun-header .login-reg li.login,
.aliyun-header .login-reg-login li.login {
  padding: 0 12px;
  position: relative;
}
.aliyun-header .login-reg li.user,
.aliyun-header .login-reg-login li.user {
  padding: 0;
  position: relative;
}
.aliyun-header .login-reg li.reg,
.aliyun-header .login-reg-login li.reg {
  padding: 0;
  position: relative;
}
.aliyun-header .login-reg:after,
.aliyun-header .login-reg-login:after {
  content: '';
  display: block;
  clear: both;
}
.login-info {
  background: #373D41;
  position: absolute;
  left: -50%;
  top: 48px;
  display: none;
  z-index: 9;
}
.reg-info {
  background: #373D41;
  position: absolute;
  left: 0;
  top: 48px;
  display: none;
  z-index: 9;
}
.user-info {
  background: #fff;
  position: absolute;
  left: 0;
  top: 48px;
  display: none;
  z-index: 9;
  box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.15);
  border-radius: 2px;
  width: 120px;
  height: 136px;
}
.user:hover .user-info {
  display: block;
}
.login:hover .login-info {
  display: block;
}
.reg:hover .reg-info {
  display: block;
}
.login-info li,
.reg-info li {
  padding: 0 15px;
  height: 40px;
  line-height: 40px;
}
.user-info li {
  padding: 0 15px;
  height: 40px;
  line-height: 40px;
}
.login-info li:first-child,
.reg-info li:first-child {
  border-bottom: 1px solid #464B4F;
}
.user-info li:first-child {
  width: 120px;
  margin-top: 10px;
}
.login-info li:last-child,
.reg-info li:last-child {
  border-top: 1px solid #464B4F;
}
.login-info li a,
.reg-info li a {
  display: inline-block;
  font-size: 12px;
  color: #fff;
  letter-spacing: 0.43px;
  text-align: center;
}
.user-info li a,
.user-info li span {
  display: inline-block;
  letter-spacing: 0.43px;
  text-align: left;
  font-family: PingFangSC-Regular;
  font-size: 14px;
  color: #373D41;
  line-height: 40px;
  width: 100px;
  height: 40px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.login-info li a:hover,
.reg-info li a:hover,
.user-info li a:hover {
  color: #00C1E0;
}
.sep-line {
  float: left;
  opacity: 0.3;
  background: #FFFFFF;
  width: 1px;
  height: 20px;
  margin: 20px 0;
}
.arrow {
  display: none;
  width: 20px;
  border-bottom: 10px solid #373d41;
  border-left: 10px solid #31373b;
  border-right: 10px solid #31373b;
  position: absolute;
  top: -10px;
  left: 50%;
  margin-left: -10px;
}
.reg-info .arrow {
  border-left: 10px solid #00C1E0;
  border-right: 10px solid #00C1E0;
}
/*
	阿里云header已登录样式
*/
.login_ed {
  position: relative;
}
.login_ed img,
.userPhoto {
  width: 22px;
  height: 22px;
  vertical-align: middle;
  margin-right: 10px;
  border-radius: 15px;
}
.login_ed span.new-message {
  background: #FF5029;
  display: inline-block;
  line-height: 16px;
  text-align: center;
  padding: 0 5px;
  border-radius: 16px;
  font-size: 10px;
  position: absolute;
  top: 14px;
  left: 21px;
}
.aliyun-header .login-reg,
.aliyun-header .login-reg-login,
.tianchi-header .tianchi-menu,
.ali-main-hot-content {
  padding: 0;
  margin: 0;
}
.phone-box .ali-tel p {
  margin: 0;
}
.prefect {
  display: none;
  position: absolute;
}
.login_ed .title-pic {
  height: 16px;
  width: 16px;
  top: -3px;
  left: 24px;
}
.login_ed .new-message-pic {
  border-radius: 5px;
  width: 18px;
  height: 22px;
  margin-right: 30px;
  margin-top: 0;
}
.mark-img {
  width: 30px;
  height: 30px;
  position: relative;
}
.login_ed .isPerfect {
  width: 18px;
  height: 18px;
  position: absolute;
  left: 18px;
  top: -7px;
}
</style><style type="text/css">.global-notice {
  background: #fff5d4;
  color: #ff5900;
  font-size: 12px;
}
.global-notice .wrap {
  max-width: 1200px;
  margin: 0 auto;
  position: relative;
  line-height: 30px;
}
.global-notice .wrap i,
.global-notice .wrap a.close {
  display: inline-block;
  width: 20px;
  height: 20px;
  vertical-align: middle;
  margin-right: 10px;
}
.global-notice .wrap i {
  background: url(https://img.alicdn.com/tfs/TB1ohQruyMnBKNjSZFzXXc_qVXa-36-34.png) no-repeat;
  background-size: 20px;
  vertical-align: middle;
}
.global-notice .wrap span {
  display: inline-block;
  color: #ff7c34;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 1000px;
  overflow: hidden;
  vertical-align: middle;
}
.global-notice .wrap a.notice-detail {
  display: inline-block;
  font-size: 12px;
  border: 1px solid #ff7c34 !important;
  border-radius: 18px;
  line-height: 18px;
  padding: 0 8px;
  color: #FF7C34 !important;
  margin-left: 5px;
  text-decoration: none;
  vertical-align: middle;
}
.global-notice .wrap a.close {
  position: absolute;
  margin-right: 0;
  right: 0;
  top: 5px;
  background: url(https://img.alicdn.com/tfs/TB16MxeutknBKNjSZKPXXX6OFXa-44-44.png) no-repeat;
  background-size: 20px;
  vertical-align: middle;
}
</style><style type="text/css">/*
	天池header样式
*/
html body {
  font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;
  font-size: 12px;
  -webkit-tap-highlight-color: rgba(27, 8, 8, 0);
  line-height: 1.5;
}
.tianchi-header {
  height: 48px;
  min-width: 1200px;
}
.tianchi-header:after {
  content: '';
  display: block;
  clear: both;
}
.tianchi-header .content {
  _width: 85.71428%;
  width: 1200px;
  margin: 0 auto;
  padding: 0;
  border: 0;
}
.tianchi-header .tianchi-menu {
  float: left;
  padding-left: 0;
}
.tianchi-header .tianchi-menu > li {
  float: left;
  padding-right: 40px;
}
.tianchi-header .tianchi-menu li > a {
  color: #333333;
  line-height: 48px;
  font-size: 16px;
}
.tianchi-header .tianchi-menu li > a.nav-active {
  color: #00C1DE;
}
.tianchi-header .tianchi-menu a:hover {
  color: #00C1DE;
}
.tianchi-header .switch-lang {
  float: right;
}
.tianchi-header .switch-lang a {
  display: inline-block;
  line-height: 48px;
}
.tianchi-header .switch-lang #J-lang:hover {
  text-decoration: none!important;
}
.tianchi-header .switch-lang img {
  vertical-align: middle;
}
.tianchi-header .tianchi-menu .other,
.tianchi-header .tianchi-menu .goup {
  position: relative;
}
.tianchi-header .tianchi-menu .nav-info {
  position: absolute;
  width: 160px;
  padding: 5px 18px 6px 18px;
  border: 5px solid #fff;
  border-radius: 2px;
  box-shadow: 0px 0px 5px #999;
  background: #fff;
  z-index: 1;
  left: -20px;
  top: 40px;
  display: none;
}
.tianchi-header .tianchi-menu .nav-info li {
  padding: 0;
}
.tianchi-header .tianchi-menu .nav-info li > a {
  line-height: 30px;
}
.tianchi-header .tianchi-menu .other:hover .nav-info,
.tianchi-header .tianchi-menu .goup:hover .nav-info {
  display: block;
}
.tianchi-header .tianchi-menu li > a.nav-active {
  color: #00C1DE;
}
.aliyun-footer a,
.tianchi-header a,
.aliyun-header a {
  font-size: 14px;
  text-decoration: none;
}
.tianchi-header .tianchi-menu li.chiji_hot a {
  color: #ef5b42;
}
.tianchi-header .tianchi-menu li i {
  display: inline-block;
  width: 22px;
  height: 32px;
  vertical-align: top;
  background: url(https://img.alicdn.com/tfs/TB1Eoi_jBfH8KJjy1XbXXbLdXXa-200-200.png) no-repeat center;
  background-size: 23px 18px;
}
</style><style type="text/css">.tianchi-footer .content {
  _width: 85.71428%;
  margin: 0 auto;
  width: 1200px;
  padding: 0;
  border: 0;
}
.tianchi-footer .content .about a,
.tianchi-footer .content .more span {
  line-height: 48px;
  color: #31373A;
}
.tianchi-footer .content .about a:nth-child(1) {
  margin-right: 40px;
}
.tianchi-footer .content .about a:hover {
  color: #00C1E0;
}
.tianchi-footer .content .more i.chart {
  display: inline-block;
  width: 22px;
  height: 22px;
  margin-left: 10px;
  background: url('https://img.alicdn.com/tfs/TB1SBj9SXXXXXXmaFXXXXXXXXXX-34-28.png') no-repeat center;
  background-size: contain;
  vertical-align: middle;
  position: relative;
}
.tianchi-footer .content .more a {
  display: inline-block;
  width: 22px;
  height: 22px;
  margin-left: 10px;
  vertical-align: middle;
}
.tianchi-footer .content .more a.facebook {
  background: url('https://img.alicdn.com/tfs/TB1lAg8mamWBuNjy1XaXXXCbXXa-200-200.png') no-repeat center;
  background-size: contain;
}
.tianchi-footer .content .more a.twitter {
  background: url('https://img.alicdn.com/tfs/TB1qCZ1moR1BeNjy0FmXXb0wVXa-64-64.png') no-repeat center;
  background-size: contain;
}
.tianchi-footer .content .more .chart .weixin {
  display: inline-block;
  width: 100px;
  height: 100px;
  background: url('https://img.alicdn.com/tfs/TB1EpEDSXXXXXa4XFXXXXXXXXXX-240-232.png');
  background-size: cover;
  position: absolute;
  top: -30px;
  left: 15px;
  display: none;
}
.tianchi-footer .content .more i.chart:hover .weixin {
  display: block;
}
.pull-left {
  float: left;
}
.pull-right {
  float: right;
}
.tianchi-footer .content:after {
  content: '';
  display: block;
  clear: both;
}
</style><style type="text/css">/*阿里云中文页尾*/
.aliyun-footer .container {
  width: 100%;
  margin: 0;
  padding: 0;
  background: #373d41;
}
.phone-box .content,
.aliyun-footer .container > .content {
  _width: 85.71428%;
  width: 1200px;
  margin: 0 auto;
  padding: 0;
  border: 0;
}
.aliyun-footer {
  min-width: 1200px;
}
.phone-box {
  background: #31373B;
  font-size: 16px;
  color: #FFFFFF;
  letter-spacing: 0.5px;
}
.phone-box .ali-tel {
  width: 240px;
  height: 110px;
  float: left;
  background: url('https://img.alicdn.com/tfs/TB1dvtTSpXXXXblXFXXXXXXXXXX-46-50.png') no-repeat;
  background-position: 0 50%;
  padding-left: 100px;
  text-align: left;
}
.phone-box .ali-tel p {
  padding-top: 20px;
}
.phone-box ul.ali-menu li {
  float: left;
  padding: 0 10px;
}
.phone-box ul.ali-menu li a {
  line-height: 110px;
  color: #FFFFFF;
}
.phone-box ul.ali-menu:after {
  content: '';
  display: block;
  clear: both;
}
.phone-box ul.ali-menu li a:hover {
  color: #28d0e9;
}
.ali-main-hot-content {
  position: relative;
  padding-top: 20px;
  padding-left: 0;
}
.ali-main-hot-content > li {
  padding: 5px 0;
}
.ali-main-hot-content > li:last-child {
  padding-bottom: 10px;
}
.ali-main-hot-content li h3 {
  position: absolute;
  left: 0;
  font-size: 12px;
  color: #9B9EA0;
  letter-spacing: 0.43px;
  line-height: 18px;
  margin: 0;
}
.ali-main-hot-content li ul {
  margin-left: 100px;
  text-align: left;
  padding-left: 0;
}
.ali-main-hot-content li ul li {
  float: left;
}
.ali-main-hot-content li ul li {
  width: 124px;
}
.ali-main-hot-content li ul li a {
  color: #6d7174;
}
.ali-main-hot-content li ul:after {
  content: '';
  display: block;
  clear: left;
}
ul.about-us {
  padding: 10px 0 5px;
  border-top: 1px solid #4B5054;
}
ul.about-us li {
  float: left;
  padding-right: 30px;
}
ul.about-us li a {
  font-size: 16px;
  color: #9B9EA0;
  letter-spacing: 0.5px;
  line-height: 30px;
}
ul.about-us:after {
  content: '';
  display: block;
  clear: both;
}
.aliyun-footer {
  background: #373d41;
}
.aliyun-footer a:hover {
  color: #28d0e9;
}
.aliyun-footer .container .link-list {
  text-align: left;
}
.aliyun-footer .container .link-list a {
  display: inline-block;
  padding: 5px 10px 5px 0;
  color: #6d7174;
}
.aliyun-footer .container .copyright {
  text-align: left;
  color: #6d7174;
  padding: 5px 0;
}
.aliyun-footer .link-list a:hover {
  color: #28d0e9;
}
.aliyun-footer .container .img-link {
  text-align: left;
  padding: 5px 0;
}
.aliyun-footer .container .img-link a {
  display: inline-block;
  margin-right: 10px;
}
.aliyun-footer .container .img-link a span {
  vertical-align: super;
  padding-left: 5px;
  color: #6d7174;
}
/*阿里云英文页尾  mmp想害死人啊*/
.aliyun-footer-en,
.aliyun-footer-en div,
.aliyun-footer-en p,
.aliyun-footer-en ul {
  /* padding:0; */
  margin: 0;
  font: 14px "Microsoft Yahei", "PingFang SC", Arial;
}
.aliyun-footer-en li {
  font-size: 14px;
  letter-spacing: 0;
  color: #fff;
  padding: 5px 0;
}
.aliyun-footer-en a {
  color: #797979;
  text-decoration: none;
  font-size: 14px;
  letter-spacing: 0;
}
.aliyun-footer-en a:hover {
  color: #00C1DE;
}
.content1 {
  background: #373d41;
  padding: 30px 0;
  min-width: 1200px;
}
.content1 .link-block {
  text-align: left;
  width: 1200px;
  margin: 0 auto;
}
.content1 .link-block:after {
  content: '';
  display: block;
  clear: both;
}
.content1 .link-block > ul {
  list-style: none;
  float: left;
  width: 180px;
  height: 360px;
}
.content1 .link-block .follow-us-w {
  float: left;
  width: 200px;
  height: 200px;
  border-left: 1px solid rgba(255, 255, 255, 0.25);
  padding-left: 20px;
}
.content1 .link-block .follow-us-w p {
  color: #fff;
}
.content1 .link-block .follow-us-w .follow-links {
  padding: 10px 0;
}
.content1 .link-block .follow-us-w .follow-links:after {
  content: '';
  display: block;
  clear: both;
}
.content1 .link-block .follow-us-w > ul {
  list-style: none;
}
.content1 .link-block .follow-us-w > ul li {
  float: left;
  padding-right: 10px;
}
.content1 .link-block .follow-us-w > ul li a {
  display: inline-block;
  width: 30px;
  height: 30px;
  border-radius: 15px;
  background: url('https://img.alicdn.com/tfs/TB1M6NrSpXXXXa1XXXXXXXXXXXX-150-78.png') no-repeat;
}
.content1 .link-block .follow-us-w .facebook {
  background-position: -3px -42px;
}
.content1 .link-block .follow-us-w .linkedin {
  background-position: -77px -42px;
}
.content1 .link-block .follow-us-w .twitter {
  background-position: -115px -42px;
}
.content1 .link-block .follow-us-w .google {
  background-position: -40px -42px;
}
.content1 .link-block .follow-us-w .facebook:hover {
  background-position: -3px -3px;
  cursor: pointer;
}
.content1 .link-block .follow-us-w .linkedin:hover {
  background-position: -77px -3px;
  cursor: pointer;
}
.content1 .link-block .follow-us-w .twitter:hover {
  background-position: -115px -3px;
  cursor: pointer;
}
.content1 .link-block .follow-us-w .google:hover {
  background-position: -40px -3px;
  cursor: pointer;
}
.content2 {
  background: #4b5054;
  padding: 30px 0;
  min-width: 1200px;
}
.content2 .link-list {
  text-align: left;
  width: 1200px;
  margin: 0 auto;
}
.content2 .link-list > ul {
  list-style: none;
}
.content2 .link-list > ul:after {
  content: '';
  display: block;
  clear: both;
}
.content2 .link-list > ul li {
  float: left;
  padding-right: 50px;
}
.content2 .link-list > ul li a {
  font-size: 14px;
  letter-spacing: 0;
  color: #fff;
}
.content2 .link-list > ul li a:hover {
  color: #00C1DE;
}
.content2 .link-list div a {
  margin-right: 10px;
}
.content2 .link-list p {
  background: #4b5054;
  color: #797979;
  line-height: 30px;
  text-align: left;
  margin: 0;
  padding: 0;
}
</style><style type="text/css">.footer {
  opacity: 1;
  width: 100%;
  background: #24a057;
  padding: 70px 0 24px;
  display: block;
}
.footer .w1200 {
  position: relative;
  margin: 0 auto;
  width: 1200px;
  box-sizing: border-box;
}
.footer .w1200 .font-link {
  background: #20904e;
  width: 100%;
  padding: 18px 2.9%;
}
.footer .w1200 .font-link .title,
.footer .w1200 .font-link a {
  float: left;
  margin-right: 3%;
  font-size: 14px;
  color: #fff;
  line-height: 33px;
}
.footer .w1200 .font-link .title .on,
.footer .w1200 .font-link a .on {
  height: auto;
  opacity: 1;
}
.footer .w1200 .font-link .btns {
  width: 28px;
  height: 28px;
  border: 1px solid #fff;
  border-radius: 50%;
  position: absolute;
  top: 20px;
  right: 3%;
  cursor: pointer;
}
.footer .w1200 .font-link .btns img {
  content: "";
  width: 6px;
  height: 12px;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  margin: auto;
  transition: all 0.3s;
}
.footer .w1200 .f-cb {
  zoom: 1;
}
.footer .w1200 .f-cb:after {
  display: block;
  height: 0;
  clear: both;
  visibility: hidden;
  overflow: hidden;
  content: ".";
}
.footer .w1200 .font-list {
  width: 100%;
  padding-left: 2.9%;
}
.footer .w1200 .font-list ul {
  width: 100%;
  padding-bottom: 34px;
}
.footer .w1200 .font-list ul li {
  float: left;
  width: 14.2%;
  margin: 0;
  padding: 0;
  display: list-item;
  text-align: -webkit-match-parent;
}
.footer .w1200 .font-list ul li a {
  color: rgba(255, 255, 255, 0.6);
}
.footer .w1200 .font-list ul li h2 {
  font-size: 14px;
  color: #ffffff;
  line-height: 47px;
  padding-top: 28px;
  font-weight: normal;
}
.footer .w1200 .font-list ul li h2 a {
  color: #fff;
  background: transparent;
  text-decoration: none;
  transition: all 0.3s;
}
.footer .w1200 .font-list p {
  font-size: 14px;
  line-height: 30px;
  margin: 0;
}
.footer .w1200 .foot-center {
  padding: 21px 0 21px 2.9%;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}
.footer .w1200 .foot-center .left {
  float: left;
  width: 50%;
}
.footer .w1200 .foot-center .bshare-custom {
  float: right;
  font-size: 13px;
  line-height: 16px !important;
}
.footer .w1200 .foot-center .bshare-custom .bsPromo.bsPromo2 {
  background: url(https://img.alicdn.com/tfs/TB1v8m2VPDpK1RjSZFrXXa78VXa-31-67.png) no-repeat;
  cursor: pointer;
}
.footer .w1200 .foot-center .bshare-custom .bsPromo,
.footer .w1200 .foot-center .bshare-custom .bsPromo {
  display: none;
  position: absolute;
  z-index: 100;
}
.footer .w1200 .foot-center .bshare-custom #bshare-shareto {
  color: #333;
  text-decoration: none;
  font-weight: bold;
  margin-right: 8px;
  *display: inline;
  display: inline-block;
}
.footer .w1200 .foot-center .bshare-custom .bshare-more {
  width: 127px;
  height: 30px;
  text-align: center;
  line-height: 30px;
  background: #fff;
  font-size: 14px;
  color: #24a057 !important;
  font-weight: normal !important;
  margin-right: 20px;
  padding-left: 0 !important;
}
.footer .w1200 .foot-center .bshare-custom a {
  margin: 6px 3px;
  zoom: 1;
  vertical-align: middle;
  cursor: pointer;
  opacity: 1;
  transition: all 0.3s;
}
.footer .w1200 .foot-bot {
  padding: 20px 0 20px 2.9%;
}
.footer .w1200 .foot-bot .foot-logo {
  float: left;
  height: 70px;
}
.footer .w1200 .foot-bot .foot-logo img {
  height: 100%;
}
.footer .w1200 .foot-bot a {
  background: transparent;
  text-decoration: none;
  transition: all 0.3s;
}
.footer .w1200 .foot-bot p {
  float: right;
  height: 70px;
  line-height: 70px;
  font-size: 14px;
  font-family: 'Arial';
  color: #fff;
}
.footer .w1200 .foot-bot p .publish-no {
  color: white;
}
.footer div {
  display: block;
}
</style><style type="text/css">.w-e-toolbar,.w-e-text-container,.w-e-menu-panel {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-toolbar *,.w-e-text-container *,.w-e-menu-panel * {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-clear-fix:after {  content: "";  display: table;  clear: both;}.w-e-toolbar .w-e-droplist {  position: absolute;  left: 0;  top: 0;  background-color: #fff;  border: 1px solid #f1f1f1;  border-right-color: #ccc;  border-bottom-color: #ccc;}.w-e-toolbar .w-e-droplist .w-e-dp-title {  text-align: center;  color: #999;  line-height: 2;  border-bottom: 1px solid #f1f1f1;  font-size: 13px;}.w-e-toolbar .w-e-droplist ul.w-e-list {  list-style: none;  line-height: 1;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {  color: #333;  padding: 5px 0;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {  background-color: #f1f1f1;}.w-e-toolbar .w-e-droplist ul.w-e-block {  list-style: none;  text-align: left;  padding: 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {  display: inline-block;  *display: inline;  *zoom: 1;  padding: 3px 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {  background-color: #f1f1f1;}@font-face {  font-family: 'w-e-icon';  src: url(data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAABhQAAsAAAAAGAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIPBGNtYXAAAAFoAAABBAAAAQQrSf4BZ2FzcAAAAmwAAAAIAAAACAAAABBnbHlmAAACdAAAEvAAABLwfpUWUWhlYWQAABVkAAAANgAAADYQp00kaGhlYQAAFZwAAAAkAAAAJAfEA+FobXR4AAAVwAAAAIQAAACEeAcD7GxvY2EAABZEAAAARAAAAERBSEX+bWF4cAAAFogAAAAgAAAAIAAsALZuYW1lAAAWqAAAAYYAAAGGmUoJ+3Bvc3QAABgwAAAAIAAAACAAAwAAAAMD3gGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA8fwDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAOgAAAA2ACAABAAWAAEAIOkG6Q3pEulH6Wbpd+m56bvpxunL6d/qDepc6l/qZepo6nHqefAN8BTxIPHc8fz//f//AAAAAAAg6QbpDekS6UfpZel36bnpu+nG6cvp3+oN6lzqX+pi6mjqcep38A3wFPEg8dzx/P/9//8AAf/jFv4W+Bb0FsAWoxaTFlIWURZHFkMWMBYDFbUVsxWxFa8VpxWiEA8QCQ7+DkMOJAADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAAD/wAQAA8AABAATAAABNwEnAQMuAScTNwEjAQMlATUBBwGAgAHAQP5Anxc7MmOAAYDA/oDAAoABgP6ATgFAQAHAQP5A/p0yOxcBEU4BgP6A/YDAAYDA/oCAAAQAAAAABAADgAAQACEALQA0AAABOAExETgBMSE4ATEROAExITUhIgYVERQWMyEyNjURNCYjBxQGIyImNTQ2MzIWEyE1EwEzNwPA/IADgPyAGiYmGgOAGiYmGoA4KCg4OCgoOED9AOABAEDgA0D9AAMAQCYa/QAaJiYaAwAaJuAoODgoKDg4/biAAYD+wMAAAAIAAABABAADQAA4ADwAAAEmJy4BJyYjIgcOAQcGBwYHDgEHBhUUFx4BFxYXFhceARcWMzI3PgE3Njc2Nz4BNzY1NCcuAScmJwERDQED1TY4OXY8PT8/PTx2OTg2CwcICwMDAwMLCAcLNjg5djw9Pz89PHY5ODYLBwgLAwMDAwsIBwv9qwFA/sADIAgGBggCAgICCAYGCCkqKlktLi8vLi1ZKiopCAYGCAICAgIIBgYIKSoqWS0uLy8uLVkqKin94AGAwMAAAAAAAgDA/8ADQAPAABsAJwAAASIHDgEHBhUUFx4BFxYxMDc+ATc2NTQnLgEnJgMiJjU0NjMyFhUUBgIAQjs6VxkZMjJ4MjIyMngyMhkZVzo7QlBwcFBQcHADwBkZVzo7Qnh9fcxBQUFBzH19eEI7OlcZGf4AcFBQcHBQUHAAAAEAAAAABAADgAArAAABIgcOAQcGBycRISc+ATMyFx4BFxYVFAcOAQcGBxc2Nz4BNzY1NCcuAScmIwIANTIyXCkpI5YBgJA1i1BQRUZpHh4JCSIYGB5VKCAgLQwMKCiLXl1qA4AKCycbHCOW/oCQNDweHmlGRVArKClJICEaYCMrK2I2NjlqXV6LKCgAAQAAAAAEAAOAACoAABMUFx4BFxYXNyYnLgEnJjU0Nz4BNzYzMhYXByERByYnLgEnJiMiBw4BBwYADAwtICAoVR4YGCIJCR4eaUZFUFCLNZABgJYjKSlcMjI1al1eiygoAYA5NjZiKysjYBohIEkpKCtQRUZpHh48NJABgJYjHBsnCwooKIteXQAAAAACAAAAQAQBAwAAJgBNAAATMhceARcWFRQHDgEHBiMiJy4BJyY1JzQ3PgE3NjMVIgYHDgEHPgEhMhceARcWFRQHDgEHBiMiJy4BJyY1JzQ3PgE3NjMVIgYHDgEHPgHhLikpPRESEhE9KSkuLikpPRESASMjelJRXUB1LQkQBwgSAkkuKSk9ERISET0pKS4uKSk9ERIBIyN6UlFdQHUtCRAHCBICABIRPSkpLi4pKT0REhIRPSkpLiBdUVJ6IyOAMC4IEwoCARIRPSkpLi4pKT0REhIRPSkpLiBdUVJ6IyOAMC4IEwoCAQAABgBA/8AEAAPAAAMABwALABEAHQApAAAlIRUhESEVIREhFSEnESM1IzUTFTMVIzU3NSM1MxUVESM1MzUjNTM1IzUBgAKA/YACgP2AAoD9gMBAQECAwICAwMCAgICAgIACAIACAIDA/wDAQP3yMkCSPDJAku7+wEBAQEBAAAYAAP/ABAADwAADAAcACwAXACMALwAAASEVIREhFSERIRUhATQ2MzIWFRQGIyImETQ2MzIWFRQGIyImETQ2MzIWFRQGIyImAYACgP2AAoD9gAKA/YD+gEs1NUtLNTVLSzU1S0s1NUtLNTVLSzU1SwOAgP8AgP8AgANANUtLNTVLS/61NUtLNTVLS/61NUtLNTVLSwADAAAAAAQAA6AAAwANABQAADchFSElFSE1EyEVITUhJQkBIxEjEQAEAPwABAD8AIABAAEAAQD9YAEgASDggEBAwEBAAQCAgMABIP7g/wABAAAAAAACAB7/zAPiA7QAMwBkAAABIiYnJicmNDc2PwE+ATMyFhcWFxYUBwYPAQYiJyY0PwE2NCcuASMiBg8BBhQXFhQHDgEjAyImJyYnJjQ3Nj8BNjIXFhQPAQYUFx4BMzI2PwE2NCcmNDc2MhcWFxYUBwYPAQ4BIwG4ChMIIxISEhIjwCNZMTFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PCBMKuDFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PDysQIxISEhIjwCNZMQFECAckLS1eLS0kwCIlJSIkLS1eLS0kVxAQDysPWCl0KRQVFRTAKXQpDysQBwj+iCUiJC0tXi0tJFcQEA8rD1gpdCkUFRUUwCl0KQ8rEA8PJC0tXi0tJMAiJQAAAAAFAAD/wAQAA8AAGwA3AFMAXwBrAAAFMjc+ATc2NTQnLgEnJiMiBw4BBwYVFBceARcWEzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NhMyNz4BNzY3BgcOAQcGIyInLgEnJicWFx4BFxYnNDYzMhYVFAYjIiYlNDYzMhYVFAYjIiYCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMVisrKlEmJiMFHBtWODc/Pzc4VhscBSMmJlEqK9UlGxslJRsbJQGAJRsbJSUbGyVAKCiLXl1qal1eiygoKCiLXl1qal1eiygoA6AhIHFMTFZWTExxICEhIHFMTFZWTExxICH+CQYGFRAQFEM6OlYYGRkYVjo6QxQQEBUGBvcoODgoKDg4KCg4OCgoODgAAAMAAP/ABAADwAAbADcAQwAAASIHDgEHBhUUFx4BFxYzMjc+ATc2NTQnLgEnJgMiJy4BJyY1NDc+ATc2MzIXHgEXFhUUBw4BBwYTBycHFwcXNxc3JzcCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMSqCgYKCgYKCgYKCgA8AoKIteXWpqXV6LKCgoKIteXWpqXV6LKCj8YCEgcUxMVlZMTHEgISEgcUxMVlZMTHEgIQKgoKBgoKBgoKBgoKAAAQBl/8ADmwPAACkAAAEiJiMiBw4BBwYVFBYzLgE1NDY3MAcGAgcGBxUhEzM3IzceATMyNjcOAQMgRGhGcVNUbRobSUgGDWVKEBBLPDxZAT1sxizXNC1VJi5QGB09A7AQHh1hPj9BTTsLJjeZbwN9fv7Fj5AjGQIAgPYJDzdrCQcAAAAAAgAAAAAEAAOAAAkAFwAAJTMHJzMRIzcXIyURJyMRMxUhNTMRIwcRA4CAoKCAgKCggP8AQMCA/oCAwEDAwMACAMDAwP8AgP1AQEACwIABAAADAMAAAANAA4AAFgAfACgAAAE+ATU0Jy4BJyYjIREhMjc+ATc2NTQmATMyFhUUBisBEyMRMzIWFRQGAsQcIBQURi4vNf7AAYA1Ly5GFBRE/oRlKjw8KWafn58sPj4B2yJULzUvLkYUFPyAFBRGLi81RnQBRks1NUv+gAEASzU1SwAAAAACAMAAAANAA4AAHwAjAAABMxEUBw4BBwYjIicuAScmNREzERQWFx4BMzI2Nz4BNQEhFSECwIAZGVc6O0JCOzpXGRmAGxgcSSgoSRwYG/4AAoD9gAOA/mA8NDVOFhcXFk41NDwBoP5gHjgXGBsbGBc4Hv6ggAAAAAABAIAAAAOAA4AACwAAARUjATMVITUzASM1A4CA/sCA/kCAAUCAA4BA/QBAQAMAQAABAAAAAAQAA4AAPQAAARUjHgEVFAYHDgEjIiYnLgE1MxQWMzI2NTQmIyE1IS4BJy4BNTQ2Nz4BMzIWFx4BFSM0JiMiBhUUFjMyFhcEAOsVFjUwLHE+PnEsMDWAck5OcnJO/gABLAIEATA1NTAscT4+cSwwNYByTk5yck47bisBwEAdQSI1YiQhJCQhJGI1NExMNDRMQAEDASRiNTViJCEkJCEkYjU0TEw0NEwhHwAAAAcAAP/ABAADwAADAAcACwAPABMAGwAjAAATMxUjNzMVIyUzFSM3MxUjJTMVIwMTIRMzEyETAQMhAyMDIQMAgIDAwMABAICAwMDAAQCAgBAQ/QAQIBACgBD9QBADABAgEP2AEAHAQEBAQEBAQEBAAkD+QAHA/oABgPwAAYD+gAFA/sAAAAoAAAAABAADgAADAAcACwAPABMAFwAbAB8AIwAnAAATESERATUhFR0BITUBFSE1IxUhNREhFSElIRUhETUhFQEhFSEhNSEVAAQA/YABAP8AAQD/AED/AAEA/wACgAEA/wABAPyAAQD/AAKAAQADgPyAA4D9wMDAQMDAAgDAwMDA/wDAwMABAMDA/sDAwMAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEVIRUhESEVIREhFSERIRUhAAQA/AACgP2AAoD9gAQA/AAEAPwAA4CAQID/AIABQID/AIAAAAAABQAAAAAEAAOAAAMABwALAA8AEwAAEyEVIRchFSERIRUhAyEVIREhFSEABAD8AMACgP2AAoD9gMAEAPwABAD8AAOAgECA/wCAAUCA/wCAAAAFAAAAAAQAA4AAAwAHAAsADwATAAATIRUhBSEVIREhFSEBIRUhESEVIQAEAPwAAYACgP2AAoD9gP6ABAD8AAQA/AADgIBAgP8AgAFAgP8AgAAAAAABAD8APwLmAuYALAAAJRQPAQYjIi8BBwYjIi8BJjU0PwEnJjU0PwE2MzIfATc2MzIfARYVFA8BFxYVAuYQThAXFxCoqBAXFhBOEBCoqBAQThAWFxCoqBAXFxBOEBCoqBDDFhBOEBCoqBAQThAWFxCoqBAXFxBOEBCoqBAQThAXFxCoqBAXAAAABgAAAAADJQNuABQAKAA8AE0AVQCCAAABERQHBisBIicmNRE0NzY7ATIXFhUzERQHBisBIicmNRE0NzY7ATIXFhcRFAcGKwEiJyY1ETQ3NjsBMhcWExEhERQXFhcWMyEyNzY3NjUBIScmJyMGBwUVFAcGKwERFAcGIyEiJyY1ESMiJyY9ATQ3NjsBNzY3NjsBMhcWHwEzMhcWFQElBgUIJAgFBgYFCCQIBQaSBQUIJQgFBQUFCCUIBQWSBQUIJQgFBQUFCCUIBQVJ/gAEBAUEAgHbAgQEBAT+gAEAGwQGtQYEAfcGBQg3Ghsm/iUmGxs3CAUFBQUIsSgIFxYXtxcWFgkosAgFBgIS/rcIBQUFBQgBSQgFBgYFCP63CAUFBQUIAUkIBQYGBQj+twgFBQUFCAFJCAUGBgX+WwId/eMNCwoFBQUFCgsNAmZDBQICBVUkCAYF/eMwIiMhIi8CIAUGCCQIBQVgFQ8PDw8VYAUFCAACAAcASQO3Aq8AGgAuAAAJAQYjIi8BJjU0PwEnJjU0PwE2MzIXARYVFAcBFRQHBiMhIicmPQE0NzYzITIXFgFO/vYGBwgFHQYG4eEGBh0FCAcGAQoGBgJpBQUI/dsIBQUFBQgCJQgFBQGF/vYGBhwGCAcG4OEGBwcGHQUF/vUFCAcG/vslCAUFBQUIJQgFBQUFAAAAAQAjAAAD3QNuALMAACUiJyYjIgcGIyInJjU0NzY3Njc2NzY9ATQnJiMhIgcGHQEUFxYXFjMWFxYVFAcGIyInJiMiBwYjIicmNTQ3Njc2NzY3Nj0BETQ1NDU0JzQnJicmJyYnJicmIyInJjU0NzYzMhcWMzI3NjMyFxYVFAcGIwYHBgcGHQEUFxYzITI3Nj0BNCcmJyYnJjU0NzYzMhcWMzI3NjMyFxYVFAcGByIHBgcGFREUFxYXFhcyFxYVFAcGIwPBGTMyGhkyMxkNCAcJCg0MERAKEgEHFf5+FgcBFQkSEw4ODAsHBw4bNTUaGDExGA0HBwkJCwwQDwkSAQIBAgMEBAUIEhENDQoLBwcOGjU1GhgwMRgOBwcJCgwNEBAIFAEHDwGQDgcBFAoXFw8OBwcOGTMyGRkxMRkOBwcKCg0NEBEIFBQJEREODQoLBwcOAAICAgIMCw8RCQkBAQMDBQxE4AwFAwMFDNRRDQYBAgEICBIPDA0CAgICDAwOEQgJAQIDAwUNRSEB0AINDQgIDg4KCgsLBwcDBgEBCAgSDwwNAgICAg0MDxEICAECAQYMULYMBwEBBwy2UAwGAQEGBxYPDA0CAgICDQwPEQgIAQECBg1P/eZEDAYCAgEJCBEPDA0AAAIAAP+3A/8DtwATADkAAAEyFxYVFAcCBwYjIicmNTQ3ATYzARYXFh8BFgcGIyInJicmJyY1FhcWFxYXFjMyNzY3Njc2NzY3NjcDmygeHhq+TDdFSDQ0NQFtISn9+BcmJy8BAkxMe0c2NiEhEBEEExQQEBIRCRcIDxITFRUdHR4eKQO3GxooJDP+mUY0NTRJSTABSx/9sSsfHw0oek1MGhsuLzo6RAMPDgsLCgoWJRsaEREKCwQEAgABAAAAAAAA9evv618PPPUACwQAAAAAANbEBFgAAAAA1sQEWAAA/7cEAQPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAD//wQBAAEAAAAAAAAAAAAAAAAAAAAhBAAAAAAAAAAAAAAAAgAAAAQAAAAEAAAABAAAAAQAAMAEAAAABAAAAAQAAAAEAABABAAAAAQAAAAEAAAeBAAAAAQAAAAEAABlBAAAAAQAAMAEAADABAAAgAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAMlAD8DJQAAA74ABwQAACMD/wAAAAAAAAAKABQAHgBMAJQA+AE2AXwBwgI2AnQCvgLoA34EHgSIBMoE8gU0BXAFiAXgBiIGagaSBroG5AcoB+AIKgkcCXgAAQAAACEAtAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=) format('truetype');  font-weight: normal;  font-style: normal;}[class^="w-e-icon-"],[class*=" w-e-icon-"] {  /* use !important to prevent issues with browser extensions that change fonts */  font-family: 'w-e-icon' !important;  speak: none;  font-style: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  line-height: 1;  /* Better Font Rendering =========== */  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}.w-e-icon-close:before {  content: "\f00d";}.w-e-icon-upload2:before {  content: "\e9c6";}.w-e-icon-trash-o:before {  content: "\f014";}.w-e-icon-header:before {  content: "\f1dc";}.w-e-icon-pencil2:before {  content: "\e906";}.w-e-icon-paint-brush:before {  content: "\f1fc";}.w-e-icon-image:before {  content: "\e90d";}.w-e-icon-play:before {  content: "\e912";}.w-e-icon-location:before {  content: "\e947";}.w-e-icon-undo:before {  content: "\e965";}.w-e-icon-redo:before {  content: "\e966";}.w-e-icon-quotes-left:before {  content: "\e977";}.w-e-icon-list-numbered:before {  content: "\e9b9";}.w-e-icon-list2:before {  content: "\e9bb";}.w-e-icon-link:before {  content: "\e9cb";}.w-e-icon-happy:before {  content: "\e9df";}.w-e-icon-bold:before {  content: "\ea62";}.w-e-icon-underline:before {  content: "\ea63";}.w-e-icon-italic:before {  content: "\ea64";}.w-e-icon-strikethrough:before {  content: "\ea65";}.w-e-icon-table2:before {  content: "\ea71";}.w-e-icon-paragraph-left:before {  content: "\ea77";}.w-e-icon-paragraph-center:before {  content: "\ea78";}.w-e-icon-paragraph-right:before {  content: "\ea79";}.w-e-icon-terminal:before {  content: "\f120";}.w-e-icon-page-break:before {  content: "\ea68";}.w-e-icon-cancel-circle:before {  content: "\ea0d";}.w-e-icon-font:before {  content: "\ea5c";}.w-e-icon-text-heigh:before {  content: "\ea5f";}.w-e-toolbar {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  padding: 0 5px;  /* flex-wrap: wrap; */  /* 单个菜单 */}.w-e-toolbar .w-e-menu {  position: relative;  text-align: center;  padding: 5px 10px;  cursor: pointer;}.w-e-toolbar .w-e-menu i {  color: #999;}.w-e-toolbar .w-e-menu:hover i {  color: #333;}.w-e-toolbar .w-e-active i {  color: #1e88e5;}.w-e-toolbar .w-e-active:hover i {  color: #1e88e5;}.w-e-text-container .w-e-panel-container {  position: absolute;  top: 0;  left: 50%;  border: 1px solid #ccc;  border-top: 0;  box-shadow: 1px 1px 2px #ccc;  color: #333;  background-color: #fff;  /* 为 emotion panel 定制的样式 */  /* 上传图片的 panel 定制样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-close {  position: absolute;  right: 0;  top: 0;  padding: 5px;  margin: 2px 5px 0 0;  cursor: pointer;  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-close:hover {  color: #333;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title {  list-style: none;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  font-size: 14px;  margin: 2px 10px 0 10px;  border-bottom: 1px solid #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-item {  padding: 3px 5px;  color: #999;  cursor: pointer;  margin: 0 3px;  position: relative;  top: 1px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-active {  color: #333;  border-bottom: 1px solid #333;  cursor: default;  font-weight: 700;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content {  padding: 10px 15px 10px 15px;  font-size: 16px;  /* 输入框的样式 */  /* 按钮的样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content button:focus {  outline: none;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea {  width: 100%;  border: 1px solid #ccc;  padding: 5px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus {  border-color: #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text] {  border: none;  border-bottom: 1px solid #ccc;  font-size: 14px;  height: 20px;  color: #333;  text-align: left;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].small {  width: 30px;  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].block {  display: block;  width: 100%;  margin: 10px 0;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {  border-bottom: 2px solid #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {  font-size: 14px;  color: #1e88e5;  border: none;  padding: 5px 10px;  background-color: #fff;  cursor: pointer;  border-radius: 3px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {  float: left;  margin-right: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {  float: right;  margin-left: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {  color: #c24f4a;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {  background-color: #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {  content: "";  display: table;  clear: both;}.w-e-text-container .w-e-panel-container .w-e-emoticon-container .w-e-item {  cursor: pointer;  font-size: 18px;  padding: 0 3px;  display: inline-block;  *display: inline;  *zoom: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container {  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn {  display: inline-block;  *display: inline;  *zoom: 1;  color: #999;  cursor: pointer;  font-size: 60px;  line-height: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover {  color: #333;}.w-e-text-container {  position: relative;}.w-e-text-container .w-e-progress {  position: absolute;  background-color: #1e88e5;  bottom: 0;  left: 0;  height: 1px;}.w-e-text {  padding: 0 10px;  overflow-y: scroll;}.w-e-text p,.w-e-text h1,.w-e-text h2,.w-e-text h3,.w-e-text h4,.w-e-text h5,.w-e-text table,.w-e-text pre {  margin: 10px 0;  line-height: 1.5;}.w-e-text ul,.w-e-text ol {  margin: 10px 0 10px 20px;}.w-e-text blockquote {  display: block;  border-left: 8px solid #d0e5f2;  padding: 5px 10px;  margin: 10px 0;  line-height: 1.4;  font-size: 100%;  background-color: #f1f1f1;}.w-e-text code {  display: inline-block;  *display: inline;  *zoom: 1;  background-color: #f1f1f1;  border-radius: 3px;  padding: 3px 5px;  margin: 0 3px;}.w-e-text pre code {  display: block;}.w-e-text table {  border-top: 1px solid #ccc;  border-left: 1px solid #ccc;}.w-e-text table td,.w-e-text table th {  border-bottom: 1px solid #ccc;  border-right: 1px solid #ccc;  padding: 3px 5px;}.w-e-text table th {  border-bottom: 2px solid #ccc;  text-align: center;}.w-e-text:focus {  outline: none;}.w-e-text img {  cursor: pointer;}.w-e-text img:hover {  box-shadow: 0 0 5px #333;}</style><script src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/index(7).js" id="aplus-sufei"></script><script src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/saved_resource(5)"></script><script src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/et_f.js"></script><link href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/index(8).css" rel="stylesheet" type="text/css" data-component="@ali/hmod-ace-homepage-2020-hmod-footer"><script src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/saved_resource(6)" data-component="@ali/hmod-ace-homepage-2020-hmod-footer"></script><link href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/katex.min.css" rel="stylesheet"><link href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/client.css" rel="stylesheet"><script type="text/javascript" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/mermaid.min.js"></script><script type="text/javascript" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/Delivery.js"></script></head><body data-currentlang="zh-cn" data-spm="12282029" style="font-size: 12px;"><script src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/bl.js" crossorigin=""></script><script src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/bl.js" crossorigin=""></script><div id="J_727489"></div>
<div data-tms-module="" data-spm="727489" data-name="aliyun-common-icon" data-guid="727489" data-id="727489" id="guid-727489" class="aliyun-module aliyun-common-icon J_Module" tms="aliyun-common-icon/0.0.1" data-hidden="false" data-block-render="true" data-has-render="true" data-spm-anchor-id="5176.12282029.0.727489.3bf33dd7EY80oy">
<textarea style="display: none;">                  {"moduleinfo":{"icon_count":[{"count_phone":2,"count":2}]},"icon":[{"name":"基础ICON","link":"//at.alicdn.com/t/font_276948_28ii451l5wi.css","family":"dbl-icon-base"},{"name":"云产品","link":"//at.alicdn.com/t/font_274588_yachs0mkbn.css","family":"dbl-icon-product"}],"countinfo":{"icon":{"length_pc":0,"length":0}}}
                </textarea>
<div class="module-wrap J_tb_lazyload dbl_tms_module_wrap">
<style>
    [class^="dbl-icon-"],
    [class*=" dbl-icon-"] {
      speak: none;
      font-style: normal;
      font-weight: normal;
      font-variant: normal;
      text-transform: none;
      line-height: 1;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    
    [class^="dbl-icon-base-"],
    [class*="dbl-icon-base-"] {
      font-family: "dbl-icon-base" !important;
    }
    
    [class^="dbl-icon-product-"],
    [class*="dbl-icon-product-"] {
      font-family: "dbl-icon-product" !important;
    }
    
  </style>
<link nonce="" type="text/css" rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/font_276948_28ii451l5wi.css">
<link nonce="" type="text/css" rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/font_274588_yachs0mkbn.css">
</div>
</div>
<script nonce="">
  // 遍历所有tms模块
  $('[data-tms-module]').each(function (index, dom) {
    $(dom).find("textarea").each(function (index, dom) {
      var value = $(dom).val();
      if (value == undefined) {
        console.log(dom, '没有发现数据');
      }
      try {
        var newValue = JSON.parse(value) || {};
        newValue = newValue.$context;
        if (newValue) {
          $(dom).val(JSON.stringify(newValue));
        }
      } catch (error) {
        console.log(dom, '解析出现问题');
      }
    });
  });

</script>
<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/saved_resource(7)"></script>

<script nonce="" type="text/javascript" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/flexible.js"></script>
<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/index-lego.js"></script>
<style>
    .wb-zc-lxmod-ecs-banner .module-wrap {
    width: 100%;
}
    .aliyun-common-topbar-2019{
        display:none;
    }
    .aliyun-common-footer-2017{
        display: none;
    }

    @media (max-width: 768px) {
        #aMXOSVPfN ,#FsZJobUVE {
            display:none;
        }
        #\37 y9jhQsfZ ,#s_LxKr2Z{
            display:none;
        }

    [data-spm^="mini_cart"]{
        display:none;
    }
}
@media(min-width:769px){
    .m-aliyun-common-home-navigation-responsive{
        display:none;
    }
    .aliyun-m-common-footer{
        display:none;
    }
}
#J-home-topbar-menu{
    display:none;
}
body{
    font-family: pingfang SC,helvetica neue,arial,hiragino sans gb,microsoft yahei ui,microsoft yahei,simsun,sans-serif!important;
}
@media screen and (max-width: 768px) {
      body {
        font-size: 12px;
      }
      .y-row{
          min-width:100%;
          max-width:100%;
      }
    }
@media (min-width: 769px) {
[data-name="aliyun-official-website-list"]{
    margin-top:-100px;
}
.wb-zc-hcmod-ai-prd-home-banner3,.wb-zc-hcmod-ai-prd-banner,.wb-zc-hcmod-ai-prd-banner-copy,.wb-zc-lxmod-ecs-banner{
    margin-top:-100px;
}
}
[data-name="aliyun-official-website-list"]{
    margin-top:-100px;
}
.head-top-bar{
    display:none;
}
</style>

<script nonce="">
    document.addEventListener('DOMContentLoaded',function(){
                if (window.innerWidth<=768) {
        if (!document.getElementById('app-mobile')) {
            if (document.getElementById('app')) {
                document.getElementById('app').style.display = 'block';
            }
        } else {
            var app = document.getElementById('app');
            if(app){
                app.parentNode.removeChild(app);
            }
            
        }
        }
    }, false);
</script>

<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/head-logic"></script><div style="display:none;"></div>
<script nonce="">
  window.$ACE_EXP_MOD_CONFIG = ['[data-module-name^="@ali/hmod-ace-dpl-nested-goods-card"'];
</script>
<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/index(9).js"></script><iframe name="smarter-engine" class="smarter-engine" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/smarter-engine.html" data-spm-anchor-id="5176.12282029.0.i0.3bf33dd7EY80oy" data-spm-act-id="5176.12282029.0.i0.3bf33dd7EY80oy"></iframe>
<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/index(6).js"></script>

<script nonce="">
	(function () {
    if (window.addEventListener) {
      window.addEventListener("load", function () {
        // 仅在首页加载
        if(location.host=='www.aliyun.com' && location.pathname=='/'){
          var script = document.createElement("script");
          script.src = "https://www.aliyun.com/sw-reg.js?t=" + Date.now();
          script.async = true;
          script.type = "text/javascript";
          script.crossOrigin = "anonymous";
          document.head.insertBefore(script, document.head.firstChild);
        }
      });
    }
    // fix product_detail
    if(location.href.indexOf('www.aliyun.com/product')>=0 && location.href.indexOf('www.aliyun.com/product/rsimganalys')==-1 ){
      window.requestAnimationFrame = function(){};
    }
  })();

</script>
<script nonce="">(function(){
"use strict";!function(){var e,n;0<=location.href.indexOf("event.aliyun.com")&&(e=".aliyun-delivery-view-container,.m-aliyun-common-float-new,.m-aliyun-common-float-incall{display:none!important;}",(n=document.createElement("style")).type="text/css",n.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(n))}();
})()</script>
<script nonce="">
!(function(c,b,d,a){c[a]||(c[a]={});c[a].config={pid:"harmd8haw7@9253a43ce3a9b5c",appType:"web",imgUrl:"https://arms-retcode.aliyuncs.com/r.png?",sample:4,enableLinkTrace:true,behavior:true,disableHook:true,useFmp:true};
with(b)with(body)with(insertBefore(createElement("script"),firstChild))setAttribute("crossorigin","",src=d)
})(window,document,"https://retcode.alicdn.com/retcode/bl.js","__bl");
</script>
<script nonce="">
!(function(c,b,d,a){c[a]||(c[a]={});c[a].config={pid:"harmd8haw7@9253a43ce3a9b5c",appType:"web",imgUrl:"https://arms-retcode.aliyuncs.com/r.png?",enableLinkTrace:true,behavior:true,disableHook:true,useFmp:true};
with(b)with(body)with(insertBefore(createElement("script"),firstChild))setAttribute("crossorigin","",src=d)
})(window,document,"https://retcode.alicdn.com/retcode/bl.js","__bl");
</script><script nonce="">(function(){
"use strict";
})()</script>
    
      

<script id="beacon-aplus" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/aplus_v2.js" exparams="category=&amp;userid=&amp;aplus&amp;yunid=%22ybka%2a%2a%2a%2a%22&amp;5fa175984be79&amp;asid=AQAAAACiV/xfd4LwewAAAABMLj1lcQOyrw==" nonce="" cspx="7a4a804687174e9fb276e84125207a1a">
</script>

    <!-- 头尾新版 -->
  <!-- <script nonce="7a4a804687174e9fb276e84125207a1a"  src="//www.aliyun.com/homon-lego/tianchi?nonce=7a4a804687174e9fb276e84125207a1a"></script>
  <script nonce="7a4a804687174e9fb276e84125207a1a"  src="//www.aliyun.com/homon-lego/render?nonce=7a4a804687174e9fb276e84125207a1a"></script> -->
  
    <script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/test0508"></script>
<link nonce="" rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/saved_resource(8)">
<div id="J_9711814210"></div>
<div data-homon-module="" class="aliyun-module" data-section-id="" data-id="9711814210" data-spm="J_9711814210" data-module-id="9711814210" data-module-name="@ali/hmod-ace-tianchi-common-header" data-version="0.0.42" data-hidden="false" data-block-render="true" data-has-render="true" data-spm-anchor-id="5176.12282029.0.J_9711814210.3bf33dd7EY80oy" data-aplus-ae="x1_2035bf40"><div class="ace-common-floor" style="padding: 0px; background-color: transparent; height: auto; display: block;"><div class="ace-common-floor-row" style="max-width: 100%; width: 100%;"><div class="componenet-wrap ace-render-1" id="module-9711814210" data-key="9711814210" data-component-type="content" data-component-name="@ali/hmod-ace-tianchi-common-header" data-component-version="0.0.42" data-module-name="@ali/hmod-ace-tianchi-common-header" data-component-hidden="false" style="position: relative; background-size: contain; background-repeat: no-repeat; padding: 0px;"><div class="ace-tianchi-common-header"><article class="shadow_none"><article class="wrapper nowraper"><section class="tiantop_bar"><article class="tiantop_header"><div class="ali_logo"><a href="https://www.aliyun.com/" target="__blank"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/TB1Ly5oS3HqK1RjSZFPXXcwapXa-238-54.png" alt=""></a></div><div class="tianchi_logo"><a href="https://tianchi.aliyun.com/forum/postDetail?postId=122736"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/TB1gugf4.T1gK0jSZFrXXcNCXXa-344-44.png" alt="天池logo"></a></div><div class="search_bar" style="display: none;"><article class="search_wrapper"><i class="search_icon"></i><input type="text" class="input_box" placeholder="测试关键词" value=""><input type="button" class="input_btn" value="搜索"></article></div></article></section></article></article><article class="shadow_box"><article class="wrapper nowraper"><section class="tiantop_bot"><ul><li><a href="https://tianchi.aliyun.com/" target="_blank">首页</a></li><li><a href="https://tianchi.aliyun.com/course/index?spm=5176.12281905.0.0.7abe5699FoRHo4" target="_blank">天池学习</a><article class="second_nav"><section><a href="https://tianchi.aliyun.com/course/?spm=5176.12282042.0.0.4e662042PuAgWO" target="_blank" class="href">AI课程</a></section><section><a href="https://tianchi.aliyun.com/competition/gameList/coupleList" target="_blank" class="href">学习赛</a></section><section><a href="https://tianchi.aliyun.com/education?spm=5176.14154004.J_4642415020.6.31fe5699cEzVez&amp;lang=zh-cn" target="_blank" class="href">天池AI实训平台</a></section><section><a href="https://tianchi.aliyun.com/specials/promotion/bookcode" target="_blank" class="href">天池新书代码</a></section></article></li><li><a href="https://tianchi.aliyun.com/competition/gameList/activeList" target="_blank">天池大赛</a><article class="second_nav"><section><a href="https://tianchi.aliyun.com/competition/gameList/algorithmList" target="_blank" class="href">算法大赛</a></section><section><a href="https://tianchi.aliyun.com/competition/gameList/innovationList" target="_blank" class="href">创新应用大赛</a></section><section><a href="https://tianchi.aliyun.com/competition/gameList/programList" target="_blank" class="href">程序设计大赛</a></section><section><a href="https://tianchi.aliyun.com/competition/gameList/coupleList" target="_blank" class="href">学习赛</a></section></article></li><li><a href="https://tianchi.aliyun.com/notebook-ai/?spm=5176.13048197.0.0.53167bbeyAh58A" target="_blank">天池实验室</a><article class="second_nav"><section><a href="https://tianchi.aliyun.com/notebook-ai/?spm=5176.13048197.0.0.53167bbeyAh58A" target="_blank" class="href">天池notebook</a></section><section><a href="https://tianchi.aliyun.com/mindopt" target="_blank" class="href">MindOpt 优化求解器</a></section><section><a href="https://tianchi.aliyun.com/dataset/?spm=5176.12281897.0.0.56e339a9m7HwO3" target="_blank" class="href">数据集</a></section></article></li><li><a href="https://tianchi.aliyun.com/oj" target="_blank">在线编程</a></li><li class="m7_li"><a href="https://tianchi.aliyun.com/museum7/?spm=5176.12282027.0.0.11ba379c2x9JhJ#/">天池7号馆</a><div class="m7box"><article class="inside_wrap"><section class="wrap_item"><div class="menuZ_list_wrap"><a class="menuZ_list_link" href="https://tianchi.aliyun.com/museum7/?spm=5176.12282027.0.0.11ba379c2x9JhJ#/newprodetail?productId=1" title="布匹疵点检测">布匹疵点检测<span class="menuZ_list_tags">HOT</span></a><a class="menuZ_list_link" href="https://tianchi.aliyun.com/museum7/?spm=5176.12282027.0.0.11ba379c2x9JhJ#/newprodetail?productId=2" title="零件排版裁切">零件排版裁切<span class="menuZ_list_tags">HOT</span></a><a class="menuZ_list_link" href="https://tianchi.aliyun.com/museum7/?spm=5176.12282027.0.0.11ba379c2x9JhJ#/newprodetail?productId=3" title="X光限制品检测">X光限制品检测<span class="menuZ_list_tags">HOT</span></a></div></section><section class="wrap_item"><div class="menuZ_list_wrap"><a class="menuZ_list_link" href="https://tianchi.aliyun.com/museum7/?spm=5176.12282027.0.0.11ba379c2x9JhJ#/newprodetail?productId=4" title="农作物范围识别">农作物范围识别</a><a class="menuZ_list_link" href="https://tianchi.aliyun.com/museum7/?spm=5176.12282027.0.0.11ba379c2x9JhJ#/newprodetail?productId=5" title="FashionAI 服饰属性标签识别">FashionAI 服饰属性标签识别</a><a class="menuZ_list_link" href="https://tianchi.aliyun.com/museum7/?spm=5176.12282027.0.0.11ba379c2x9JhJ#/newprodetail?productId=6" title="铝型材表面瑕疵识别">铝型材表面瑕疵识别</a></div></section><section class="wrap_item"><div class="menuZ_list_wrap"><a class="menuZ_list_link" href="https://tianchi.aliyun.com/museum7/?spm=5176.14154004.J_4373131660.13.31fe14daMTL7jq#/newprodetail?productId=8" title="FashionAI 服饰属性标签识别">FashionAI 服饰属性标签识别</a><a class="menuZ_list_link" href="https://tianchi.aliyun.com/museum7/?spm=5176.14154004.J_4373131660.13.2d6f14daIGrV8f#/newprodetail?productId=5" title="教育数据分析系统">教育数据分析系统</a></div></section></article></div></li><li><a href="https://tianchi.aliyun.com/forum" target="_blank">技术圈</a></li><li><a href="https://tianchi.aliyun.com/forum/postDetail?postId=122736#" target="_blank">其他</a><article class="second_nav"><section><a href="https://developer.aliyun.com/" target="_blank" class="href">开发者中心</a></section><section><a href="https://tianchi.aliyun.com/home/scientist" target="_blank" class="href">天池科学家</a></section><section><a href="https://tianchi.aliyun.com/home/souvenir" target="_blank" class="href">天池礼品库</a></section></article></li><li class="second_beta"><ul class="login_reg"><li class="login_preson"><a href="https://tianchi.aliyun.com/home/notice" target="_blank"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/TB1VBpmAhD1gK0jSZFsXXbldVXa-16-16.svg" alt="" class="new_message_pic"><span class="new_message">1</span></a><a href="https://tianchi.aliyun.com/home/profile" class="person_img"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/avatar3.jpg" alt="" class="person_photo"><span>ybkaggle</span></a></li><li class="login_line"><span>|</span></li><li class="login_out"><a href="https://tianchi.aliyun.com/home/logout">退出</a></li></ul></li><li id="J-lang" class="change"><a style="background-image: url(&quot;https://img.alicdn.com/tfs/TB1KgznSXXXXXaDXpXXXXXXXXXX-47-46.png&quot;);"></a></li></ul></section></article></article><article class="add_advertisement"><i></i></article><div><div class="aliyun-header" data-userflag="false" data-isperfect="1"></div></div></div></div></div></div></div>
<div class="aliyun-module-config">
<textarea class="aliyun-module-data" data-target="9711814210" style="display:none;">          {"competition":{"name":"天池大赛","link":"/competition/gameList/activeList","list":[{"href":"/competition/gameList/algorithmList","name":"算法大赛"},{"href":"/competition/gameList/innovationList","name":"创新应用大赛"},{"href":"/competition/gameList/programList","name":"程序设计大赛"},{"href":"/competition/gameList/coupleList","name":"学习赛"}]},"competitionEng":{"name":"Competitions","link":"/competition/gameList/activeList","list":[{"href":"/competition/gameList/algorithmList","name":"Algorithm"},{"href":"/competition/gameList/innovationList","name":"Innovative"},{"href":"/competition/gameList/coupleList","name":"Getting Started"}]},"notebook":{"name":"天池实验室","link":"/notebook-ai/?spm=5176.13048197.0.0.53167bbeyAh58A","list":[{"href":"/notebook-ai/?spm=5176.13048197.0.0.53167bbeyAh58A","name":"天池notebook"},{"href":"/mindopt","name":"MindOpt 优化求解器"},{"href":"/dataset/?spm=5176.12281897.0.0.56e339a9m7HwO3","name":"数据集"}]},"notebookEng":{"name":"TC Lab","link":"/notebook-ai/?spm=5176.12282013.0.0.562f13deGy5mdv","list":[{"href":"/notebook-ai/?spm=5176.12282013.0.0.562f13deGy5mdv","name":"Tianchi Notebook"},{"href":"/dataset/?spm=5176.12281897.0.0.6f8139a9rOWCOg","name":"Datasets"}]},"learning":{"name":"天池学习","link":"/course/index?spm=5176.12281905.0.0.7abe5699FoRHo4","list":[{"href":"/course/?spm=5176.12282042.0.0.4e662042PuAgWO","name":"AI课程"},{"href":"/competition/gameList/coupleList","name":"学习赛"},{"href":"/education?spm=5176.14154004.J_4642415020.6.31fe5699cEzVez&amp;lang=zh-cn","name":"天池AI实训平台"},{"href":"/specials/promotion/bookcode","name":"天池新书代码"}]},"learningEng":{"name":"Tianchi Learn","link":"/course/?spm=5176.12282027.0.0.2736379c48749N&amp;lang=en-us","list":[{"href":"/course/?spm=5176.12282027.0.0.2736379c48749N&amp;lang=en-us","name":"AI Course"},{"href":"/forum/?spm=5176.12282042.0.0.a9cc2042WC6zRw#type=new&amp;pageNum=1","name":"Getting Started Competition"},{"href":"/education?spm=5176.14154004.J_4642415020.6.31fe5699cEzVez&amp;lang=zh-cn","name":"Education"}]},"museumEng":{"name":"Museum7","link":"/museum7/?spm=5176.14046517.0.0.66de7c0ajskkyV#/","list":[{"name":"比赛成果1","innerlist":[{"title":"Fabric Defect Detection","Hot":"HOT","link":"/museum7/?spm=5176.14046520.0.0.64757c0a9GiUrW#/newprodetail?productId=1"},{"title":"Marker Making","Hot":"HOT","link":"/museum7/?spm=5176.14046520.0.0.64757c0a9GiUrW#/newprodetail?productId=2"},{"title":"Prohibited Items Detection in X-ray Images","Hot":"HOT","link":"/museum7/?spm=5176.14046520.0.0.64757c0a9GiUrW#/newprodetail?productId=3"}]},{"name":"比赛成果2","innerlist":[{"title":"Crop Type Classification","Hot":"","link":"/museum7/?spm=5176.14046520.0.0.64757c0a9GiUrW#/newprodetail?productId=4"},{"title":"Data Analysis System in Education","Hot":"HOT","link":"/museum7/?spm=5176.14046520.0.0.64757c0a9GiUrW#/newprodetail?productId=5"},{"title":"Aluminum Profile Surface Defect Detection","Hot":"HOT","link":"/museum7/?spm=5176.14046520.0.0.64757c0a9GiUrW#/newprodetail?productId=6"}]},{"name":"比赛成果3","innerlist":[{"title":"FashionAI Key Points Detection of Apparel","Hot":"","link":"/museum7/?spm=5176.14046520.0.0.64757c0a9GiUrW#/newprodetail?productId=7"},{"title":"FashionAI Attributes Recognition of Apparel","Hot":"","link":"/museum7/?spm=5176.14154004.J_4373131660.13.2d6f14daIGrV8f&amp;lang=en-us#/newprodetail?productId=8"}]}]},"museum":{"name":"天池7号馆","link":"/museum7/?spm=5176.12282027.0.0.11ba379c2x9JhJ#/","list":[{"name":"比赛成果1","innerlist":[{"title":"布匹疵点检测","Hot":"HOT","link":"/museum7/?spm=5176.12282027.0.0.11ba379c2x9JhJ#/newprodetail?productId=1"},{"title":"零件排版裁切","Hot":"HOT","link":"/museum7/?spm=5176.12282027.0.0.11ba379c2x9JhJ#/newprodetail?productId=2"},{"title":"X光限制品检测","Hot":"HOT","link":"/museum7/?spm=5176.12282027.0.0.11ba379c2x9JhJ#/newprodetail?productId=3"}]},{"name":"比赛成果2","innerlist":[{"title":"农作物范围识别","Hot":"","link":"/museum7/?spm=5176.12282027.0.0.11ba379c2x9JhJ#/newprodetail?productId=4"},{"title":"FashionAI 服饰属性标签识别","Hot":"","link":"/museum7/?spm=5176.12282027.0.0.11ba379c2x9JhJ#/newprodetail?productId=5"},{"title":"铝型材表面瑕疵识别","Hot":"","link":"/museum7/?spm=5176.12282027.0.0.11ba379c2x9JhJ#/newprodetail?productId=6"}]},{"name":"比赛成果3","innerlist":[{"title":"FashionAI 服饰属性标签识别","Hot":"","link":"/museum7/?spm=5176.14154004.J_4373131660.13.31fe14daMTL7jq#/newprodetail?productId=8"},{"title":"教育数据分析系统","Hot":"","link":"/museum7/?spm=5176.14154004.J_4373131660.13.2d6f14daIGrV8f#/newprodetail?productId=5"}]}]},"other":{"name":"其他","link":"#","list":[{"href":"https://developer.aliyun.com/","name":"开发者中心"},{"href":"/home/scientist","name":"天池科学家"},{"href":"/home/souvenir","name":"天池礼品库"}]},"otherEng":{"name":"other","link":"#","list":[{"href":"/home/scientist","name":"Scientists"},{"href":"/home/souvenir","name":"Souvenirs"}]},"keyword":"测试关键词","keywordEng":"ceshiguanjianci","tianchilogo":"https://img.alicdn.com/tfs/TB1gugf4.T1gK0jSZFrXXcNCXXa-344-44.png"}
        </textarea>
<textarea class="aliyun-module-settings" data-target="9711814210" style="display:none;">          {"recommend":{"visibleMode":"default"},"anchor":{"visibleMode":"all"},"pc":{"background":"","horizontal":"通栏","verticalNumber":0,"marginTop":"0","marginBottom":"0","contentBackground":"","paddingHoz":"0","paddingTop":"0","paddingBottom":"0","backgroundImage":"","autoHeight":false},"h5":{"background":"","horizontal":"通栏","verticalNumber":0,"marginTop":"0","marginBottom":"0","contentBackground":"","paddingHoz":"0","paddingTop":"0","paddingBottom":"0","backgroundImage":"","autoHeight":false}}
        </textarea>
</div>
<div id="J_3251293700"></div>
<div data-homon-module="" class="aliyun-module" data-section-id="" data-id="3251293700" data-spm="J_3251293700" data-module-id="3251293700" data-module-name="@ali/hmod-ace-card-baidu-seo-module" data-version="0.0.1" data-hidden="false" data-block-render="true" data-has-render="true" data-spm-anchor-id="5176.12282029.0.J_3251293700.3bf33dd7EY80oy" data-aplus-ae="2"><div class="ace-common-floor" style="padding: 0px; background-color: transparent; height: auto; display: block;"><div class="ace-common-floor-row" style="padding: 0px; max-width: 1180px;"><div class="componenet-wrap ace-render-1" id="module-3251293700" data-key="3251293700" data-component-type="content" data-component-name="@ali/hmod-ace-card-baidu-seo-module" data-component-version="0.0.1" data-module-name="@ali/hmod-ace-card-baidu-seo-module" data-component-hidden="false" style="position: relative; background-size: contain; background-repeat: no-repeat; padding: 0px;"><div class="ace-card-baidu-seo-module"></div></div></div></div></div>
<div class="aliyun-module-config">
<textarea class="aliyun-module-data" data-target="3251293700" style="display:none;">          {"name":"homon"}
        </textarea>
<textarea class="aliyun-module-settings" data-target="3251293700" style="display:none;">          {"recommend":{"visibleMode":"default"},"anchor":{"visibleMode":"all"},"pc":{"background":"","horizontal":"默认","verticalNumber":0,"marginTop":"0","marginBottom":"0","contentBackground":"","paddingHoz":"0","paddingTop":"0","paddingBottom":"0","backgroundImage":"","autoHeight":false},"h5":{"background":"","horizontal":"默认","verticalNumber":0,"marginTop":"0","marginBottom":"0","contentBackground":"","paddingHoz":"0","paddingTop":"0","paddingBottom":"0","backgroundImage":"","autoHeight":false}}
        </textarea>
</div>
<script nonce="" src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/saved_resource(9)"></script>
<script nonce="">
    window.$ACE_HOMON_LEGO && window.$ACE_HOMON_LEGO('[data-block-render^="true"]', {} );
  </script><style>:root{--t1:#fff;--t2:#f4f4f4;--t3:#ededed;--t4:#d8d8d8;--t5:#b3b3b3;--t6:#999;--t7:#666;--t8:#3d3d3d;--t9:#181818;--mode:dark;--c1:#136DFB;--l4:#398BFC;--l3:#82B7FD;--l2:#CDE2FE;--l1:#E7F0FF;--d1:#0D59C9;--d2:#074397;--d3:#032D65;--d4:#011632}</style>

  
 
  <!-- 头尾新版 -->

  <script nonce="">
  $(function(e){
    $('#main').css({visibility: 'visible'});
    $('#loading').css({display: 'none'});
  })
  </script>
  <script src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/util.js"></script>
  
  <div id="header" class="_tianchi"></div>
  <div style="height: 0; width: 0; overflow: hidden"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/TB1LHUYRCzqK1RjSZPxXXc4tVXa-209-210.png" alt="天池技术圈"></div>
  <div id="loading" style="visibility: visible; height: 600px; text-align: center; line-height: 600px; display: none;"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/loading.gif"></div>
  <div id="main" style="height: unset; visibility: visible;"><div data-reactroot="" class="container-forum "><div class="container-forum-box box-m"><div class="forum-detail-title"><div class="ant-breadcrumb"><span><span class="ant-breadcrumb-link"><a href="https://tianchi.aliyun.com/home">首页</a></span><span class="ant-breadcrumb-separator">/</span></span><span><span class="ant-breadcrumb-link"><a href="https://tianchi.aliyun.com/forum">技术圈</a></span><span class="ant-breadcrumb-separator">/</span></span><span><span class="ant-breadcrumb-link"><a target="_blank" href="https://tianchi.aliyun.com/forum#raceId=531810">零基础入门NLP - 新闻文本分类</a></span><span class="ant-breadcrumb-separator">/</span></span><span><span class="ant-breadcrumb-link"><span>【详细注释+流程讲解】基于深度学习的文本分类 TextCNN</span></span><span class="ant-breadcrumb-separator">/</span></span></div></div><div class="forum-detail-content"><div class="forum-content-top"><div class="article-title">【详细注释+流程讲解】基于深度学习的文本分类 TextCNN</div><div class="kind-article">Article</div><div class="forum-kind-description"><div class="kind-img"><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279407639" target="_blank" rel="no-referer no-opener"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/96406beb1d5548cbbcac1af9ffe255eb.png" alt=""><!-- react-text: 26 -->张贤同学<!-- /react-text --></a></div><div class="kind-detail"><span><i class="anticon anticon-calendar"></i></span><span>2020-12-16 11:38:32</span></div><div class="kind-ask"><i class="iconfont icon-wenda"></i><i>10</i></div><div class="kind-see"><i class="iconfont icon-yanjing"></i><i>2990</i></div><div class="kind-up"><i class="anticon anticon-like-o hand-icon"></i><i>11</i></div><div class="auth-edit"><button type="button" class="ant-btn ant-btn-primary" style="display: none;"><span>编 辑</span></button></div></div></div><hr><div><div class="contentEditorHtmlOutput"><blockquote>
<p>不知道为什么天池发出来的文章看不了图片，导致我画的所有网络结构图都显示不出来，如果有需要，可以<strong>通过以下方式查看能显示图片的文章</strong>。</p>
<ul>
<li>github: <a href="https://github.com/zhangxiann/Tianchi-NLP-Beginner" target="_blank" rel="no-referer no-opener">https://github.com/zhangxiann/Tianchi-NLP-Beginner</a></li>
<li>知乎: <a href="https://zhuanlan.zhihu.com/p/183862056" target="_blank" rel="no-referer no-opener">https://zhuanlan.zhihu.com/p/183862056</a></li>
<li>CSDN: <a href="https://blog.csdn.net/BGH12ET/article/details/108006895" target="_blank" rel="no-referer no-opener">https://blog.csdn.net/BGH12ET/article/details/108006895</a></li>
<li>blog: <a href="https://blog.zhangxiann.com/202008111240/" target="_blank" rel="no-referer no-opener">https://blog.zhangxiann.com/202008111240/</a></li>
</ul>
</blockquote>
<h1>前言</h1>
<p>这篇文章用于记录阿里天池 NLP 入门赛，详细讲解了整个数据处理流程，以及如何从零构建一个模型，适合新手入门。</p>
<p>赛题以新闻数据为赛题数据，数据集报名后可见并可下载。赛题数据为新闻文本，并按照字符级别进行匿名处理。整合划分出14个候选分类类别：财经、彩票、房产、股票、家居、教育、科技、社会、时尚、时政、体育、星座、游戏、娱乐的文本数据。实质上是一个 14 分类问题。</p>
<p>赛题数据由以下几个部分构成：训练集20w条样本，测试集A包括5w条样本，测试集B包括5w条样本。</p>
<p>比赛地址：<a href="https://tianchi.aliyun.com/competition/entrance/531810/introduction" target="_blank" rel="no-referer no-opener">https://tianchi.aliyun.com/competition/entrance/531810/introduction</a></p>
<p>数据可以通过上面的链接下载。</p>
<p>其中还用到了训练好的词向量文件。</p>
<p>词向量下载链接: <a href="https://pan.baidu.com/s/1ewlck3zwXVQuAzraZ26Euw" target="_blank" rel="no-referer no-opener">https://pan.baidu.com/s/1ewlck3zwXVQuAzraZ26Euw</a> 提取码: qbpr</p>
<p>这篇文章中使用的模型主要是<strong>CNN + LSTM + Attention</strong>，主要学习的是<strong>数据处理的完整流程，以及模型构建的完整流程</strong>。虽然还没有使用 Bert 等方案，不过如果看完了这篇文章，理解了整个流程之后，即使你想要使用其他模型来处理，也能更快实现。</p>

<h1>1. 为什么写篇文章</h1>
<p>首先，这篇文章的代码全部都来源于 Datawhale 提供的开源代码，我添加了自己的笔记，帮助新手更好地理解这个代码。</p>
<h2>1.1 Datawhale 提供的代码有哪些需要改进？</h2>
<p>Datawhale 提供的代码里包含了数据处理，以及从 0 到 1模型建立的完整流程。但是和前面提供的 basesline 的都不太一样，它包含了非常多数据处理的细节，模型也是由 3 个部分构成，所以看起来难度陡然上升。</p>
<p>其次，代码里的注释非常少，也没有讲解整个数据处理和网络的整体流程。这些对于<strong>新手</strong>来说，增加了理解的门槛。  在数据竞赛方面，我也是一个新人，花了一天的时间，仔细研究数据在一种每一个步骤的转化，对于一些难以理解的代码，在群里询问之后，也得到了 Datawhale 成员的热心解答。最终才明白了全部的代码。</p>
<h2>1.2 我做了什么改进？</h2>
<p>所以，为了减少对于新手的阅读难度，我添加了一些内容。</p>
<ol>
<li>
<p>首先，梳理了整个流程，包括两大部分：<strong>数据处理</strong>和<strong>模型</strong>。</p>
<p>因为代码<strong>不是从上到下顺序阅读</strong>的。因此，更容易让人理解的做法是：先从整体上给出宏观的数据转换流程图，其中要包括数据在每一步的 shape，以及包含的转换步骤，让读者心中有一个框架图，再带着这个框架图去看细节，会更加了然于胸。</p>
</li>
<li>
<p>其次，除了了解了整体流程，在真正的代码细节里，读者可能还是会看不懂某一段小逻辑。因此，我在原有代码的基础之上增添了许多<strong>注释</strong>，以降低代码的理解门槛。</p>
</li>
</ol>
<h1>2. 数据处理</h1>
<h2>2.1 数据拆分为 10 份</h2>
<ol>
<li>
<p>数据首先会经过<code>all_data2fold</code>函数，这个函数的作用是把原始的 DataFrame 数据，转换为一个<code>list</code>，有 10 个元素，表示交叉验证里的 10 份，每个元素是 <code>dict</code>，每个<code>dict</code>包括 <code>label</code> 和 <code>text</code>。</p>
<p>首先根据 <code>label</code> 来划分数据行所在 <code>index</code>, 生成 <code>label2id</code>。</p>
<p><code>label2id</code> 是一个 <code>dict</code>，<code>key</code> 为 <code>label</code>，<code>value</code> 是一个 <code>list</code>，存储的是该类对应的 <code>index</code>。</p>
<p>​</p>
<p><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/20200814084354.png" alt=""></p>
<p>​</p>
<p>然后根据<code>label2id</code>，把每一类别的数据，划分到 10 份数据中。</p>
<p>​</p>
<p><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/数据处理.gif" alt=""></p>
<p>​</p>
<p>最终得到的数据<code>fold_data</code>是一个<code>list</code>，有 10 个元素，每个元素是 <code>dict</code>，包括 <code>label</code> 和 <code>text</code>的列表：<code>[{labels:textx}, {labels:textx}. . .]</code>。</p>
</li>
<li>
<p>最后，把前 9 份数据作为训练集<code>train_data</code>，最后一份数据作为验证集<code>dev_data</code>，并读取测试集<code>test_data</code>。</p>
</li>
</ol>
<h2>2.2 定义并创建 Vacab</h2>
<p>Vocab 的作用是：</p>
<ul>
<li>
<p>创建 词 和 <code>index</code> 对应的字典，这里包括 2 份字典，分别是：<code>_id2word</code> 和 <code>_id2extword</code>。</p>
</li>
<li>
<p>其中 <code>_id2word</code> 是从新闻得到的， 把词频小于 5 的词替换为了 <code>UNK</code>。对应到模型输入的 <code>batch_inputs1</code>。</p>
</li>
<li>
<p><code>_id2extword</code> 是从 <code>word2vec.txt</code> 中得到的，有 5976 个词。对应到模型输入的 <code>batch_inputs2</code>。</p>
</li>
<li>
<p>后面会有两个 <code>embedding</code> 层，其中 <code>_id2word</code> 对应的 <code>embedding</code> 是可学习的，<code>_id2extword</code> 对应的 <code>embedding</code> 是从文件中加载的，是固定的。</p>
</li>
<li>
<p>创建 label 和 index 对应的字典。</p>
</li>
<li>
<p>上面这些字典，都是基于<code>train_data</code>创建的。</p>
</li>
</ul>
<h1>3. 模型</h1>
<h2>3.1 把文章分割为句子</h2>
<ol>
<li>
<p>上上一步得到的 3 个数据，都是一个<code>list</code>，<code>list</code>里的每个元素是 dict，每个 dict 包括 <code>label</code> 和 <code>text</code>。这 3 个数据会经过 <code>get_examples</code>函数。 <code>get_examples</code>函数里，会调用<code>sentence_split</code>函数，把每一篇文章分割成为句子。</p>
<p>然后，根据<code>vocab</code>，把 word 转换为对应的索引，这里使用了 2 个字典，转换为 2 份索引，分别是：<code>word_ids</code>和<code>extword_ids</code>。最后返回的数据是一个 list，每个元素是一个 tuple: <code>(label, 句子数量，doc)</code>。其中<code>doc</code>又是一个 list，每个 元素是一个 tuple: <code>(句子长度，word_ids, extword_ids)</code>。</p>
<p>​</p>
<p><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/20200814105531.png" alt=""></p>
<p>​</p>
</li>
<li>
<p>在迭代训练时，调用<code>data_iter</code>函数，生成每一批的<code>batch_data</code>。在<code>data_iter</code>函数里，会调用<code>batch_slice</code>函数生成每一个<code>batch</code>。拿到<code>batch_data</code>后，每个数据的格式仍然是上图中所示的格式，下面，调用<code>batch2tensor</code>函数。</p>
</li>
</ol>
<h2>3.2 生成训练数据</h2>
<p><code>batch2tensor</code>函数最后返回的数据是：<code>(batch_inputs1, batch_inputs2, batch_masks), batch_labels</code>。形状都是<code>(batch_size, doc_len, sent_len)</code>。<code>doc_len</code>表示每篇新闻有几句话，<code>sent_len</code>表示每句话有多少个单词。</p>
<p><code>batch_masks</code>在有单词的位置，值为1，其他地方为 0，用于后面计算 Attention，把那些没有单词的位置的 attention 改为 0。</p>
<p><code>batch_inputs1, batch_inputs2, batch_masks</code>，形状是<code>(batch_size, doc_len, sent_len)</code>，转换为<code>(batch_size * doc_len, sent_len)</code>。</p>
<h2>3.3 网络部分</h2>
<p>下面，终于来到网络部分。模型结构图如下：</p>
<p>​</p>
<p><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/20200814132004.png" alt=""></p>
<p>​</p>
<h3>3.3.1 WordCNNEncoder</h3>
<p>WordCNNEncoder 网络结构示意图如下：</p>
<p>​</p>
<p><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/20200814132200.png" alt=""></p>
<p>​</p>
<h4>1. Embedding</h4>
<p><code>batch_inputs1, batch_inputs2</code>都输入到<code>WordCNNEncoder</code>。<code>WordCNNEncoder</code>包括两个<code>embedding</code>层，分别对应<code>batch_inputs1</code>，embedding 层是可学习的，得到<code>word_embed</code>；<code>batch_inputs2</code>，读取的是外部训练好的词向量，因此是不可学习的，得到<code>extword_embed</code>。所以会分别得到两个词向量，将 2 个词向量相加，得到最终的词向量<code>batch_embed</code>，形状是<code>(batch_size * doc_len, sent_len, 100)</code>，然后添加一个维度，变为<code>(batch_size * doc_len, 1, sent_len, 100)</code>，对应 Pytorch 里图像的<code>(B, C, H, W)</code>。</p>
<h4>2. CNN</h4>
<p>然后，分别定义 3 个卷积核，output channel 都是 100 维。</p>
<p>第一个卷积核大小为<code>[2,100]</code>，得到的输出是<code>(batch_size * doc_len, 100， sent_len-2+1, 1)</code>，定义一个池化层大小为<code>[sent_len-2+1, 1]</code>，最终得到输出经过<code>squeeze()</code>的形状是<code>(batch_size * doc_len, 100)</code>。</p>
<p>同理，第 2 个卷积核大小为<code>[3,100]</code>，第 3 个卷积核大小为<code>[4,100]</code>。卷积+池化得到的输出形状也是<code>(batch_size * doc_len, 100)</code>。</p>
<p>最后，将这 3 个向量在第 2 个维度上做拼接，得到输出的形状是<code>(batch_size * doc_len, 300)</code>。</p>
<h3>3.3.2 shape 转换</h3>
<p>把上一步得到的数据的形状，转换为<code>(batch_size , doc_len, 300)</code>名字是<code>sent_reps</code>。然后，对<code>mask</code>进行处理。</p>
<p><code>batch_masks</code>的形状是<code>(batch_size , doc_len, 300)</code>，表示单词的 mask，经过<code>sent_masks = batch_masks.bool().any(2).float()</code>得到句子的 mask。含义是：在最后一个维度，判断是否有单词，只要有 1 个单词，那么整句话的 mask 就是 1，<code>sent_masks</code>的维度是：<code>(batch_size , doc_len)</code>。</p>
<h3>3.3.3 SentEncoder</h3>
<p>SentEncoder 网络结构示意图如下：</p>
<p>​</p>
<p><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/20200814145134.png" alt=""></p>
<p>​</p>
<p><code>SentEncoder</code>包含了 2 层的双向 LSTM，输入数据<code>sent_reps</code>的形状是<code>(batch_size , doc_len, 300)</code>，LSTM 的 hidden_size 为 256，由于是双向的，经过 LSTM 后的数据维度是<code>(batch_size , doc_len, 512)</code>，然后和 mask 按位置相乘，把没有单词的句子的位置改为 0，最后输出的数据<code>sent_hiddens</code>，维度依然是<code>(batch_size , doc_len, 512)</code>。</p>
<h3>3.3.4 Attention</h3>
<p>接着，经过<code>Attention</code>。<code>Attention</code>的输入是<code>sent_hiddens</code>和<code>sent_masks</code>。在<code>Attention</code>里，<code>sent_hiddens</code>首先经过线性变化得到<code>key</code>，维度不变，依然是<code>(batch_size , doc_len, 512)</code>。</p>
<p>然后<code>key</code>和<code>query</code>相乘，得到<code>outputs</code>。<code>query</code>的维度是<code>512</code>，因此<code>output</code>的维度是<code>(batch_size , doc_len)</code>，这个就是我们需要的<code>attention</code>，表示分配到每个句子的权重。下一步需要对这个<code>attetion</code>做<code>softmax</code>，并使用<code>sent_masks</code>，把没有单词的句子的权重置为<code>-1e32</code>，得到<code>masked_attn_scores</code>。</p>
<p>最后把<code>masked_attn_scores</code>和<code>key</code>相乘，得到<code>batch_outputs</code>，形状是<code>(batch_size, 512)</code>。</p>
<h3>3.3.5 FC</h3>
<p>最后经过<code>FC</code>层，得到分类概率的向量。</p>
<h1>4. 完整代码+注释</h1>
<h2>4.1 数据处理</h2>
<p>导入包</p>
<p>import random<br>
​<br>
import numpy as np<br>
import torch<br>
import logging<br>
logging.basicConfig(<a href="http://level%3Dlogging.info/" target="_blank" rel="no-referer no-opener">level=logging.INFO</a>, format='%(asctime)-15s %(levelname)s: %(message)s')<br>
​</p>
<h1>set seed</h1>
<p>seed = 666<br>
random.seed(seed)<br>
np.random.seed(seed)<br>
torch.cuda.manual_seed(seed)<br>
torch.manual_seed(seed)<br>
​</p>
<h1>set cuda</h1>
<p>gpu = 0<br>
use_cuda = gpu &gt;= 0 and torch.cuda.is_available()<br>
if use_cuda:<br>
torch.cuda.set_device(gpu)<br>
device = torch.device("cuda", gpu)<br>
else:<br>
device = torch.device("cpu")<br>
<a href="http://logging.info/" target="_blank" rel="no-referer no-opener">logging.info</a>("Use cuda: %s, gpu id: %d.", use_cuda, gpu)</p>
<p>2020-08-13 17:12:16,510 INFO: Use cuda: False, gpu id: 0.</p>
<h3>4.1.1 把数据分成 10 份</h3>
<p>数据会经过<code>all_data2fold</code>函数，这个函数的作用是把原始的 DataFrame 数据，转换为一个<code>list</code>，有 10 个元素，每个元素是 <code>dict</code>，包括 <code>label</code> 和 <code>text</code>的列表：<code>[{labels:textx}, {labels:textx}. . .]</code>。</p>
<h1>split data to 10 fold</h1>
<p>fold_num = 10<br>
data_file = 'train_set.csv'<br>
import pandas as pd<br>
​<br>
​<br>
def all_data2fold(fold_num, num=10000):<br>
fold_data = []<br>
f = pd.read_csv(data_file, sep='\t', encoding='UTF-8')<br>
texts = f['text'].tolist()[:num]<br>
labels = f['label'].tolist()[:num]<br>
​<br>
total = len(labels)<br>
​<br>
index = list(range(total))</p>
<h1>打乱数据</h1>
<p>np.random.shuffle(index)<br>
​</p>
<h1>all_texts 和 all_labels 都是 shuffle 之后的数据</h1>
<p>all_texts = []<br>
all_labels = []<br>
for i in index:<br>
all_texts.append(texts[i])<br>
all_labels.append(labels[i])<br>
​</p>
<h1>构造一个 dict，key 为 label，value 是一个 list，存储的是该类对应的 index</h1>
<p>label2id = {}<br>
for i in range(total):<br>
label = str(all_labels[i])<br>
if label not in label2id:<br>
label2id[label] = [i]<br>
else:<br>
label2id[label].append(i)<br>
​</p>
<h1>all_index 是一个 list，里面包括 10 个 list，称为 10 个 fold，存储 10 个 fold 对应的 index</h1>
<p>all_index = [[] for _ in range(fold_num)]<br>
for label, data in label2id.items():</p>
<h1>print(label, len(data))</h1>
<p>batch_size = int(len(data) / fold_num)</p>
<h1>other 表示多出来的数据，other 的数据量是小于 fold_num 的</h1>
<p>other = len(data) - batch_size * fold_num</p>
<h1>把每一类对应的 index，添加到每个 fold 里面去</h1>
<p>for i in range(fold_num):</p>
<h1>如果 i &lt; other，那么将一个数据添加到这一轮 batch 的数据中</h1>
<p>cur_batch_size = batch_size + 1 if i &lt; other else batch_size</p>
<h1>print(cur_batch_size)</h1>
<h1>batch_data 是该轮 batch 对应的索引</h1>
<p>batch_data = [data[i * batch_size + b] for b in range(cur_batch_size)]<br>
all_index[i].extend(batch_data)<br>
​<br>
batch_size = int(total / fold_num)<br>
other_texts = []<br>
other_labels = []<br>
other_num = 0<br>
start = 0</p>
<h1>由于上面在分 batch 的过程中，每个 batch 的数据量不一样，这里是把数据平均到每个 batch</h1>
<p>for fold in range(fold_num):<br>
num = len(all_index[fold])<br>
texts = [all_texts[i] for i in all_index[fold]]<br>
labels = [all_labels[i] for i in all_index[fold]]<br>
​<br>
if num &gt; batch_size: # 如果大于 batch_size 那么就取 batch_size 大小的数据<br>
fold_texts = texts[:batch_size]<br>
other_texts.extend(texts[batch_size:])<br>
fold_labels = labels[:batch_size]<br>
other_labels.extend(labels[batch_size:])<br>
other_num += num - batch_size<br>
elif num &lt; batch_size: # 如果小于 batch_size，那么就补全到 batch_size 的大小<br>
end = start + batch_size - num<br>
fold_texts = texts + other_texts[start: end]<br>
fold_labels = labels + other_labels[start: end]<br>
start = end<br>
else:<br>
fold_texts = texts<br>
fold_labels = labels<br>
​<br>
assert batch_size == len(fold_labels)<br>
​</p>
<h1>shuffle</h1>
<p>index = list(range(batch_size))<br>
np.random.shuffle(index)</p>
<h1>这里是为了打乱数据</h1>
<p>shuffle_fold_texts = []<br>
shuffle_fold_labels = []<br>
for i in index:<br>
shuffle_fold_texts.append(fold_texts[i])<br>
shuffle_fold_labels.append(fold_labels[i])<br>
​<br>
data = {'label': shuffle_fold_labels, 'text': shuffle_fold_texts}<br>
fold_data.append(data)<br>
​<br>
<a href="http://logging.info/" target="_blank" rel="no-referer no-opener">logging.info</a>("Fold lens %s", str([len(data['label']) for data in fold_data]))<br>
​<br>
return fold_data<br>
​</p>
<h1>fold_data 是一个 list，有 10 个元素，每个元素是 dict，包括 label 和 text</h1>
<p>fold_data = all_data2fold(10)</p>
<p>2020-08-13 17:12:45,012 INFO: Fold lens [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000]</p>
<h3>4.1.2 拆分训练集、验证集，读取测试集</h3>
<p>把前 9 份数据作为训练集<code>train_data</code>，最后一份数据作为验证集<code>dev_data</code>，并读取测试集<code>test_data</code>。</p>
<h1>build train, dev, test data</h1>
<p>fold_id = 9<br>
​</p>
<h1>dev</h1>
<p>dev_data = fold_data[fold_id]<br>
​</p>
<h1>train 取出前 9 个 fold 的数据</h1>
<p>train_texts = []<br>
train_labels = []<br>
for i in range(0, fold_id):<br>
data = fold_data[i]<br>
train_texts.extend(data['text'])<br>
train_labels.extend(data['label'])<br>
​<br>
train_data = {'label': train_labels, 'text': train_texts}<br>
​</p>
<h1>test 读取测试集数据</h1>
<p>test_data_file = 'test_a.csv'<br>
f = pd.read_csv(test_data_file, sep='\t', encoding='UTF-8')<br>
texts = f['text'].tolist()<br>
test_data = {'label': [0] * len(texts), 'text': texts}</p>
<h3>4.1.3创建 Vocab</h3>
<p>Vocab 的作用是：</p>
<ul>
<li>
<p>创建 词 和 <code>index</code> 对应的字典，这里包括 2 份字典，分别是：<code>_id2word</code> 和 <code>_id2extword</code>。</p>
</li>
<li>
<p>其中 <code>_id2word</code> 是从新闻得到的， 把词频小于 5 的词替换为了 <code>UNK</code>。对应到模型输入的 <code>batch_inputs1</code>。</p>
</li>
<li>
<p><code>_id2extword</code> 是从 <code>word2vec.txt</code> 中得到的，有 5976 个词。对应到模型输入的 <code>batch_inputs2</code>。</p>
</li>
<li>
<p>后面会有两个 <code>embedding</code> 层，其中 <code>_id2word</code> 对应的 <code>embedding</code> 是可学习的，<code>_id2extword</code> 对应的 <code>embedding</code> 是从文件中加载的，是固定的。</p>
</li>
<li>
<p>创建 label 和 index 对应的字典。</p>
</li>
<li>
<p>上面这些字典，都是基于<code>train_data</code>创建的。</p>
</li>
</ul>
<h1>build vocab</h1>
<p>from collections import Counter<br>
from transformers import BasicTokenizer<br>
​<br>
basic_tokenizer = BasicTokenizer()<br>
​</p>
<h1>Vocab 的作用是：</h1>
<h1>1. 创建 词 和 index 对应的字典，这里包括 2 份字典，分别是：_id2word 和 _id2extword</h1>
<h1>其中 _id2word 是从新闻得到的， 把词频小于 5 的词替换为了 UNK。对应到模型输入的 batch_inputs1。</h1>
<h1>_id2extword 是从 word2vec.txt 中得到的，有 5976 个词。对应到模型输入的 batch_inputs2。</h1>
<h1>后面会有两个 embedding 层，其中 _id2word 对应的 embedding 是可学习的，_id2extword 对应的 embedding 是从文件中加载的，是固定的</h1>
<h1>2.创建 label 和 index 对应的字典</h1>
<p>​<br>
class Vocab():<br>
def <strong>init</strong>(self, train_data):<br>
self.min_count = 5<br>
self.pad = 0<br>
self.unk = 1<br>
self._id2word = ['[PAD]', '[UNK]']<br>
self._id2extword = ['[PAD]', '[UNK]']<br>
​<br>
self._id2label = []<br>
self.target_names = []<br>
​<br>
self.build_vocab(train_data)<br>
​<br>
reverse = lambda x: dict(zip(x, range(len(x))))<br>
#创建词和 index 对应的字典<br>
self._word2id = reverse(self._id2word)<br>
#创建 label 和 index 对应的字典<br>
self._label2id = reverse(self._id2label)<br>
​<br>
<a href="http://logging.info/" target="_blank" rel="no-referer no-opener">logging.info</a>("Build vocab: words %d, labels %d." % (self.word_size, self.label_size))<br>
​<br>
#创建词典<br>
def build_vocab(self, data):<br>
self.word_counter = Counter()<br>
#计算每个词出现的次数<br>
for text in data['text']:<br>
words = text.split()<br>
for word in words:<br>
self.word_counter[word] += 1</p>
<h1>去掉频次小于 min_count = 5 的词，把词存到 _id2word</h1>
<p>for word, count in self.word_counter.most_common():<br>
if count &gt;= self.min_count:<br>
self._id2word.append(word)<br>
​<br>
label2name = {0: '科技', 1: '股票', 2: '体育', 3: '娱乐', 4: '时政', 5: '社会', 6: '教育', 7: '财经',<br>
8: '家居', 9: '游戏', 10: '房产', 11: '时尚', 12: '彩票', 13: '星座'}<br>
​<br>
self.label_counter = Counter(data['label'])<br>
​<br>
for label in range(len(self.label_counter)):<br>
count = self.label_counter[label] # 取出 label 对应的次数<br>
self._id2label.append(label)<br>
self.target_names.append(label2name[label]) # 根据label数字取出对应的名字<br>
​<br>
def load_pretrained_embs(self, embfile):<br>
with open(embfile, encoding='utf-8') as f:<br>
lines = f.readlines()<br>
items = lines[0].split()</p>
<h1>第一行分别是单词数量、词向量维度</h1>
<p>word_count, embedding_dim = int(items[0]), int(items[1])<br>
​<br>
index = len(self._id2extword)<br>
embeddings = np.zeros((word_count + index, embedding_dim))</p>
<h1>下面的代码和 word2vec.txt 的结构有关</h1>
<p>for line in lines[1:]:<br>
values = line.split()<br>
self._id2extword.append(values[0]) # 首先添加第一列的单词<br>
vector = np.array(values[1:], dtype='float64') # 然后添加后面 100 列的词向量<br>
embeddings[self.unk] += vector<br>
embeddings[index] = vector<br>
index += 1<br>
​</p>
<h1>unk 的词向量是所有词的平均</h1>
<p>embeddings[self.unk] = embeddings[self.unk] / word_count</p>
<h1>除以标准差干嘛？</h1>
<p>embeddings = embeddings / np.std(embeddings)<br>
​<br>
reverse = lambda x: dict(zip(x, range(len(x))))<br>
self._extword2id = reverse(self._id2extword)<br>
​<br>
assert len(set(self._id2extword)) == len(self._id2extword)<br>
​<br>
return embeddings<br>
​</p>
<h1>根据单词得到 id</h1>
<p>def word2id(self, xs):<br>
if isinstance(xs, list):<br>
return [self._word2id.get(x, self.unk) for x in xs]<br>
return self._word2id.get(xs, self.unk)</p>
<h1>根据单词得到 ext id</h1>
<p>def extword2id(self, xs):<br>
if isinstance(xs, list):<br>
return [self._extword2id.get(x, self.unk) for x in xs]<br>
return self._extword2id.get(xs, self.unk)</p>
<h1>根据 label 得到 id</h1>
<p>def label2id(self, xs):<br>
if isinstance(xs, list):<br>
return [self._label2id.get(x, self.unk) for x in xs]<br>
return self._label2id.get(xs, self.unk)<br>
​<br>
@property<br>
def word_size(self):<br>
return len(self._id2word)<br>
​<br>
@property<br>
def extword_size(self):<br>
return len(self._id2extword)<br>
​<br>
@property<br>
def label_size(self):<br>
return len(self._id2label)<br>
​<br>
​<br>
vocab = Vocab(train_data)</p>
<p>[1, 1, 0, 0, 2, 0, 6, 2, 1, 4]</p>
<h2>4.2 模型</h2>
<h3>4.2.1 定义 Attention</h3>
<p><code>Attention</code>的输入是<code>sent_hiddens</code>和<code>sent_masks</code>。在<code>Attention</code>里，<code>sent_hiddens</code>首先经过线性变化得到<code>key</code>，维度不变，依然是<code>(batch_size , doc_len, 512)</code>。</p>
<p>然后<code>key</code>和<code>query</code>相乘，得到<code>outputs</code>。<code>query</code>的维度是<code>512</code>，因此<code>output</code>的维度是<code>(batch_size , doc_len)</code>，这个就是我们需要的<code>attention</code>，表示分配到每个句子的权重。下一步需要对这个<code>attetion</code>做<code>softmax</code>，并使用<code>sent_masks</code>，把没有单词的句子的权重置为<code>-1e32</code>，得到<code>masked_attn_scores</code>。</p>
<p>最后把<code>masked_attn_scores</code>和<code>key</code>相乘，得到<code>batch_outputs</code>，形状是<code>(batch_size, 512)</code>。</p>
<h1>build module</h1>
<p>import torch.nn as nn<br>
import torch.nn.functional as F<br>
​<br>
​<br>
class Attention(nn.Module):<br>
def <strong>init</strong>(self, hidden_size):<br>
super(Attention, self).<strong>init</strong>()<br>
self.weight = nn.Parameter(torch.Tensor(hidden_size, hidden_size))<br>
self.weight.data.normal_(mean=0.0, std=0.05)<br>
​<br>
self.bias = nn.Parameter(torch.Tensor(hidden_size))<br>
b = np.zeros(hidden_size, dtype=np.float32)<br>
self.bias.data.copy_(torch.from_numpy(b))<br>
​<br>
self.query = nn.Parameter(torch.Tensor(hidden_size))<br>
self.query.data.normal_(mean=0.0, std=0.05)<br>
​<br>
def forward(self, batch_hidden, batch_masks):</p>
<h1>batch_hidden: b * doc_len * hidden_size (2 * hidden_size of lstm)</h1>
<h1>batch_masks:  b x doc_len</h1>
<p>​</p>
<h1>linear</h1>
<h1>key： b * doc_len * hidden</h1>
<p>key = torch.matmul(batch_hidden, self.weight) + self.bias<br>
​</p>
<h1>compute attention</h1>
<h1>matmul 会进行广播</h1>
<p>#outputs: b * doc_len<br>
outputs = torch.matmul(key, self.query)</p>
<h1>1 - batch_masks 就是取反，把没有单词的句子置为 0</h1>
<h1>masked_fill 的作用是 在 为 1 的地方替换为 value: float(-1e32)</h1>
<p>masked_outputs = outputs.masked_fill((1 - batch_masks).bool(), float(-1e32))<br>
#attn_scores：b * doc_len<br>
attn_scores = F.softmax(masked_outputs, dim=1)<br>
​</p>
<h1>对于全零向量，-1e32的结果为 1/len, -inf为nan, 额外补0</h1>
<p>masked_attn_scores = attn_scores.masked_fill((1 - batch_masks).bool(), 0.0)<br>
​</p>
<h1>sum weighted sources</h1>
<h1>masked_attn_scores.unsqueeze(1)：# b * 1 * doc_len</h1>
<h1>key：b * doc_len * hidden</h1>
<h1>batch_outputs：b * hidden</h1>
<p>batch_outputs = torch.bmm(masked_attn_scores.unsqueeze(1), key).squeeze(1)<br>
​<br>
return batch_outputs, attn_scores</p>
<h3>4.2.2 定义 WordCNNEncoder</h3>
<h4>1. Embedding</h4>
<p><code>batch_inputs1, batch_inputs2</code>都输入到<code>WordCNNEncoder</code>。<code>WordCNNEncoder</code>包括两个<code>embedding</code>层，分别对应<code>batch_inputs1</code>，embedding 层是可学习的，得到<code>word_embed</code>；<code>batch_inputs2</code>，读取的是外部训练好的词向，因此是不可学习的，得到<code>extword_embed</code>。所以会分别得到两个词向量，将 2 个词向量相加，得到最终的词向量<code>batch_embed</code>，形状是<code>(batch_size * doc_len, sent_len, 100)</code>，然后添加一个维度，变为<code>(batch_size * doc_len, 1, sent_len, 100)</code>，对应 Pytorch 里图像的<code>(B, C, H, W)</code>。</p>
<h4>2. CNN</h4>
<p>然后，分别定义 3 个卷积核，output channel 都是 100 维。</p>
<p>第一个卷积核大小为<code>[2,100]</code>，得到的输出是<code>(batch_size * doc_len, 100， sent_len-2+1, 1)</code>，定义一个池化层大小为<code>[sent_len-2+1, 1]</code>，最终得到输出经过<code>squeeze()</code>的形状是<code>(batch_size * doc_len, 100)</code>。</p>
<p>同理，第 2 个卷积核大小为<code>[3,100]</code>，第 3 个卷积核大小为<code>[4,100]</code>。卷积+池化得到的输出形状也是<code>(batch_size * doc_len, 100)</code>。</p>
<p>最后，将这 3 个向量在第 2 个维度上做拼接，得到输出的形状是<code>(batch_size * doc_len, 300)</code>。</p>
<h1>读取训练好的词向量文件</h1>
<p>word2vec_path = '…/emb/word2vec.txt'<br>
dropout = 0.15</p>
<h1>输入是：</h1>
<h1>输出是：</h1>
<p>class WordCNNEncoder(nn.Module):<br>
def <strong>init</strong>(self, vocab):<br>
super(WordCNNEncoder, self).<strong>init</strong>()<br>
self.dropout = nn.Dropout(dropout)<br>
self.word_dims = 100 # 词向量的长度是 100 维</p>
<h1>padding_idx 表示当取第 0 个词时，向量全为 0</h1>
<h1>这个 Embedding 层是可学习的</h1>
<p>self.word_embed = nn.Embedding(vocab.word_size, self.word_dims, padding_idx=0)<br>
​<br>
extword_embed = vocab.load_pretrained_embs(word2vec_path)<br>
extword_size, word_dims = extword_embed.shape<br>
<a href="http://logging.info/" target="_blank" rel="no-referer no-opener">logging.info</a>("Load extword embed: words %d, dims %d." % (extword_size, word_dims))<br>
​</p>
<h1># 这个 Embedding 层是不可学习的</h1>
<p>self.extword_embed = nn.Embedding(extword_size, word_dims, padding_idx=0)<br>
self.extword_embed.weight.data.copy_(torch.from_numpy(extword_embed))<br>
self.extword_embed.weight.requires_grad = False<br>
​<br>
input_size = self.word_dims<br>
​<br>
self.filter_sizes = [2, 3, 4]  # n-gram window<br>
self.out_channel = 100</p>
<h1>3 个卷积层，卷积核大小分别为 [2,100], [3,100], [4,100]</h1>
<p>self.convs = nn.ModuleList([nn.Conv2d(1, self.out_channel, (filter_size, input_size), bias=True)<br>
for filter_size in self.filter_sizes])<br>
​<br>
def forward(self, word_ids, extword_ids):</p>
<h1>word_ids: sentence_num * sentence_len</h1>
<h1>extword_ids: sentence_num * sentence_len</h1>
<h1>batch_masks: sentence_num * sentence_len</h1>
<p>sen_num, sent_len = word_ids.shape</p>
<h1>word_embed: sentence_num * sentence_len * 100</h1>
<h1>根据 index 取出词向量</h1>
<p>word_embed = self.word_embed(word_ids)<br>
extword_embed = self.extword_embed(extword_ids)<br>
batch_embed = word_embed + extword_embed<br>
​<br>
if self.training:<br>
batch_embed = self.dropout(batch_embed)</p>
<h1>batch_embed: sentence_num x 1 x sentence_len x 100</h1>
<h1>squeeze 是为了添加一个 channel 的维度，成为 B * C * H * W</h1>
<h1>方便下面做 卷积</h1>
<p>batch_embed.unsqueeze_(1)<br>
​<br>
pooled_outputs = []</p>
<h1>通过 3 个卷积核做 3 次卷积核池化</h1>
<p>for i in range(len(self.filter_sizes)):</p>
<h1>通过池化公式计算池化后的高度: o = (i-k)/s+1</h1>
<h1>其中 o 表示输出的长度</h1>
<h1>k 表示卷积核大小</h1>
<h1>s 表示步长，这里为 1</h1>
<p>filter_height = sent_len - self.filter_sizes[i] + 1</p>
<h1>conv：sentence_num * out_channel * filter_height * 1</h1>
<p>conv = self.convs<a href="https://tianchi.aliyun.com/forum/postDetail?postId=122736" target="_blank" rel="no-referer no-opener">i</a><br>
hidden = F.relu(conv)</p>
<h1>定义池化层</h1>
<p>mp = nn.MaxPool2d((filter_height, 1))  # (filter_height, filter_width)</p>
<h1>pooled：sentence_num * out_channel * 1 * 1 -&gt; sen_num * out_channel</h1>
<h1>也可以通过 squeeze 来删除无用的维度</h1>
<p>pooled = mp(hidden).reshape(sen_num,<br>
self.out_channel)</p>
<p>pooled_outputs.append(pooled)</p>
<h1>拼接 3 个池化后的向量</h1>
<h1>reps: sen_num * (3*out_channel)</h1>
<p>reps = torch.cat(pooled_outputs, dim=1)<br>
​<br>
if self.training:<br>
reps = self.dropout(reps)<br>
​<br>
return reps</p>
<h3>4.2.3 定义 SentEncoder</h3>
<p><code>SentEncoder</code>包含了 2 层的双向 LSTM，输入数据<code>sent_reps</code>的形状是<code>(batch_size , doc_len, 300)</code>，LSTM 的 hidden_size 为 256，由于是双向的，经过 LSTM 后的数据维度是<code>(batch_size , doc_len, 512)</code>，然后和 mask 按位置相乘，把没有单词的句子的位置改为 0，最后输出的数据<code>sent_hiddens</code>，维度依然是<code>(batch_size , doc_len, 512)</code>。</p>
<h1>build sent encoder</h1>
<p>sent_hidden_size = 256<br>
sent_num_layers = 2<br>
​<br>
​<br>
class SentEncoder(nn.Module):<br>
def <strong>init</strong>(self, sent_rep_size):<br>
super(SentEncoder, self).<strong>init</strong>()<br>
self.dropout = nn.Dropout(dropout)<br>
​<br>
self.sent_lstm = nn.LSTM(<br>
input_size=sent_rep_size, # 每个句子经过 CNN 后得到 300 维向量<br>
hidden_size=sent_hidden_size,# 输出的维度<br>
num_layers=sent_num_layers,<br>
batch_first=True,<br>
bidirectional=True<br>
)<br>
​<br>
def forward(self, sent_reps, sent_masks):</p>
<h1>sent_reps:  b * doc_len * sent_rep_size</h1>
<h1>sent_masks: b * doc_len</h1>
<h1>sent_hiddens:  b * doc_len * hidden*2</h1>
<h1>sent_hiddens:  batch, seq_len, num_directions * hidden_size</h1>
<p>sent_hiddens, _ = self.sent_lstm(sent_reps)</p>
<h1>对应相乘，用到广播，是为了只保留有句子的位置的数值</h1>
<p>sent_hiddens = sent_hiddens * sent_masks.unsqueeze(2)</p>
<p>if self.training:<br>
sent_hiddens = self.dropout(sent_hiddens)<br>
​<br>
return sent_hiddens</p>
<h3>4.2.4 定义整个模型</h3>
<p>把 WordCNNEncoder、SentEncoder、Attention、FC 全部连接起来</p>
<h1>build model</h1>
<p>class Model(nn.Module):<br>
def <strong>init</strong>(self, vocab):<br>
super(Model, self).<strong>init</strong>()<br>
self.sent_rep_size = 300 # 经过 CNN 后得到的 300 维向量<br>
self.doc_rep_size = sent_hidden_size * 2 # lstm 最后输出的向量长度<br>
self.all_parameters = {}<br>
parameters = []<br>
self.word_encoder = WordCNNEncoder(vocab)</p>
<p>parameters.extend(list(filter(lambda p: p.requires_grad, self.word_encoder.parameters())))<br>
​<br>
self.sent_encoder = SentEncoder(self.sent_rep_size)<br>
self.sent_attention = Attention(self.doc_rep_size)<br>
parameters.extend(list(filter(lambda p: p.requires_grad, self.sent_encoder.parameters())))<br>
parameters.extend(list(filter(lambda p: p.requires_grad, self.sent_attention.parameters())))</p>
<h1>doc_rep_size</h1>
<p>self.out = nn.Linear(self.doc_rep_size, vocab.label_size, bias=True)<br>
parameters.extend(list(filter(lambda p: p.requires_grad, self.out.parameters())))<br>
​<br>
if use_cuda:<br>
<a href="http://self.to/" target="_blank" rel="no-referer no-opener">self.to</a>(device)<br>
​<br>
if len(parameters) &gt; 0:<br>
self.all_parameters["basic_parameters"] = parameters<br>
​<br>
<a href="http://logging.info/" target="_blank" rel="no-referer no-opener">logging.info</a>('Build model with cnn word encoder, lstm sent encoder.')<br>
​<br>
para_num = sum([np.prod(list(p.size())) for p in self.parameters()])<br>
<a href="http://logging.info/" target="_blank" rel="no-referer no-opener">logging.info</a>('Model param num: %.2f M.' % (para_num / 1e6))<br>
def forward(self, batch_inputs):</p>
<h1>batch_inputs(batch_inputs1, batch_inputs2): b * doc_len * sentence_len</h1>
<h1>batch_masks : b * doc_len * sentence_len</h1>
<p>batch_inputs1, batch_inputs2, batch_masks = batch_inputs<br>
batch_size, max_doc_len, max_sent_len = batch_inputs1.shape[0], batch_inputs1.shape[1], batch_inputs1.shape[2]</p>
<h1>batch_inputs1: sentence_num * sentence_len</h1>
<p>batch_inputs1 = batch_inputs1.view(batch_size * max_doc_len, max_sent_len)</p>
<h1>batch_inputs2: sentence_num * sentence_len</h1>
<p>batch_inputs2 = batch_inputs2.view(batch_size * max_doc_len, max_sent_len)</p>
<h1>batch_masks: sentence_num * sentence_len</h1>
<p>batch_masks = batch_masks.view(batch_size * max_doc_len, max_sent_len)</p>
<h1>sent_reps: sentence_num * sentence_rep_size</h1>
<h1>sen_num * (3*out_channel) =  sen_num * 300</h1>
<p>sent_reps = self.word_encoder(batch_inputs1, batch_inputs2)</p>
<h1>sent_reps：b * doc_len * sent_rep_size</h1>
<p>sent_reps = sent_reps.view(batch_size, max_doc_len, self.sent_rep_size)</p>
<h1>batch_masks：b * doc_len * max_sent_len</h1>
<p>batch_masks = batch_masks.view(batch_size, max_doc_len, max_sent_len)</p>
<h1>sent_masks：b * doc_len any(2) 表示在 第二个维度上判断</h1>
<h1>表示如果如果一个句子中有词 true，那么这个句子就是 true，用于给 lstm 过滤</h1>
<p>sent_masks = batch_masks.bool().any(2).float()  # b x doc_len</p>
<h1>sent_hiddens: b * doc_len * num_directions * hidden_size</h1>
<h1>sent_hiddens:  batch, seq_len, 2 * hidden_size</h1>
<p>sent_hiddens = self.sent_encoder(sent_reps, sent_masks)</p>
<h1>doc_reps: b * (2 * hidden_size)</h1>
<h1>atten_scores: b * doc_len</h1>
<p>doc_reps, atten_scores = self.sent_attention(sent_hiddens, sent_masks)</p>
<h1>b * num_labels</h1>
<p>batch_outputs = self.out(doc_reps)<br>
​<br>
return batch_outputs<br>
​<br>
​<br>
model = Model(vocab)</p>
<h3>4.2.5 定义 Optimizer</h3>
<p>这部分比较容易理解，就是把所有的参数都添加到<code>Optimizer</code>里，定义一些辅助函数。</p>
<h1>build optimizer</h1>
<p>learning_rate = 2e-4<br>
decay = .75<br>
decay_step = 1000<br>
​<br>
​<br>
class Optimizer:<br>
def <strong>init</strong>(self, model_parameters):<br>
self.all_params = []<br>
self.optims = []<br>
self.schedulers = []<br>
​<br>
for name, parameters in model_parameters.items():<br>
if name.startswith("basic"):<br>
optim = torch.optim.Adam(parameters, lr=learning_rate)<br>
self.optims.append(optim)<br>
​<br>
l = lambda step: decay ** (step // decay_step)<br>
scheduler = torch.optim.lr_scheduler.LambdaLR(optim, lr_lambda=l)<br>
self.schedulers.append(scheduler)<br>
self.all_params.extend(parameters)<br>
​<br>
else:<br>
Exception("no nameed parameters.")<br>
​<br>
self.num = len(self.optims)<br>
​<br>
def step(self):<br>
for optim, scheduler in zip(self.optims, self.schedulers):<br>
optim.step()<br>
scheduler.step()<br>
optim.zero_grad()<br>
​<br>
def zero_grad(self):<br>
for optim in self.optims:<br>
optim.zero_grad()<br>
​<br>
def get_lr(self):<br>
lrs = tuple(map(lambda x: x.get_lr()[-1], self.schedulers))<br>
lr = ' %.5f' * self.num<br>
res = lr % lrs<br>
return res</p>
<h3>4.2.6定义 sentence_split，把文章划分为句子</h3>
<p>输入的<code>text</code>表示一篇新闻，最后返回的 segments 是一个list，其中每个元素是 tuple：(句子长度，句子本身)。</p>
<h1></h1>
<h1>作用是：根据一篇文章，把这篇文章分割成多个句子</h1>
<h1>text 是一个新闻的文章</h1>
<h1>vocab 是词典</h1>
<h1>max_sent_len 表示每句话的长度</h1>
<h1>max_segment 表示最多有几句话</h1>
<h1>最后返回的 segments 是一个list，其中每个元素是 tuple：(句子长度，句子本身)</h1>
<p>def sentence_split(text, vocab, max_sent_len=256, max_segment=16):</p>
<p>words = text.strip().split()<br>
document_len = len(words)</p>
<h1>划分句子的索引，句子长度为 max_sent_len</h1>
<p>index = list(range(0, document_len, max_sent_len))<br>
index.append(document_len)<br>
​<br>
segments = []<br>
for i in range(len(index) - 1):</p>
<h1>根据索引划分句子</h1>
<p>segment = words[index[i]: index[i + 1]]<br>
assert len(segment) &gt; 0</p>
<h1>把出现太少的词替换为 UNK</h1>
<p>segment = [word if word in vocab._id2word else '' for word in segment]</p>
<h1>添加 tuple:(句子长度，句子本身)</h1>
<p>segments.append([len(segment), segment])<br>
​<br>
assert len(segments) &gt; 0</p>
<h1>如果大于 max_segment 句话，则局数减少一半，返回一半的句子</h1>
<p>if len(segments) &gt; max_segment:<br>
segment_ = int(max_segment / 2)<br>
return segments[:segment_] + segments[-segment_:]<br>
else:</p>
<h1>否则返回全部句子</h1>
<p>return segments</p>
<h3>4.2.7 定义 get_examples</h3>
<p>遍历每一篇新闻，对每篇新闻都调用<code>sentence_split</code>来分割句子。</p>
<p>最后返回的数据是一个 list，每个元素是一个 tuple: (label, 句子数量，doc)。其中 doc 又是一个 list，每个 元素是一个 tuple: (句子长度，word_ids, extword_ids)。</p>
<h1>最后返回的数据是一个 list，每个元素是一个 tuple: (label, 句子数量，doc)</h1>
<h1>其中 doc 又是一个 list，每个 元素是一个 tuple: (句子长度，word_ids, extword_ids)</h1>
<p>def get_examples(data, vocab, max_sent_len=256, max_segment=8):<br>
label2id = vocab.label2id<br>
examples = []<br>
​<br>
for text, label in zip(data['text'], data['label']):</p>
<h1>label</h1>
<p>id = label2id(label)<br>
​</p>
<h1>sents_words: 是一个list，其中每个元素是 tuple：(句子长度，句子本身)</h1>
<p>sents_words = sentence_split(text, vocab, max_sent_len, max_segment)<br>
doc = []<br>
for sent_len, sent_words in sents_words:</p>
<h1>把 word 转为 id</h1>
<p>word_ids = vocab.word2id(sent_words)</p>
<h1>把 word 转为 ext id</h1>
<p>extword_ids = vocab.extword2id(sent_words)<br>
doc.append([sent_len, word_ids, extword_ids])<br>
examples.append([id, len(doc), doc])<br>
​<br>
<a href="http://logging.info/" target="_blank" rel="no-referer no-opener">logging.info</a>('Total %d docs.' % len(examples))<br>
return examples</p>
<h3>4.2.8 定义 batch_slice</h3>
<p>把数据分割为多个 batch，组成一个 list 并返回</p>
<h1>build loader</h1>
<h1>data 参数就是 get_examples() 得到的</h1>
<h1>data是一个 list，每个元素是一个 tuple: (label, 句子数量，doc)</h1>
<h1>其中 doc 又是一个 list，每个 元素是一个 tuple: (句子长度，word_ids, extword_ids)</h1>
<p>def batch_slice(data, batch_size):<br>
batch_num = int(np.ceil(len(data) / float(batch_size)))<br>
for i in range(batch_num):</p>
<h1>如果 i &lt; batch_num - 1，那么大小为 batch_size，否则就是最后一批数据</h1>
<p>cur_batch_size = batch_size if i &lt; batch_num - 1 else len(data) - batch_size * i<br>
docs = [data[i * batch_size + b] for b in range(cur_batch_size)]<br>
​<br>
yield docs<br>
​</p>
<h3>4.2.9 定义 data_iter</h3>
<p>在迭代训练时，调用<code>data_iter</code>函数，生成每一批的<code>batch_data</code>。而<code>data_iter</code>函数里面会调用<code>batch_slice</code>函数。</p>
<h1>data 参数就是 get_examples() 得到的</h1>
<h1>data是一个 list，每个元素是一个 tuple: (label, 句子数量，doc)</h1>
<h1>其中 doc 又是一个 list，每个 元素是一个 tuple: (句子长度，word_ids, extword_ids)</h1>
<p>def data_iter(data, batch_size, shuffle=True, noise=1.0):<br>
"""<br>
randomly permute data, then sort by source length, and partition into batches<br>
ensure that the length of  sentences in each batch<br>
"""<br>
​<br>
batched_data = []<br>
if shuffle:</p>
<h1>这里是打乱所有数据</h1>
<p>np.random.shuffle(data)</p>
<h1>lengths 表示的是 每篇文章的句子数量</h1>
<p>lengths = [example[1] for example in data]<br>
noisy_lengths = [- (l + np.random.uniform(- noise, noise)) for l in lengths]<br>
sorted_indices = np.argsort(noisy_lengths).tolist()<br>
sorted_data = [data[i] for i in sorted_indices]<br>
else:<br>
sorted_data = data</p>
<h1>把 batch 的数据放进一个 list</h1>
<p>batched_data.extend(list(batch_slice(sorted_data, batch_size)))<br>
​<br>
if shuffle:</p>
<h1>打乱 多个 batch</h1>
<p>np.random.shuffle(batched_data)<br>
​<br>
for batch in batched_data:<br>
yield batch</p>
<h3>4.2.10 定义指标计算</h3>
<h1>some function</h1>
<p>from sklearn.metrics import f1_score, precision_score, recall_score<br>
​<br>
​<br>
def get_score(y_ture, y_pred):<br>
y_ture = np.array(y_ture)<br>
y_pred = np.array(y_pred)<br>
f1 = f1_score(y_ture, y_pred, average='macro') * 100<br>
p = precision_score(y_ture, y_pred, average='macro') * 100<br>
r = recall_score(y_ture, y_pred, average='macro') * 100<br>
​<br>
return str((reformat(p, 2), reformat(r, 2), reformat(f1, 2))), reformat(f1, 2)<br>
​</p>
<h1>保留 n 位小数点</h1>
<p>def reformat(num, n):<br>
return float(format(num, '0.' + str(n) + 'f'))</p>
<h3>4.2.11 定义训练和测试的方法</h3>
<p>比较难看懂的是<code>batch2tensor</code>函数。<code>batch2tensor</code>函数最后返回的数据是：<code>(batch_inputs1, batch_inputs2, batch_masks), batch_labels</code>。形状都是<code>(batch_size, doc_len, sent_len)</code>。<code>doc_len</code>表示每篇新闻有几乎话，<code>sent_len</code>表示每句话有多少个单词。</p>
<p><code>batch_masks</code>在有单词的位置，值为1，其他地方为 0，用于后面计算 Attention，把那些没有单词的位置的 attention 改为 0。</p>
<p><code>batch_inputs1, batch_inputs2, batch_masks</code>，形状是<code>(batch_size, doc_len, sent_len)</code>，转换为<code>(batch_size * doc_len, sent_len)</code>。</p>
<h1>build trainer</h1>
<p>​<br>
import time<br>
from sklearn.metrics import classification_report<br>
​<br>
clip = 5.0<br>
epochs = 1<br>
early_stops = 3<br>
log_interval = 50<br>
​<br>
test_batch_size = 128<br>
train_batch_size = 128<br>
​<br>
save_model = './cnn.bin'<br>
save_test = './cnn.csv'<br>
​<br>
class Trainer():<br>
def <strong>init</strong>(self, model, vocab):<br>
self.model = model<br>
self.report = True<br>
​</p>
<h1>get_examples() 返回的结果是 一个 list</h1>
<h1>每个元素是一个 tuple: (label, 句子数量，doc)</h1>
<h1>其中 doc 又是一个 list，每个 元素是一个 tuple: (句子长度，word_ids, extword_ids)</h1>
<p>self.train_data = get_examples(train_data, vocab)<br>
self.batch_num = int(np.ceil(len(self.train_data) / float(train_batch_size)))<br>
self.dev_data = get_examples(dev_data, vocab)<br>
self.test_data = get_examples(test_data, vocab)<br>
​</p>
<h1>criterion</h1>
<p>self.criterion = nn.CrossEntropyLoss()<br>
​</p>
<h1>label name</h1>
<p>self.target_names = vocab.target_names<br>
​</p>
<h1>optimizer</h1>
<p>self.optimizer = Optimizer(model.all_parameters)<br>
​</p>
<h1>count</h1>
<p>self.step = 0<br>
self.early_stop = -1<br>
self.best_train_f1, self.best_dev_f1 = 0, 0<br>
self.last_epoch = epochs<br>
​<br>
def train(self):<br>
<a href="http://logging.info/" target="_blank" rel="no-referer no-opener">logging.info</a>('Start training…')<br>
for epoch in range(1, epochs + 1):<br>
train_f1 = self._train(epoch)<br>
​<br>
dev_f1 = self._eval(epoch)<br>
​<br>
if self.best_dev_f1 &lt;= dev_f1:<br>
<a href="http://logging.info/" target="_blank" rel="no-referer no-opener">logging.info</a>(<br>
"Exceed history dev = %.2f, current dev = %.2f" % (self.best_dev_f1, dev_f1))<br>
torch.save(self.model.state_dict(), save_model)<br>
​<br>
self.best_train_f1 = train_f1<br>
self.best_dev_f1 = dev_f1<br>
self.early_stop = 0<br>
else:<br>
self.early_stop += 1<br>
if self.early_stop == early_stops:<br>
<a href="http://logging.info/" target="_blank" rel="no-referer no-opener">logging.info</a>(<br>
"Eearly stop in epoch %d, best train: %.2f, dev: %.2f" % (<br>
epoch - early_stops, self.best_train_f1, self.best_dev_f1))<br>
self.last_epoch = epoch<br>
break<br>
​<br>
def test(self):<br>
self.model.load_state_dict(torch.load(save_model))<br>
self._eval(self.last_epoch + 1, test=True)</p>
<p>def _train(self, epoch):<br>
self.optimizer.zero_grad()<br>
self.model.train()<br>
​<br>
start_time = time.time()<br>
epoch_start_time = time.time()<br>
overall_losses = 0<br>
losses = 0<br>
batch_idx = 1<br>
y_pred = []<br>
y_true = []<br>
for batch_data in data_iter(self.train_data, train_batch_size, shuffle=True):<br>
torch.cuda.empty_cache()</p>
<h1>batch_inputs: (batch_inputs1, batch_inputs2, batch_masks)</h1>
<h1>形状都是：batch_size * doc_len * sent_len</h1>
<h1>batch_labels: batch_size</h1>
<p>batch_inputs, batch_labels = self.batch2tensor(batch_data)</p>
<h1>batch_outputs：b * num_labels</h1>
<p>batch_outputs = self.model(batch_inputs)</p>
<h1>criterion 是 CrossEntropyLoss，真实标签的形状是：N</h1>
<h1>预测标签的形状是：(N,C)</h1>
<p>loss = self.criterion(batch_outputs, batch_labels)</p>
<p>loss.backward()<br>
​<br>
loss_value = loss.detach().cpu().item()<br>
losses += loss_value<br>
overall_losses += loss_value</p>
<h1>把预测值转换为一维，方便下面做 classification_report，计算 f1</h1>
<p>y_pred.extend(torch.max(batch_outputs, dim=1)[1].cpu().numpy().tolist())<br>
y_true.extend(batch_labels.cpu().numpy().tolist())</p>
<h1>梯度裁剪</h1>
<p>nn.utils.clip_grad_norm_(self.optimizer.all_params, max_norm=clip)<br>
for optimizer, scheduler in zip(self.optimizer.optims, self.optimizer.schedulers):<br>
optimizer.step()<br>
scheduler.step()<br>
self.optimizer.zero_grad()<br>
​<br>
self.step += 1<br>
​<br>
if batch_idx % log_interval == 0:<br>
elapsed = time.time() - start_time</p>
<p>lrs = self.optimizer.get_lr()<br>
<a href="http://logging.info/" target="_blank" rel="no-referer no-opener">logging.info</a>(<br>
'| epoch {:3d} | step {:3d} | batch {:3d}/{:3d} | lr{} | loss {:.4f} | s/batch {:.2f}'.format(<br>
epoch, self.step, batch_idx, self.batch_num, lrs,<br>
losses / log_interval,<br>
elapsed / log_interval))</p>
<p>losses = 0<br>
start_time = time.time()</p>
<p>batch_idx += 1</p>
<p>overall_losses /= self.batch_num<br>
during_time = time.time() - epoch_start_time<br>
​</p>
<h1>reformat 保留 4 位数字</h1>
<p>overall_losses = reformat(overall_losses, 4)<br>
score, f1 = get_score(y_true, y_pred)<br>
​<br>
<a href="http://logging.info/" target="_blank" rel="no-referer no-opener">logging.info</a>(<br>
'| epoch {:3d} | score {} | f1 {} | loss {:.4f} | time {:.2f}'.format(epoch, score, f1,<br>
overall_losses, during_time))</p>
<h1>如果预测和真实的标签都包含相同的类别数目，才能调用 classification_report</h1>
<p>if set(y_true) == set(y_pred) and self.report:<br>
report = classification_report(y_true, y_pred, digits=4, target_names=self.target_names)<br>
<a href="http://logging.info/" target="_blank" rel="no-referer no-opener">logging.info</a>('\n' + report)<br>
​<br>
return f1<br>
​</p>
<h1>这里验证集、测试集都使用这个函数，通过 test 来区分使用哪个数据集</h1>
<p>def _eval(self, epoch, test=False):<br>
self.model.eval()<br>
start_time = time.time()<br>
data = self.test_data if test else self.dev_data<br>
y_pred = []<br>
y_true = []<br>
with torch.no_grad():<br>
for batch_data in data_iter(data, test_batch_size, shuffle=False):<br>
torch.cuda.empty_cache()</p>
<h1>batch_inputs: (batch_inputs1, batch_inputs2, batch_masks)</h1>
<h1>形状都是：batch_size * doc_len * sent_len</h1>
<h1>batch_labels: batch_size</h1>
<p>batch_inputs, batch_labels = self.batch2tensor(batch_data)</p>
<h1>batch_outputs：b * num_labels</h1>
<p>batch_outputs = self.model(batch_inputs)</p>
<h1>把预测值转换为一维，方便下面做 classification_report，计算 f1</h1>
<p>y_pred.extend(torch.max(batch_outputs, dim=1)[1].cpu().numpy().tolist())<br>
y_true.extend(batch_labels.cpu().numpy().tolist())<br>
​<br>
score, f1 = get_score(y_true, y_pred)<br>
​<br>
during_time = time.time() - start_time</p>
<p>if test:<br>
df = pd.DataFrame({'label': y_pred})<br>
df.to_csv(save_test, index=False, sep=',')<br>
else:<br>
<a href="http://logging.info/" target="_blank" rel="no-referer no-opener">logging.info</a>(<br>
'| epoch {:3d} | dev | score {} | f1 {} | time {:.2f}'.format(epoch, score, f1,<br>
during_time))<br>
if set(y_true) == set(y_pred) and self.report:<br>
report = classification_report(y_true, y_pred, digits=4, target_names=self.target_names)<br>
<a href="http://logging.info/" target="_blank" rel="no-referer no-opener">logging.info</a>('\n' + report)<br>
​<br>
return f1<br>
​</p>
<h1>data 参数就是 get_examples() 得到的，经过了分 batch</h1>
<h1>batch_data是一个 list，每个元素是一个 tuple: (label, 句子数量，doc)</h1>
<h1>其中 doc 又是一个 list，每个 元素是一个 tuple: (句子长度，word_ids, extword_ids)</h1>
<p>def batch2tensor(self, batch_data):<br>
'''<br>
[[label, doc_len, [[sent_len, [sent_id0, …], [sent_id1, …]], …]]<br>
'''<br>
batch_size = len(batch_data)<br>
doc_labels = []<br>
doc_lens = []<br>
doc_max_sent_len = []<br>
for doc_data in batch_data:</p>
<h1>doc_data 代表一篇新闻，是一个 tuple: (label, 句子数量，doc)</h1>
<h1>doc_data[0] 是 label</h1>
<p>doc_labels.append(doc_data[0])</p>
<h1>doc_data[1] 是 这篇文章的句子数量</h1>
<p>doc_lens.append(doc_data[1])</p>
<h1>doc_data[2] 是一个 list，每个 元素是一个 tuple: (句子长度，word_ids, extword_ids)</h1>
<h1>所以 sent_data[0] 表示每个句子的长度（单词个数）</h1>
<p>sent_lens = [sent_data[0] for sent_data in doc_data[2]]</p>
<h1>取出这篇新闻中最长的句子长度（单词个数）</h1>
<p>max_sent_len = max(sent_lens)<br>
doc_max_sent_len.append(max_sent_len)</p>
<h1>取出最长的句子数量</h1>
<p>max_doc_len = max(doc_lens)</p>
<h1>取出这批 batch 数据中最长的句子长度（单词个数）</h1>
<p>max_sent_len = max(doc_max_sent_len)</p>
<h1>创建 数据</h1>
<p>batch_inputs1 = torch.zeros((batch_size, max_doc_len, max_sent_len), dtype=torch.int64)<br>
batch_inputs2 = torch.zeros((batch_size, max_doc_len, max_sent_len), dtype=torch.int64)<br>
batch_masks = torch.zeros((batch_size, max_doc_len, max_sent_len), dtype=torch.float32)<br>
batch_labels = torch.LongTensor(doc_labels)<br>
​<br>
for b in range(batch_size):<br>
for sent_idx in range(doc_lens[b]):</p>
<h1>batch_data[b][2] 表示一个 list，是一篇文章中的句子</h1>
<p>sent_data = batch_data[b][2][sent_idx] #sent_data 表示一个句子<br>
for word_idx in range(sent_data[0]): # sent_data[0] 是句子长度(单词数量)</p>
<h1>sent_data[1] 表示 word_ids</h1>
<p>batch_inputs1[b, sent_idx, word_idx] = sent_data[1][word_idx]</p>
<h1># sent_data[2] 表示 extword_ids</h1>
<p>batch_inputs2[b, sent_idx, word_idx] = sent_data[2][word_idx]</p>
<h1>mask 表示 哪个位置是有词，后面计算 attention 时，没有词的地方会被置为 0</h1>
<p>batch_masks[b, sent_idx, word_idx] = 1<br>
​<br>
if use_cuda:<br>
batch_inputs1 = batch_inputs1.to(device)<br>
batch_inputs2 = batch_inputs2.to(device)<br>
batch_masks = batch_masks.to(device)<br>
batch_labels = batch_labels.to(device)<br>
​<br>
return (batch_inputs1, batch_inputs2, batch_masks), batch_labels</p>
<h1>train</h1>
<p>trainer = Trainer(model, vocab)<br>
trainer.train()</p>
<h1>test</h1>
<p>trainer.test()</p>
<p>至此，整个流程就讲解完了。希望对你有所帮助。</p>
<p>如果你觉得这篇文章对你有帮助，不妨点个赞，让我有更多动力写出好文章。</p>
<p>我的文章会首发在公众号上，欢迎扫码关注我的公众号<strong>张贤同学</strong>。</p>
<p>​</p>
<p><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/QRcode_8cm.jpg" alt=""></p>
<p>​</p>
</div></div><div class="attach-box" style="display: none;"><p class="attach-title">附件下载</p><!-- react-text: 47 --><!-- /react-text --></div><div class="vote-icon vote-undo"><i class="anticon anticon-like-o hand-icon"></i><p class="vote-number">11</p></div><div class="rel-race"><!-- react-text: 421 -->关联比赛<!-- /react-text --><!-- react-text: 422 -->:<!-- /react-text --><a href="https://tianchi.aliyun.com/competition/entrance/531810/introduction" rel="no-referer no-opener">零基础入门NLP - 新闻文本分类</a></div><div class="copyright-notice"><span>版权声明：</span><!-- react-text: 54 -->本文内容由阿里云天池用户自发贡献，版权归原作者所有，天池社区不拥有其著作权，亦不承担相应法律责任。<!-- /react-text --><!-- react-text: 55 -->如果您发现本社区中有涉嫌抄袭的内容，填写<!-- /react-text --><a href="https://yida.alibaba-inc.com/o/tianchi#/" target="_blank" rel="no-referer no-opener">侵权投诉表单</a><!-- react-text: 57 -->进行举报，一经查实，本社区将立刻删除涉嫌侵权内容。<!-- /react-text --></div><div class="detail-richtext"><div id="editor" style="background: rgb(255, 255, 255);"><div style="background-color:#f1f1f1; border:1px solid #ccc;" class="w-e-toolbar" id="toolbar-elem34344072932384306"><div class="w-e-menu" style="z-index:10001;"><i class="w-e-icon-header"></i></div><div class="w-e-menu" style="z-index:10001;">
            <i class="w-e-icon-bold"></i>
        </div><div class="w-e-menu" style="z-index:10001;"><i class="w-e-icon-text-heigh"></i></div><div class="w-e-menu" style="z-index:10001;"><i class="w-e-icon-font"></i></div><div class="w-e-menu" style="z-index:10001;">
            <i class="w-e-icon-italic"></i>
        </div><div class="w-e-menu" style="z-index:10001;">
            <i class="w-e-icon-underline"></i>
        </div><div class="w-e-menu" style="z-index:10001;">
            <i class="w-e-icon-strikethrough"></i>
        </div><div class="w-e-menu" style="z-index:10001;"><i class="w-e-icon-pencil2"></i></div><div class="w-e-menu" style="z-index:10001;"><i class="w-e-icon-paint-brush"></i></div><div class="w-e-menu" style="z-index:10001;"><i class="w-e-icon-link"></i></div><div class="w-e-menu" style="z-index:10001;"><i class="w-e-icon-list2"></i></div><div class="w-e-menu" style="z-index:10001;"><i class="w-e-icon-paragraph-left"></i></div><div class="w-e-menu" style="z-index:10001;">
            <i class="w-e-icon-quotes-left"></i>
        </div><div class="w-e-menu" style="z-index:10001;">
            <i class="w-e-icon-happy"></i>
        </div><div class="w-e-menu" id="w-e-img9549162582188286" style="z-index:10001;"><i class="w-e-icon-image"></i></div><div class="w-e-menu" style="z-index:10001;"><i class="w-e-icon-table2"></i></div><div class="w-e-menu" style="z-index:10001;">
            <i class="w-e-icon-terminal"></i>
        </div><div class="w-e-menu" style="z-index:10001;">
            <i class="w-e-icon-undo"></i>
        </div><div class="w-e-menu" style="z-index:10001;">
            <i class="w-e-icon-redo"></i>
        </div></div><div style="border:1px solid #ccc; border-top:none; height:300px; z-index:10000;" class="w-e-text-container"><div contenteditable="true" style="width:100%; height:100%;" class="w-e-text" id="text-elem5396313720634722"><p><br></p></div></div></div></div><div style="margin-bottom: 15px; text-align: left;"><button type="button" class="ant-btn ant-btn-primary"><span>发 布</span></button></div><div class="forum-comment-box"><div class="forum-post-box-left"><div class="left-img"><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279558444" target="_blank" rel="no-referer no-opener"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/avatar3.jpg" alt=""></a></div></div><div class="forum-post-box-right"><div class="post-box-top"></div><div class="post-box-content"><p><!-- react-text: 81 --> <!-- /react-text --><span><p>新手表示感谢！请问楼主跑出来的结果是多少？我跑的f1为什么非常低</p></span></p></div><div class="post-box-bottom"><span><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279558444" target="_blank" rel="no-referer no-opener"><i class="anticon anticon-user" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 87 -->xgg829<!-- /react-text --></a></span><span style="margin-right: 10px;"><i class="anticon anticon-calendar" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 90 -->2020-08-14 09:57:58<!-- /react-text --></span><span style="margin-right: 10px;"><i class="anticon anticon-team" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 93 -->1<!-- /react-text --></span><span class="zan-number">0</span><i class="anticon anticon-like-o" style="color: rgb(205, 205, 205); font-size: 14px; cursor: pointer;"></i><a href="https://tianchi.aliyun.com/forum/postDetail?postId=122736#" class="btn-reply js-reply" rel="no-referer no-opener">回复</a></div><div id="comment1" class="post-reply-hide hide"><div class="reply-ling"><i class="iconfont icon-tongzhi"></i></div><div class="pull-right"><textarea name="" id="replyText1" placeholder="回复@xgg829"></textarea></div><div class="button-group"><button class="btn-ping" type="button">回复</button><button class="btn-qv js-qv" type="button">取消</button></div></div></div></div><div class="forum-comment-box"><div class="forum-post-box-left"><div class="left-img"><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279407639" target="_blank" rel="no-referer no-opener"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/96406beb1d5548cbbcac1af9ffe255eb.png" alt=""></a></div></div><div class="forum-post-box-right"><div class="post-box-top"></div><div class="post-box-content"><p><!-- react-text: 114 -->回复 <!-- /react-text --><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279558444" target="_blank" rel="no-referer no-opener" style="color: blue;">xgg829</a><!-- react-text: 116 --> <!-- /react-text --><span>我还在跑哈</span></p></div><div class="post-box-bottom"><span><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279407639" target="_blank" rel="no-referer no-opener"><i class="anticon anticon-user" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 122 -->张贤同学<!-- /react-text --></a></span><span style="margin-right: 10px;"><i class="anticon anticon-calendar" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 125 -->2020-08-14 16:14:18<!-- /react-text --></span><span style="margin-right: 10px;"><i class="anticon anticon-team" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 128 -->2<!-- /react-text --></span><span class="zan-number">1</span><i class="anticon anticon-like-o" style="color: rgb(205, 205, 205); font-size: 14px; cursor: pointer;"></i><a href="https://tianchi.aliyun.com/forum/postDetail?postId=122736#" class="btn-reply js-reply" rel="no-referer no-opener">回复</a></div><div id="comment2" class="post-reply-hide hide"><div class="reply-ling"><i class="iconfont icon-tongzhi"></i></div><div class="pull-right"><textarea name="" id="replyText2" placeholder="回复@张贤同学"></textarea></div><div class="button-group"><button class="btn-ping" type="button">回复</button><button class="btn-qv js-qv" type="button">取消</button></div></div></div></div><div class="forum-comment-box"><div class="forum-post-box-left"><div class="left-img"><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279561093" target="_blank" rel="no-referer no-opener"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/avatar3.jpg" alt=""></a></div></div><div class="forum-post-box-right"><div class="post-box-top"></div><div class="post-box-content"><p><!-- react-text: 149 -->回复 <!-- /react-text --><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279407639" target="_blank" rel="no-referer no-opener" style="color: blue;">张贤同学</a><!-- react-text: 151 --> <!-- /react-text --><span>你好，请问TextCNN训练的话，通常情况下epoch设置为多大呢？</span></p></div><div class="post-box-bottom"><span><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279561093" target="_blank" rel="no-referer no-opener"><i class="anticon anticon-user" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 157 -->cnxupup<!-- /react-text --></a></span><span style="margin-right: 10px;"><i class="anticon anticon-calendar" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 160 -->2020-08-14 17:26:19<!-- /react-text --></span><span style="margin-right: 10px;"><i class="anticon anticon-team" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 163 -->3<!-- /react-text --></span><span class="zan-number">0</span><i class="anticon anticon-like-o" style="color: rgb(205, 205, 205); font-size: 14px; cursor: pointer;"></i><a href="https://tianchi.aliyun.com/forum/postDetail?postId=122736#" class="btn-reply js-reply" rel="no-referer no-opener">回复</a></div><div id="comment3" class="post-reply-hide hide"><div class="reply-ling"><i class="iconfont icon-tongzhi"></i></div><div class="pull-right"><textarea name="" id="replyText3" placeholder="回复@cnxupup"></textarea></div><div class="button-group"><button class="btn-ping" type="button">回复</button><button class="btn-qv js-qv" type="button">取消</button></div></div></div></div><div class="forum-comment-box"><div class="forum-post-box-left"><div class="left-img"><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279407639" target="_blank" rel="no-referer no-opener"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/96406beb1d5548cbbcac1af9ffe255eb.png" alt=""></a></div></div><div class="forum-post-box-right"><div class="post-box-top"></div><div class="post-box-content"><p><!-- react-text: 184 -->回复 <!-- /react-text --><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279561093" target="_blank" rel="no-referer no-opener" style="color: blue;">cnxupup</a><!-- react-text: 186 --> <!-- /react-text --><span>我暂时还没有尝试这个超参数</span></p></div><div class="post-box-bottom"><span><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279407639" target="_blank" rel="no-referer no-opener"><i class="anticon anticon-user" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 192 -->张贤同学<!-- /react-text --></a></span><span style="margin-right: 10px;"><i class="anticon anticon-calendar" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 195 -->2020-08-14 23:56:24<!-- /react-text --></span><span style="margin-right: 10px;"><i class="anticon anticon-team" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 198 -->4<!-- /react-text --></span><span class="zan-number">0</span><i class="anticon anticon-like-o" style="color: rgb(205, 205, 205); font-size: 14px; cursor: pointer;"></i><a href="https://tianchi.aliyun.com/forum/postDetail?postId=122736#" class="btn-reply js-reply" rel="no-referer no-opener">回复</a></div><div id="comment4" class="post-reply-hide hide"><div class="reply-ling"><i class="iconfont icon-tongzhi"></i></div><div class="pull-right"><textarea name="" id="replyText4" placeholder="回复@张贤同学"></textarea></div><div class="button-group"><button class="btn-ping" type="button">回复</button><button class="btn-qv js-qv" type="button">取消</button></div></div></div></div><div class="forum-comment-box"><div class="forum-post-box-left"><div class="left-img"><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279407639" target="_blank" rel="no-referer no-opener"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/96406beb1d5548cbbcac1af9ffe255eb.png" alt=""></a></div></div><div class="forum-post-box-right"><div class="post-box-top"></div><div class="post-box-content"><p><!-- react-text: 219 -->回复 <!-- /react-text --><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279558444" target="_blank" rel="no-referer no-opener" style="color: blue;">xgg829</a><!-- react-text: 221 --> <!-- /react-text --><span>我跑完，提交后的分数是 0.932</span></p></div><div class="post-box-bottom"><span><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279407639" target="_blank" rel="no-referer no-opener"><i class="anticon anticon-user" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 227 -->张贤同学<!-- /react-text --></a></span><span style="margin-right: 10px;"><i class="anticon anticon-calendar" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 230 -->2020-08-21 18:01:45<!-- /react-text --></span><span style="margin-right: 10px;"><i class="anticon anticon-team" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 233 -->5<!-- /react-text --></span><span class="zan-number">0</span><i class="anticon anticon-like-o" style="color: rgb(205, 205, 205); font-size: 14px; cursor: pointer;"></i><a href="https://tianchi.aliyun.com/forum/postDetail?postId=122736#" class="btn-reply js-reply" rel="no-referer no-opener">回复</a></div><div id="comment5" class="post-reply-hide hide"><div class="reply-ling"><i class="iconfont icon-tongzhi"></i></div><div class="pull-right"><textarea name="" id="replyText5" placeholder="回复@张贤同学"></textarea></div><div class="button-group"><button class="btn-ping" type="button">回复</button><button class="btn-qv js-qv" type="button">取消</button></div></div></div></div><div class="forum-comment-box"><div class="forum-post-box-left"><div class="left-img"><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279444633" target="_blank" rel="no-referer no-opener"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/avatar3.jpg" alt=""></a></div></div><div class="forum-post-box-right"><div class="post-box-top"></div><div class="post-box-content"><p><!-- react-text: 254 --> <!-- /react-text --><span><p>图没了</p></span></p></div><div class="post-box-bottom"><span><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279444633" target="_blank" rel="no-referer no-opener"><i class="anticon anticon-user" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 260 -->蔡鸟小白<!-- /react-text --></a></span><span style="margin-right: 10px;"><i class="anticon anticon-calendar" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 263 -->2020-08-28 10:31:54<!-- /react-text --></span><span style="margin-right: 10px;"><i class="anticon anticon-team" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 266 -->6<!-- /react-text --></span><span class="zan-number">0</span><i class="anticon anticon-like-o" style="color: rgb(205, 205, 205); font-size: 14px; cursor: pointer;"></i><a href="https://tianchi.aliyun.com/forum/postDetail?postId=122736#" class="btn-reply js-reply" rel="no-referer no-opener">回复</a></div><div id="comment6" class="post-reply-hide hide"><div class="reply-ling"><i class="iconfont icon-tongzhi"></i></div><div class="pull-right"><textarea name="" id="replyText6" placeholder="回复@蔡鸟小白"></textarea></div><div class="button-group"><button class="btn-ping" type="button">回复</button><button class="btn-qv js-qv" type="button">取消</button></div></div></div></div><div class="forum-comment-box"><div class="forum-post-box-left"><div class="left-img"><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279407639" target="_blank" rel="no-referer no-opener"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/96406beb1d5548cbbcac1af9ffe255eb.png" alt=""></a></div></div><div class="forum-post-box-right"><div class="post-box-top"></div><div class="post-box-content"><p><!-- react-text: 287 -->回复 <!-- /react-text --><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279444633" target="_blank" rel="no-referer no-opener" style="color: blue;">蔡鸟小白</a><!-- react-text: 289 --> <!-- /react-text --><span>我说了，看文章开头</span></p></div><div class="post-box-bottom"><span><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279407639" target="_blank" rel="no-referer no-opener"><i class="anticon anticon-user" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 295 -->张贤同学<!-- /react-text --></a></span><span style="margin-right: 10px;"><i class="anticon anticon-calendar" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 298 -->2020-09-03 20:40:30<!-- /react-text --></span><span style="margin-right: 10px;"><i class="anticon anticon-team" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 301 -->7<!-- /react-text --></span><span class="zan-number">0</span><i class="anticon anticon-like-o" style="color: rgb(205, 205, 205); font-size: 14px; cursor: pointer;"></i><a href="https://tianchi.aliyun.com/forum/postDetail?postId=122736#" class="btn-reply js-reply" rel="no-referer no-opener">回复</a></div><div id="comment7" class="post-reply-hide hide"><div class="reply-ling"><i class="iconfont icon-tongzhi"></i></div><div class="pull-right"><textarea name="" id="replyText7" placeholder="回复@张贤同学"></textarea></div><div class="button-group"><button class="btn-ping" type="button">回复</button><button class="btn-qv js-qv" type="button">取消</button></div></div></div></div><div class="forum-comment-box"><div class="forum-post-box-left"><div class="left-img"><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279637983" target="_blank" rel="no-referer no-opener"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/avatar3.jpg" alt=""></a></div></div><div class="forum-post-box-right"><div class="post-box-top"></div><div class="post-box-content"><p><!-- react-text: 322 --> <!-- /react-text --><span><p><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/16067361551582296捕获.PNG"><br></p><p>这是什么问题啊，是版本的问题吗？</p><p><br></p></span></p></div><div class="post-box-bottom"><span><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279637983" target="_blank" rel="no-referer no-opener"><i class="anticon anticon-user" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 328 -->abdunabijan<!-- /react-text --></a></span><span style="margin-right: 10px;"><i class="anticon anticon-calendar" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 331 -->2020-11-30 19:36:23<!-- /react-text --></span><span style="margin-right: 10px;"><i class="anticon anticon-team" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 334 -->8<!-- /react-text --></span><span class="zan-number">0</span><i class="anticon anticon-like-o" style="color: rgb(205, 205, 205); font-size: 14px; cursor: pointer;"></i><a href="https://tianchi.aliyun.com/forum/postDetail?postId=122736#" class="btn-reply js-reply" rel="no-referer no-opener">回复</a></div><div id="comment8" class="post-reply-hide hide"><div class="reply-ling"><i class="iconfont icon-tongzhi"></i></div><div class="pull-right"><textarea name="" id="replyText8" placeholder="回复@abdunabijan"></textarea></div><div class="button-group"><button class="btn-ping" type="button">回复</button><button class="btn-qv js-qv" type="button">取消</button></div></div></div></div><div class="forum-comment-box"><div class="forum-post-box-left"><div class="left-img"><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279611486" target="_blank" rel="no-referer no-opener"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/avatar3.jpg" alt=""></a></div></div><div class="forum-post-box-right"><div class="post-box-top"></div><div class="post-box-content"><p><!-- react-text: 355 -->回复 <!-- /react-text --><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279558444" target="_blank" rel="no-referer no-opener" style="color: blue;">xgg829</a><!-- react-text: 357 --> <!-- /react-text --><span>我也一样，你解决了吗</span></p></div><div class="post-box-bottom"><span><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279611486" target="_blank" rel="no-referer no-opener"><i class="anticon anticon-user" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 363 -->COMSICDREAM<!-- /react-text --></a></span><span style="margin-right: 10px;"><i class="anticon anticon-calendar" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 366 -->2020-12-16 11:38:16<!-- /react-text --></span><span style="margin-right: 10px;"><i class="anticon anticon-team" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 369 -->9<!-- /react-text --></span><span class="zan-number">0</span><i class="anticon anticon-like-o" style="color: rgb(205, 205, 205); font-size: 14px; cursor: pointer;"></i><a href="https://tianchi.aliyun.com/forum/postDetail?postId=122736#" class="btn-reply js-reply" rel="no-referer no-opener">回复</a></div><div id="comment9" class="post-reply-hide hide"><div class="reply-ling"><i class="iconfont icon-tongzhi"></i></div><div class="pull-right"><textarea name="" id="replyText9" placeholder="回复@COMSICDREAM"></textarea></div><div class="button-group"><button class="btn-ping" type="button">回复</button><button class="btn-qv js-qv" type="button">取消</button></div></div></div></div><div class="forum-comment-box"><div class="forum-post-box-left"><div class="left-img"><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279611486" target="_blank" rel="no-referer no-opener"><img src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/avatar3.jpg" alt=""></a></div></div><div class="forum-post-box-right"><div class="post-box-top"></div><div class="post-box-content"><p><!-- react-text: 390 -->回复 <!-- /react-text --><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279637983" target="_blank" rel="no-referer no-opener" style="color: blue;">abdunabijan</a><!-- react-text: 392 --> <!-- /react-text --><span>我也这样 解决了吗</span></p></div><div class="post-box-bottom"><span><a href="https://tianchi.aliyun.com/home/science/scienceDetail?userId=1095279611486" target="_blank" rel="no-referer no-opener"><i class="anticon anticon-user" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 398 -->COMSICDREAM<!-- /react-text --></a></span><span style="margin-right: 10px;"><i class="anticon anticon-calendar" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 401 -->2020-12-16 11:38:32<!-- /react-text --></span><span style="margin-right: 10px;"><i class="anticon anticon-team" style="margin-right: 5px; font-size: 14px;"></i><!-- react-text: 404 -->10<!-- /react-text --></span><span class="zan-number">0</span><i class="anticon anticon-like-o" style="color: rgb(205, 205, 205); font-size: 14px; cursor: pointer;"></i><a href="https://tianchi.aliyun.com/forum/postDetail?postId=122736#" class="btn-reply js-reply" rel="no-referer no-opener">回复</a></div><div id="comment10" class="post-reply-hide hide"><div class="reply-ling"><i class="iconfont icon-tongzhi"></i></div><div class="pull-right"><textarea name="" id="replyText10" placeholder="回复@COMSICDREAM"></textarea></div><div class="button-group"><button class="btn-ping" type="button">回复</button><button class="btn-qv js-qv" type="button">取消</button></div></div></div></div></div><ul class="ant-pagination " unselectable="unselectable" style="margin-top: 10px; float: right;"><li title="上一页" tabindex="0" class="ant-pagination-disabled ant-pagination-prev" aria-disabled="true"><a class="ant-pagination-item-link"></a></li><li title="1" class="ant-pagination-item ant-pagination-item-1 ant-pagination-item-active" tabindex="0"><a>1</a></li><li title="下一页" tabindex="0" class="ant-pagination-disabled ant-pagination-next" aria-disabled="true"><a class="ant-pagination-item-link"></a></li><!-- react-empty: 69 --></ul></div></div></div>
  <div id="footer"></div>

  
  <script src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/vendor.3a2de61fea.js"></script>
  <script src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/app.239b859abb.js"></script>
  <script src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/check-user-info.js"></script>
  
    <script src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/ace-footer"></script>    <link rel="stylesheet" href="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/saved_resource(10)">    <!-- start module -->      <div id="J_9220772140" style="top:-60px; position: relative;"></div>                <div class="aliyun-module" data-homon-module="" data-block-id="" data-id="9220772140" data-spm="J_9220772140" data-module-id="9220772140" data-module-name="@ali/hmod-ace-homepage-2020-hmod-footer" style="background-color: " data-version="0.0.34" data-spm-anchor-id="5176.12282029.0.J_9220772140.3bf33dd7EY80oy" data-aplus-ae="3" data-has-render="true"><div class="componenet-wrap ace-render-3" data-key="9220772140" data-component-name="@ali/hmod-ace-homepage-2020-hmod-footer"><div class="ace-homepage-2020-hmod-footer ace-view-fullColumn" style="background: rgb(37, 37, 37); opacity: 1;"><div class="ace-view-center"><div class="homepage-footer-wrap homepage"><div class="homepage-footer-top"><div class="homepage-footer-consult"><div class="consult-text">售前咨询</div><div class="consult-text">95187转1</div><div class="consult-text"><a class="ace-link ace-link-primary consult-link" href="https://www.aliyun.com/support/95187" target="_blank">专业技术咨询</a></div><div class="consult-text"><a class="ace-link ace-link-primary consult-link" href="https://www.aliyun.com/support/95187" target="_blank">全方位产品解读</a></div><div class="consult-text"><a class="ace-link ace-link-primary consult-link" href="https://www.aliyun.com/solution/all" target="_blank">成熟解决方案</a></div><div class="consult-text"><a class="ace-link ace-link-primary consult-link" href="https://help.aliyun.com/learn/case-studies.html" target="_blank">成功客户案例分享</a></div></div><div class="homepage-footer-main-services"><div class="ali-main-services"><span class="ali-main-services-title">支持与服务</span><a class="ace-link ace-link-primary ali-main-services-link" href="https://www.aliyun.com/contact" target="_blank">联系我们</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://www.aliyun.com/support/supportplans" target="_blank">支持计划</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://help.aliyun.com/learn/getting-started.html" target="_blank">新手学堂</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://help.aliyun.com/" target="_blank">帮助文档</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://help.aliyun.com/learn/tool.html" target="_blank">自助工具</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://www.aliyun.com/service/list#f1" target="_blank">咨询与设计</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://www.aliyun.com/service/list#f2" target="_blank">迁移与部署</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://www.aliyun.com/service/list#f3" target="_blank">运维与管理</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://www.aliyun.com/service/list#f4" target="_blank">优化与提升</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://help.aliyun.com/noticelist.html" target="_blank">公告</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://www.aliyun.com/connect/home" target="_blank">聆听·建议反馈</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://www.aliyun.com/service/customer-case" target="_blank">服务案例</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://cloudshare.aliyun.com/" target="_blank">专家分享</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://www.aliyun.com/cmc" target="_blank">上云能力中心CMC</a></div><div class="ali-main-services"><span class="ali-main-services-title">账户管理</span><a class="ace-link ace-link-primary ali-main-services-link" href="https://homenew.console.aliyun.com/" target="_blank">管理控制台</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://beian.aliyun.com/order/selfBaIndex.htm" target="_blank">备案管理</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://dc.console.aliyun.com/next/index" target="_blank">域名控制台</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://account.console.aliyun.com/" target="_blank">账号管理</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://www.aliyun.com/yunfenqi/promotion" target="_blank">云分期</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://usercenter2.aliyun.com/home" target="_blank">充值付款</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://help.aliyun.com/knowledge_detail/37108.html" target="_blank">线下汇款/电汇</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://help.aliyun.com/knowledge_detail/37079.html" target="_blank">合同申请</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://help.aliyun.com/knowledge_detail/37053.html" target="_blank">索取发票</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://security.aliyun.com/trust" target="_blank">合规性</a></div><div class="ali-main-services"><span class="ali-main-services-title">快速入口</span><a class="ace-link ace-link-primary ali-main-services-link" href="https://whois.aliyun.com/" target="_blank">域名信息查询（WHOIS）</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://www.aliyun.com/product/new" target="_blank">云产品快报</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://www.aliyun.com/chinaglobal/home" target="_blank">海外上云</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://help.aliyun.com/learn/case-studies.html" target="_blank">客户案例</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://report.aliyun.com/" target="_blank">举报中心</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://security.aliyun.com/trust" target="_blank">信任中心</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://help.aliyun.com/knowledge_detail/67830.html" target="_blank">产品图标</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://help.aliyun.com/learn/learningpath" target="_blank">产品学习路径</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://edu.aliyun.com/certification" target="_blank">阿里云认证</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://mvp.aliyun.com/" target="_blank">贡献者榜单</a></div><div class="ali-main-services"><span class="ali-main-services-title">资源和社区</span><a class="ace-link ace-link-primary ali-main-services-link" href="https://developer.aliyun.com/" target="_blank">开发者社区</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://developer.aliyun.com/learning" target="_blank">开发者学院</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://developer.aliyun.com/live" target="_blank">公开课</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://developer.aliyun.com/ask" target="_blank">问答</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://developer.aliyun.com/ebook" target="_blank">藏经阁</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://tianchi.aliyun.com/home" target="_blank">天池平台</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://chuangke.aliyun.com/" target="_blank">阿里云创新中心</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://edu.aliyun.com/" target="_blank">阿里云大学</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://edu.aliyun.com/developer" target="_blank">在线学习</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://edu.aliyun.com/lab/" target="_blank">开放实验室</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://edu.aliyun.com/certification" target="_blank">考试认证</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://edu.aliyun.com/campus" target="_blank">高校合作</a><a class="ace-link ace-link-primary ali-main-services-link" href="https://greencode.aliyun.com/" target="_blank">码上公益</a></div><div class="ali-main-services"><span class="ali-main-services-title">关注阿里云</span><a class="ace-link ace-link-primary ali-main-services-link" href="https://tianchi.aliyun.com/forum/postDetail?postId=122736" target="_blank">企业决策必读<img data-src="https://img.alicdn.com/tfs/TB1kxFBNgHqK1RjSZFkXXX.WFXa-176-176.png" class="code-hide"></a><a class="ace-link ace-link-primary ali-main-services-link" href="https://tianchi.aliyun.com/forum/postDetail?postId=122736" target="_blank">阿里云APP<img data-src="https://img.alicdn.com/tfs/TB1UdKEM6TpK1RjSZKPXXa3UpXa-256-256.png" class="code-hide"></a><a class="ace-link ace-link-primary ali-main-services-link" href="https://tianchi.aliyun.com/forum/postDetail?postId=122736" target="_blank">阿里云微信<img data-src="https://img.alicdn.com/tfs/TB1AOdINW6qK1RjSZFmXXX0PFXa-258-258.jpg" class="code-hide"></a><a class="ace-link ace-link-primary ali-main-services-link" href="https://tianchi.aliyun.com/forum/postDetail?postId=122736" target="_blank">阿里云微博<img data-src="https://img.alicdn.com/tfs/TB1DMXjNgDqK1RjSZSyXXaxEVXa-260-260.png" class="code-hide"></a><a class="ace-link ace-link-primary ali-main-services-link" href="https://tianchi.aliyun.com/forum/postDetail?postId=122736" target="_blank">阿里云支持与服务<img data-src="https://img.alicdn.com/tfs/TB1Ra0oNhTpK1RjSZR0XXbEwXXa-260-260.png" class="ali-official-code"></a></div></div></div><div class="ali-product"><div class="ali-product-list"><span class="product-list-title">热门产品</span><div class="product-list-wrap"><a class="ace-link ace-link-primary product-list-link" href="https://free.aliyun.com/" target="_blank">免费试用</a><a class="ace-link ace-link-primary product-list-link" href="https://ai.aliyun.com/imagesearch" target="_blank">图像搜索</a><a class="ace-link ace-link-primary product-list-link" href="https://ai.aliyun.com/face" target="_blank">人脸识别</a><a class="ace-link ace-link-primary product-list-link" href="https://ai.aliyun.com/alimt" target="_blank">机器翻译</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/bastionhost" target="_blank">堡垒机</a><a class="ace-link ace-link-primary product-list-link" href="https://ai.aliyun.com/image" target="_blank">图像识别</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/sms" target="_blank">短信服务</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/dingtalkpro" target="_blank">专属钉钉</a><a class="ace-link ace-link-primary product-list-link" href="https://ai.aliyun.com/nls" target="_blank">智能语音交互</a></div></div><div class="ali-product-list"><span class="product-list-title">用户热搜</span><div class="product-list-wrap"><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/1212/home" target="_blank">阿里云双十二</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/bigdata/product/elasticsearch" target="_blank">Elasticserch</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/slb" target="_blank">负载均衡</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/network/nat" target="_blank">NAT 网关</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/eip" target="_blank">弹性公网 IP</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/vod" target="_blank">视频点播</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/security/markets/aliyun/product/cas" target="_blank">SSL 证书</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/saf" target="_blank">风险识别</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/sos" target="_blank">安全管家</a></div></div><div class="ali-product-list"><span class="product-list-title">企业场景</span><div class="product-list-wrap"><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/feitianvip" target="_blank">飞天会员</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/1212/home#J_9475087660" target="_blank">企业拼团</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/yunfenqi/promotion" target="_blank">云分期</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/solution/all" target="_blank">一站式解决方案</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/list" target="_blank">阿里云产品</a><a class="ace-link ace-link-primary product-list-link" href="https://chuangke.aliyun.com/szwqsy/" target="_blank">深圳万企上云补贴</a><a class="ace-link ace-link-primary product-list-link" href="https://chuangke.aliyun.com/live/" target="_blank">创新创业直播间</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/activity/qy/top" target="_blank">企业专场销量榜单</a><a class="ace-link ace-link-primary product-list-link" href="https://wanwang.aliyun.com/mail" target="_blank">企业邮箱</a></div></div><div class="ali-product-list"><span class="product-list-title">更多推荐</span><div class="product-list-wrap"><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/bigdata/hologram" target="_blank">Hologres</a><a class="ace-link ace-link-primary product-list-link" href="https://ai.aliyun.com/nlp" target="_blank">自然语言处理</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/security/ddos" target="_blank">DDoS防护</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/config" target="_blank">配置审计</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/vs" target="_blank">视频监控</a><a class="ace-link ace-link-primary product-list-link" href="https://ai.aliyun.com/vi/censor" target="_blank">视频审核</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/iot/iot_instc_public_cn" target="_blank">企业物联网平台</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/product/ccc" target="_blank">云呼叫中心</a><a class="ace-link ace-link-primary product-list-link" href="https://www.aliyun.com/teambition" target="_blank">Teambition</a></div></div></div><div class="ali-about-container"><div class="about-link-wrap"><a class="ace-link ace-link-primary ali-about-link" href="https://www.aliyun.com/about" target="_blank">关于我们</a><a class="ace-link ace-link-primary ali-about-link" href="http://terms.aliyun.com/legal-agreement/terms/suit_bu1_ali_cloud/suit_bu1_ali_cloud201902141711_54837.html" target="_blank">法律声明及隐私权政策</a><a class="ace-link ace-link-primary ali-about-link" href="https://jubao.alibaba.com/" target="_blank">廉正举报</a><a class="ace-link ace-link-primary ali-about-link" href="https://www.aliyun.com/contact" target="_blank">联系我们</a><a class="ace-link ace-link-primary ali-about-link" href="https://www.aliyun.com/careers" target="_blank">加入阿里云</a></div><div class="friend-link-wrap"><a class="ace-link ace-link-primary ali-friend-link" href="https://www.alibabagroup.com/cn/global/home" target="_blank">阿里巴巴集团</a><a class="ace-link ace-link-primary ali-friend-link" href="https://www.taobao.com/" target="_blank">淘宝网</a><a class="ace-link ace-link-primary ali-friend-link" href="https://www.tmall.com/" target="_blank">天猫</a><a class="ace-link ace-link-primary ali-friend-link" href="https://ju.taobao.com/" target="_blank">聚划算</a><a class="ace-link ace-link-primary ali-friend-link" href="https://www.aliexpress.com/" target="_blank">全球速卖通</a><a class="ace-link ace-link-primary ali-friend-link" href="https://www.alibaba.com/" target="_blank">阿里巴巴国际交易市场</a><a class="ace-link ace-link-primary ali-friend-link" href="https://www.1688.com/" target="_blank">1688</a><a class="ace-link ace-link-primary ali-friend-link" href="https://www.alimama.com/index.htm" target="_blank">阿里妈妈</a><a class="ace-link ace-link-primary ali-friend-link" href="https://www.alimama.com/index.htm" target="_blank">飞猪</a><a class="ace-link ace-link-primary ali-friend-link" href="https://www.aliyun.com/" target="_blank">阿里云计算</a><a class="ace-link ace-link-primary ali-friend-link" href="https://www.alios.cn/" target="_blank">AliOS</a><a class="ace-link ace-link-primary ali-friend-link" href="https://aliqin.tmall.com/" target="_blank">阿里通信</a><a class="ace-link ace-link-primary ali-friend-link" href="https://wanwang.aliyun.com/" target="_blank">万网</a><a class="ace-link ace-link-primary ali-friend-link" href="https://mobile.amap.com/" target="_blank">高德</a><a class="ace-link ace-link-primary ali-friend-link" href="https://www.uc.cn/" target="_blank">UC</a><a class="ace-link ace-link-primary ali-friend-link" href="https://www.umeng.com/" target="_blank">友盟</a><a class="ace-link ace-link-primary ali-friend-link" href="https://www.xiami.com/" target="_blank">虾米</a><a class="ace-link ace-link-primary ali-friend-link" href="https://www.youku.com/" target="_blank">优酷</a><a class="ace-link ace-link-primary ali-friend-link" href="https://www.dingtalk.com/" target="_blank">钉钉</a><a class="ace-link ace-link-primary ali-friend-link" href="https://www.alipay.com/" target="_blank">支付宝</a><a class="ace-link ace-link-primary ali-friend-link" href="https://damo.alibaba.com/" target="_blank">达摩院</a><a class="ace-link ace-link-primary ali-friend-link" href="https://s.alibaba.com/?scene=clinks" target="_blank">阿里安全</a><div class="ali-copyright-text">© 2009-2021 Aliyun.com 版权所有 增值电信业务经营许可证： <a href="http://beian.miit.gov.cn/" target="_blank">浙B2-20080101</a></div></div><div class="ali-report-wrap"><a class="ace-link ace-link-primary ali-report-link" href="http://idinfo.zjamr.zj.gov.cn/bscx.do?method=lzxx&amp;id=3301963301080000025024" target="_blank"><img data-src="//gw.alicdn.com/tfs/TB1GxwdSXXXXXa.aXXXXXXXXXXX-65-70.gif" class="ali-report-img"></a><a class="ace-link ace-link-primary ali-report-link" href="http://www.beian.gov.cn/portal/registerSystemInfo" target="_blank"><img data-src="//img.alicdn.com/tfs/TB1..50QpXXXXX7XpXXXXXXXXXX-40-40.png" class="ali-report-img"><span class="ali-report-link-text">浙公网安备 33010602009975号</span></a></div></div> </div></div></div></div></div>                <div class="aliyun-module-config"><textarea class="aliyun-module-data" data-target="9220772140" style="display:none;">          {"webchat":[],"showStyle":"首页","recommendText":"留下您的联系方式，专属客户经理会高效快速帮您解决上云问题，同时可获得专属优惠","blackPage":[],"advantages":[{"content":"售前咨询"},{"content":"95187转1"},{"content":"专业技术咨询","link":"https://www.aliyun.com/support/95187"},{"content":"全方位产品解读","link":"https://www.aliyun.com/support/95187"},{"content":"成熟解决方案","link":"https://www.aliyun.com/solution/all"},{"content":"成功客户案例分享","link":"https://help.aliyun.com/learn/case-studies.html"}],"mainServices":[{"subTitle":[{"serviceText":"联系我们","serviceLink":"https://www.aliyun.com/contact"},{"serviceText":"支持计划","serviceLink":"https://www.aliyun.com/support/supportplans"},{"serviceText":"新手学堂","serviceLink":"https://help.aliyun.com/learn/getting-started.html"},{"serviceText":"帮助文档","serviceLink":"https://help.aliyun.com/"},{"serviceText":"自助工具","serviceLink":"https://help.aliyun.com/learn/tool.html"},{"serviceText":"咨询与设计","serviceLink":"https://www.aliyun.com/service/list#f1"},{"serviceText":"迁移与部署","serviceLink":"https://www.aliyun.com/service/list#f2"},{"serviceLink":"https://www.aliyun.com/service/list#f3","serviceText":"运维与管理"},{"serviceText":"优化与提升","serviceLink":"https://www.aliyun.com/service/list#f4"},{"serviceText":"公告","serviceLink":"https://help.aliyun.com/noticelist.html"},{"serviceText":"聆听·建议反馈","serviceLink":"https://www.aliyun.com/connect/home"},{"serviceText":"服务案例","serviceLink":"https://www.aliyun.com/service/customer-case"},{"serviceText":"专家分享","serviceLink":"https://cloudshare.aliyun.com/"},{"serviceLink":"https://www.aliyun.com/cmc","serviceText":"上云能力中心CMC"}],"title":"支持与服务"},{"title":"账户管理","subTitle":[{"serviceText":"管理控制台","serviceLink":"https://homenew.console.aliyun.com/"},{"serviceText":"备案管理","serviceLink":"https://beian.aliyun.com/order/selfBaIndex.htm"},{"serviceText":"域名控制台","serviceLink":"https://dc.console.aliyun.com/next/index"},{"serviceText":"账号管理","serviceLink":"https://account.console.aliyun.com/"},{"serviceText":"云分期","serviceLink":"https://www.aliyun.com/yunfenqi/promotion"},{"serviceText":"充值付款","serviceLink":"https://usercenter2.aliyun.com/home"},{"serviceText":"线下汇款/电汇","serviceLink":"https://help.aliyun.com/knowledge_detail/37108.html"},{"serviceText":"合同申请","serviceLink":"https://help.aliyun.com/knowledge_detail/37079.html"},{"serviceText":"索取发票","serviceLink":"https://help.aliyun.com/knowledge_detail/37053.html"},{"serviceText":"合规性","serviceLink":"https://security.aliyun.com/trust"}]},{"title":"快速入口","subTitle":[{"serviceText":"域名信息查询（WHOIS）","serviceLink":"https://whois.aliyun.com/"},{"serviceText":"云产品快报","serviceLink":"https://www.aliyun.com/product/new"},{"serviceText":"海外上云","serviceLink":"https://www.aliyun.com/chinaglobal/home"},{"serviceText":"客户案例","serviceLink":"https://help.aliyun.com/learn/case-studies.html"},{"serviceText":"举报中心","serviceLink":"https://report.aliyun.com/"},{"serviceText":"信任中心","serviceLink":"https://security.aliyun.com/trust"},{"serviceText":"产品图标","serviceLink":"https://help.aliyun.com/knowledge_detail/67830.html"},{"serviceText":"产品学习路径","serviceLink":"https://help.aliyun.com/learn/learningpath"},{"serviceText":"阿里云认证","serviceLink":"https://edu.aliyun.com/certification"},{"serviceText":"贡献者榜单","serviceLink":"https://mvp.aliyun.com/"}]},{"title":"资源和社区","subTitle":[{"serviceText":"开发者社区","serviceLink":"https://developer.aliyun.com/"},{"serviceText":"开发者学院","serviceLink":"https://developer.aliyun.com/learning"},{"serviceText":"公开课","serviceLink":"https://developer.aliyun.com/live"},{"serviceText":"问答","serviceLink":"https://developer.aliyun.com/ask"},{"serviceText":"藏经阁","serviceLink":"https://developer.aliyun.com/ebook"},{"serviceText":"天池平台","serviceLink":"https://tianchi.aliyun.com/home"},{"serviceText":"阿里云创新中心","serviceLink":"https://chuangke.aliyun.com/"},{"serviceText":"阿里云大学","serviceLink":"https://edu.aliyun.com/"},{"serviceText":"在线学习","serviceLink":"https://edu.aliyun.com/developer"},{"serviceText":"开放实验室","serviceLink":"https://edu.aliyun.com/lab/"},{"serviceText":"考试认证","serviceLink":"https://edu.aliyun.com/certification"},{"serviceText":"高校合作","serviceLink":"https://edu.aliyun.com/campus"},{"serviceText":"码上公益","serviceLink":"https://greencode.aliyun.com/"}]}],"focusUs":{"title":"关注阿里云","tips":[{"tipsName":"企业决策必读","tipsLink":"","codeImgSrc":"https://img.alicdn.com/tfs/TB1kxFBNgHqK1RjSZFkXXX.WFXa-176-176.png"},{"tipsName":"阿里云APP","tipsLink":"","codeImgSrc":"https://img.alicdn.com/tfs/TB1UdKEM6TpK1RjSZKPXXa3UpXa-256-256.png"},{"tipsName":"阿里云微信","tipsLink":"","codeImgSrc":"https://img.alicdn.com/tfs/TB1AOdINW6qK1RjSZFmXXX0PFXa-258-258.jpg"},{"tipsName":"阿里云微博","tipsLink":"","codeImgSrc":"https://img.alicdn.com/tfs/TB1DMXjNgDqK1RjSZSyXXaxEVXa-260-260.png"},{"tipsName":"阿里云支持与服务","codeImgSrc":"https://img.alicdn.com/tfs/TB1Ra0oNhTpK1RjSZR0XXbEwXXa-260-260.png"}]},"products":[{"productList":[{"productName":"免费试用","productLink":"https://free.aliyun.com/"},{"productName":"图像搜索","productLink":"https://ai.aliyun.com/imagesearch"},{"productName":"人脸识别","productLink":"https://ai.aliyun.com/face"},{"productName":"机器翻译","productLink":"https://ai.aliyun.com/alimt"},{"productName":"堡垒机","productLink":"https://www.aliyun.com/product/bastionhost"},{"productName":"图像识别","productLink":"https://ai.aliyun.com/image"},{"productName":"短信服务","productLink":"https://www.aliyun.com/product/sms"},{"productName":"专属钉钉","productLink":"https://www.aliyun.com/product/dingtalkpro"},{"productName":"智能语音交互","productLink":"https://ai.aliyun.com/nls"}],"title":"热门产品"},{"title":"用户热搜","productList":[{"productName":"阿里云双十二","productLink":"https://www.aliyun.com/1212/home"},{"productName":"Elasticserch","productLink":"https://www.aliyun.com/product/bigdata/product/elasticsearch"},{"productName":"负载均衡","productLink":"https://www.aliyun.com/product/slb"},{"productName":"NAT 网关","productLink":"https://www.aliyun.com/product/network/nat"},{"productName":"弹性公网 IP","productLink":"https://www.aliyun.com/product/eip"},{"productName":"视频点播","productLink":"https://www.aliyun.com/product/vod"},{"productName":"SSL 证书","productLink":"https://www.aliyun.com/product/security/markets/aliyun/product/cas"},{"productName":"风险识别","productLink":"https://www.aliyun.com/product/saf"},{"productName":"安全管家","productLink":"https://www.aliyun.com/product/sos"}]},{"title":"企业场景","productList":[{"productName":"飞天会员","productLink":"https://www.aliyun.com/feitianvip"},{"productName":"企业拼团","productLink":"https://www.aliyun.com/1212/home#J_9475087660"},{"productName":"云分期","productLink":"https://www.aliyun.com/yunfenqi/promotion"},{"productName":"一站式解决方案","productLink":"https://www.aliyun.com/solution/all"},{"productName":"阿里云产品","productLink":"https://www.aliyun.com/product/list"},{"productName":"深圳万企上云补贴","productLink":"https://chuangke.aliyun.com/szwqsy/"},{"productName":"创新创业直播间","productLink":"https://chuangke.aliyun.com/live/"},{"productName":"企业专场销量榜单","productLink":"https://www.aliyun.com/activity/qy/top"},{"productName":"企业邮箱","productLink":"https://wanwang.aliyun.com/mail"}]},{"title":"更多推荐","productList":[{"productName":"Hologres","productLink":"https://www.aliyun.com/product/bigdata/hologram"},{"productName":"自然语言处理","productLink":"https://ai.aliyun.com/nlp"},{"productName":"DDoS防护","productLink":"https://www.aliyun.com/product/security/ddos"},{"productName":"配置审计","productLink":"https://www.aliyun.com/product/config"},{"productName":"视频监控","productLink":"https://www.aliyun.com/product/vs"},{"productName":"视频审核","productLink":"https://ai.aliyun.com/vi/censor"},{"productName":"企业物联网平台","productLink":"https://www.aliyun.com/product/iot/iot_instc_public_cn"},{"productName":"云呼叫中心","productLink":"https://www.aliyun.com/product/ccc"},{"productName":"Teambition","productLink":"https://www.aliyun.com/teambition"}]}],"copyright":{"copyrightText":"© 2009-2021 Aliyun.com 版权所有 增值电信业务经营许可证： &lt;a href=\"http://beian.miit.gov.cn/\" target=\"_blank\"&gt;浙B2-20080101&lt;/a&gt;","aboutList":[{"aboutName":"关于我们","aboutLink":"https://www.aliyun.com/about"},{"aboutName":"法律声明及隐私权政策","aboutLink":"http://terms.aliyun.com/legal-agreement/terms/suit_bu1_ali_cloud/suit_bu1_ali_cloud201902141711_54837.html"},{"aboutName":"廉正举报","aboutLink":"https://jubao.alibaba.com/"},{"aboutName":"联系我们","aboutLink":"https://www.aliyun.com/contact"},{"aboutName":"加入阿里云","aboutLink":"https://www.aliyun.com/careers"}],"friendList":[{"friendName":"阿里巴巴集团","friendLink":"https://www.alibabagroup.com/cn/global/home"},{"friendName":"淘宝网","friendLink":"https://www.taobao.com/"},{"friendName":"天猫","friendLink":"https://www.tmall.com/"},{"friendName":"聚划算","friendLink":"https://ju.taobao.com/"},{"friendName":"全球速卖通","friendLink":"https://www.aliexpress.com/"},{"friendName":"阿里巴巴国际交易市场","friendLink":"https://www.alibaba.com/"},{"friendName":"1688","friendLink":"https://www.1688.com/"},{"friendName":"阿里妈妈","friendLink":"https://www.alimama.com/index.htm"},{"friendName":"飞猪","friendLink":"https://www.alimama.com/index.htm"},{"friendName":"阿里云计算","friendLink":"https://www.aliyun.com/"},{"friendName":"AliOS","friendLink":"https://www.alios.cn/"},{"friendName":"阿里通信","friendLink":"https://aliqin.tmall.com/"},{"friendName":"万网","friendLink":"https://wanwang.aliyun.com/"},{"friendName":"高德","friendLink":"https://mobile.amap.com/"},{"friendName":"UC","friendLink":"https://www.uc.cn/"},{"friendName":"友盟","friendLink":"https://www.umeng.com/"},{"friendName":"虾米","friendLink":"https://www.xiami.com/"},{"friendName":"优酷","friendLink":"https://www.youku.com/"},{"friendName":"钉钉","friendLink":"https://www.dingtalk.com/"},{"friendName":"支付宝","friendLink":"https://www.alipay.com/"},{"friendName":"达摩院","friendLink":"https://damo.alibaba.com/"},{"friendName":"阿里安全","friendLink":"https://s.alibaba.com/?scene=clinks"}],"recordText":"浙公网安备 33010602009975号","reportList":[{"reportLink":"http://idinfo.zjamr.zj.gov.cn/bscx.do?method=lzxx&amp;id=3301963301080000025024","logoSrc":"//gw.alicdn.com/tfs/TB1GxwdSXXXXXa.aXXXXXXXXXXX-65-70.gif"},{"logoSrc":"//img.alicdn.com/tfs/TB1..50QpXXXXX7XpXXXXXXXXXX-40-40.png","reportLink":"http://www.beian.gov.cn/portal/registerSystemInfo"}]},"h5HotProduct":[{"title":"云服务器","href":"https://www.aliyun.com/product/ecs/detailmb"},{"title":"域名注册","href":"https://m.aliyun.com/product/domain"},{"href":"https://m.aliyun.com/act/api","title":"1分钱API服务"},{"title":"云虚拟主机","href":"https://m.aliyun.com/product/hosting"}],"showConsultation":"隐藏"}        </textarea><textarea class="aliyun-module-settings" data-target="9220772140" style="display:none;">          {"recommend":{"visibleMode":"default"},"anchor":{"visibleMode":"all"},"pc":{"background":"","horizontal":"默认","verticalNumber":0,"marginTop":"0","marginBottom":"0","contentBackground":"","paddingHoz":"0","paddingTop":"0","paddingBottom":"0","backgroundImage":"","autoHeight":false},"h5":{"background":"","horizontal":"默认","verticalNumber":0,"marginTop":"0","marginBottom":"0","contentBackground":"","paddingHoz":"0","paddingTop":"0","paddingBottom":"0","backgroundImage":"","autoHeight":false}}        </textarea></div>                    <!-- end module -->
  
  


<script src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/c.php"></script><style>:root{--t1:#fff;--t2:#f4f4f4;--t3:#ededed;--t4:#d8d8d8;--t5:#b3b3b3;--t6:#999;--t7:#666;--t8:#3d3d3d;--t9:#181818;--mode:dark;--c1:#136DFB;--l4:#398BFC;--l3:#82B7FD;--l2:#CDE2FE;--l1:#E7F0FF;--d1:#0D59C9;--d2:#074397;--d3:#032D65;--d4:#011632}</style><iframe src="./【详细注释+流程讲解】基于深度学习的文本分类 TextCNN-天池技术圈-天池技术讨论区_files/blk.html" id="_oid_ifr_" style="width: 0px; height: 0px; display: none;"></iframe></body></html>