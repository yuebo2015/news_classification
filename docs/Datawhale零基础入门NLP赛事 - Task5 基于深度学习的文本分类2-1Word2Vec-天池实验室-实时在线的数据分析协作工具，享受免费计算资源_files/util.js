function getParams(e){return new RegExp("(^|\\?|&)"+e+"=([^&]*)(\\s|&|$)","i").test(location.href)?unescape(RegExp.$2.replace(/\+/g," ")):""}function goLogin(){var e=getCookieItem("aliyun_site"),t=getCookieItem("lang"),o=("INTL"==e||"en"==t?"en":"zh").toLowerCase().match(/zh|cn/)?"/home/auth/aliyun/login?site=cn":"/home/auth/aliyun/login?site=intl";window.location.href=o,window.top.location.href=o}function getCookieItem(e){var t={},o=window.document.cookie.split(";");if(o.length){for(var i=0;i<o.length;i++){var n=o[i].split("=");t[n[0].trim()]=n[1].trim()}return t[e]||""}return""}function setCookie(e,t,o){console.log("setCookie:",e+"="+t+";path=/;expires="+o+";"),document.cookie=e+"="+t+";path=/;expires="+o+";"}function checkPerfectInfo(){var e=$(".aliyun-header").data("userflag"),t=window.location.href;return!e||(window.location.href="/home/user/validate?callback="+t,!1)}function checkPerfectUser(){var e=$(".aliyun-header").data("userflag"),t=$(".aliyun-header").data("isperfect"),o=window.location.href;return e?(window.location.href="/home/user/validate?callback="+o,!1):!!t||(window.location.href="/home/profile?callback="+o,!1)}function getQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),o=window.location.search.substr(1).match(t);return null!=o?unescape(o[2]):null}function browserRedirect(){var e=navigator.userAgent.toLowerCase(),t=(e.match(/ipad/i),"iphone os"==e.match(/iphone os/i)),o="midp"==e.match(/midp/i),i="rv:1.2.3.4"==e.match(/rv:1.2.3.4/i),n="ucweb"==e.match(/ucweb/i),a="android"==e.match(/android/i),l="windows ce"==e.match(/windows ce/i),c="windows mobile"==e.match(/windows mobile/i);if(t||o||i||n||a||l||c){console.log("移动端设备");let e=location.pathname,t=location.hostname,o="";if(console.log("pathname:",e),/^\/competition\/gameList\/activeList$/.test(e))o="/mobile/game";else if(/^\/competition\/entrance\/[0-9]*\//.test(e)){o=`/mobile/gameDetail/${e.split("/")[3]}`}else if(/^\/course\/video$/.test(e)){o=`/mobile/video/${getQueryString("liveId")}`}else if(/^\/course\/live$/.test(e)){o=`/mobile/live/${getQueryString("liveId")}`}else if(/^\/forum\/$/.test(e))o="/mobile/techCircle";else if(/^\/forum\/postDetail$/.test(e)||/^\/forum\/issueDetail$/.test(e)){o=`/mobile/techDetail/${getQueryString("postId")}`}else if(/^\/home\/profile$/.test(e))o="/mobile/user";else if(/^\/notebook-ai\/detail$/.test(e)){o=`/mobile/notebookDetail/${getQueryString("postId")}`}else{if(/^\/dataset/.test(e))return;if("chongqing.tianchi.aliyun.com"==t)return;o="/mobile/"}console.log("mobilePath:",o),location.href=location.origin+o}else console.log("pc端设备")}function addEvent(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent?e.attachEvent("on"+t,o):e["on"+t]=o}function loadNotice(){var e=window.location.pathname,t=$("body").data("currentlang"),o="zh-cn"==t?"查看详情":"Detail";-1!==e.indexOf("course")?e.indexOf("courseConsole"):-1===e.indexOf("notebook-ai")||e.match(/(gpuApply|protocol|detail)/),"zh-cn"==t&&$.ajax({method:"GET",url:"/home/api/notice?lang="+t}).done((function(e){var t=getCookieItem("message_flag").split(","),i=e.data||{},n=i.content||"",a=i.link||"",l=i.id,c=new Date;if(n&&t.indexOf(String(l))<0){var r=document.createElement("div");r.setAttribute("class","notice-info");var s=a&&"#"!=a,d=`<div class="notice-wrap"><i></i><span class="${s?"":"nolink"}">`+n+"</span>";s&&(d+='<a class="notice-detial" target="_blank" href='+a+">"+o+"</a>"),d+='<a href="#" class="notice-close"></a></div></div>',r.innerHTML=d,document.body.insertBefore(r,document.body.firstChild),$(".notice-info .notice-close").on("click",(function(){$(".notice-info").hide(),t.push(l),c.setTime(c.getTime()+2592e6),console.log("message expires:",c.toUTCString()),setCookie("message_flag",t,c.toUTCString())}))}}))}browserRedirect(),addEvent(window,"load",loadNotice);